
supabase self-hosting
–ú–∏–≥—Ä–∞—Ü–∏–∏ –≤ PostgreSQL: –æ—Å–Ω–æ–≤—ã –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
PKCE –≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏: –æ—Å–Ω–æ–≤—ã –∏ —Ä–∞–±–æ—Ç–∞
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Supabase
–∫–∞–∫ –ª—É—á—à–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å—Ö–µ–º—ã –≤ –ë–î –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Supabase
–û—Ç–ª–∞–¥–∫–∞ –ø—É—Ç–∏ input.json –≤ VSCode
Docker
Debugging Cortex Analyzer Launch Issues
Supabase
Onlook
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ onlook client –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Next.js
n8n
vscode debug tscript app
–û–±—Å—É–∂–¥–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è .mjs –≤ JavaScript
Using env_file in Docker Compose configuration
Drizzle Kit Configuration for Supabase Integration
Mermaid
mermaid
kcloacl
supabase –ª–æ–≥–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
taskfile.yaml venv: desc: "
supabase –∫–∞–∫ —Å–≤–∑—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
Supabase Configuration Secrets Overview
Database Push Error Solutions and Debugging
Troubleshooting Keycloak Connection Issues
def main() -> None: """–ó–∞–ø—É—Å
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Bun –Ω–∞ —Ä–∞–∑–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
Node.js Version Verification Command Issue
Fix Docker Compose File Validation Errors
–ü–µ—Ä–µ–Ω–æ—Å –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Go –≤ –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
Bun: –±—ã—Å—Ç—Ä—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è JavaScript
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ MATCH –≤ Cypher
Docker Compose Variable Loading Solutions
–û—à–∏–±–∫–∞ GPG –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ v2raya
Jupyter_Analyzer: –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö
Clarification on the meaning of "ivre"
–ö–∞–∫ –æ–ø–∏—Å–∞—Ç—å —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –≤ –∞–Ω–∫–µ—Ç–µ
–°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –∫–ª—é—á–µ–π APT
Synapse —á—Ç–æ —ç—Ç–æ
–û–±–∑–æ—Ä API Cisco Umbrella Investigation
WebRTC: Real-Time Peer-to-Peer Communication Explained
Hashdd: File Hash Reputation Platform Overview
TestDisk –∏ PhotoRec: –æ—Ç–ª–∏—á–∏—è –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è GreyNoise —Å Cortex Analyzer
Google Cloud Vision API Overview and Features
GNU ddrescue Flash Recovery Log Analysis
Integrated Graphics Share Memory Explained Simply
Disk Partition Geometry Mismatch Analysis
–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ JPEG —Ñ–∞–π–ª–æ–≤ –ø–æ –¥–∞—Ç–∞–º
Google Safe Browsing Overview and Functionality
Resolving APT Lock During System Reboot
Diario Malware Analysis Cortex Analyzer Overview
Fast Boot –∏ Fast Startup –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ
Resize ext4 Filesystem with resize2fs
{ "name": "CrowdstrikeFalcon
Fixing Incorrect Fstab Mount Syntax Error
CrowdStrike Falcon Overview and Features
Crowdsec Analyzer Configuration and Details
–û—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –≤ Jira –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–µ
–ü–µ—Ä–∏—Ñ–æ–∫–∞–ª—å–Ω—ã–π –æ—Ç–µ–∫: –ø—Ä–∏—á–∏–Ω—ã, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, –ª–µ—á–µ–Ω–∏–µ
–ú–†–¢ –ø–æ—è—Å–Ω–∏—á–Ω–æ–≥–æ –æ—Ç–¥–µ–ª–∞ –ø–æ–∑–≤–æ–Ω–æ—á–Ω–∏–∫–∞
Axur Threat Intelligence Analyzer Configuration
Ext4 Defragmentation Results and Recommendations
fsck.ext2 -N Dry-Run Mode Explained
URLhaus Malware Analyzer Configuration Overview
Monitoring Virtual Machines with htop
Troubleshooting Go Module Import Error
GraphQL Schema Corrections and Improvements
CheckPhish: Real-Time Phishing Detection Tool
Understanding Kubernetes Audit Logging Essentials
lshw Command for Hardware Information
–£–∑–Ω–∞—Ç—å –º–æ–¥–µ–ª—å –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã –∏–∑ –∫–æ–Ω—Å–æ–ª–∏
–û—à–∏–±–∫–∞ –∂–µ—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞ –∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
Web of Trust Domain Reputation Checker
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏ –≤ VSCode –¥–ª—è workspace
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–∏—Å–∞ byedpi
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ gopls –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ Go
smartctl -a
–ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã: –∞–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω
VS Code Processes and Performance Analysis
MDS CPU —É—Ç–µ—á–∫–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º
–ò—Å–∫–ª—é—á–∏—Ç—å —Ñ–∞–π–ª –∏–∑ –∏–Ω–¥–µ–∫—Å–∞ Git
Vulners IOC Analyzer for TheHive Integration
–ó–∞–∫–æ–Ω—ã —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏ –≤ —è–∑—ã–∫–µ Go
Umbrella Reporting API Analyzer Configuration
SpamAssassin –∏ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Cortex
SentinelOne: –∑–∞—â–∏—Ç–∞ –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫ –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è
golang yaml unmarshaler –ø—Ä–∏–º–µ—Ä
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ UnmarshalJSON –¥–ª—è —É–∫–∞–∑–∞—Ç–µ–ª—è
Auto-Generated Enum Methods Implementation
–û—à–∏–±–∫–∞ stringer: –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å –ø–∞–∫–µ—Ç–æ–º strconv
Severe Storage Device Error Detected
go gey update
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ kworker –≤ Ubuntu
–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ Insomnia
–û—à–∏–±–∫–∏ –∂–µ—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞ –∏ –∏—Ö —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ
Update Go Module to Latest Version
go lang –∫–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–µ –ø—Ä–∏–ª
Git –±—ç–∫–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –æ—Å–Ω–æ–≤—ã –∏ –ø—Ä–∏–º–µ—Ä—ã
–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–æ–¥—É–ª—è Go v2
supabase self-hosting
supabase  self hosting —Å–æ–∑–¥–∞–π env —Ñ–∞–π–ª –¥–ª—è –Ω–µ–µ
–ú—ã —Å–æ–∑–¥–∞–µ–º .env —Ñ–∞–π–ª –¥–ª—è —Å–∞–º–æ—Ö–æ—Å—Ç–∞ Supabase.
–í Supabase —Å–∞–º–æ—Ö–æ—Å—Ç–µ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–æ–≤, –∏ –Ω–∞–º –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
–û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã: –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL), –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, Realtime, REST API –∏ —Ç.–¥.
–û–¥–Ω–∞–∫–æ, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ø–æ—Å–æ–±–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (docker-compose, Kubernetes) –∏ –≤–µ—Ä—Å–∏–∏, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–≥—É—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å—Å—è.

–î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É —á–µ—Ä–µ–∑ docker-compose, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —Å–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±.

–í –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Supabase –¥–ª—è —Å–∞–º–æ—Ö–æ—Å—Ç–∞ –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä docker-compose.yml –∏ .env —Ñ–∞–π–ª.

–í–æ—Ç –ø—Ä–∏–º–µ—Ä .env —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ—Å–Ω–æ–≤—É:

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ó–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.

–¢–∞–∫–∂–µ –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤ docker-compose.yml –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —ç—Ç–æ–≥–æ .env —Ñ–∞–π–ª–∞.

–ú—ã —Å–æ–∑–¥–∞–¥–∏–º .env —Ñ–∞–π–ª —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–º–µ–Ω–∏—Ç—å.

–í–∞–∂–Ω–æ: –≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —á—Ç–æ –∏ docker-compose.yml, –∏–Ω–∞—á–µ –Ω—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Ç—å.

–î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ .env —Ñ–∞–π–ª–∞:

–í–æ—Ç –ø—Ä–∏–º–µ—Ä .env —Ñ–∞–π–ª–∞ –¥–ª—è self-hosting Supabase —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker Compose. –û—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:

env
# –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, —Å–µ—Ç–µ–π –∏ —Ç.–¥.)
COMPOSE_PROJECT_NAME=supabase

# -----------------------------------------------
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PostgreSQL
# -----------------------------------------------
POSTGRES_PASSWORD=your_strong_password_here
# –ü–æ—Ä—Ç –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL —Å —Ö–æ—Å—Ç–∞
POSTGRES_PORT=5432

# -----------------------------------------------
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Studio (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
# -----------------------------------------------
# –ü–æ—Ä—Ç –¥–ª—è Studio (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
STUDIO_PORT=3000
# –û—Ç–∫–ª—é—á–∏—Ç—å Telemetry (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è self-hosted)
DISABLE_TELEMETRY=true
# –í–∫–ª—é—á–∏—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ Studio
ENABLE_MONITORING=false

# -----------------------------------------------
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (Auth)
# -----------------------------------------------
# –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á JWT (–º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)
JWT_SECRET=your_super_secret_jwt_key_here
# –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ access token (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
JWT_EXPIRY=3600
# –í–∫–ª—é—á–∏—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—ã–µ signup
ENABLE_ANONYMOUS_SIGNUPS=false

# -----------------------------------------------
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Storage
# -----------------------------------------------
# –†–µ–≥–∏–æ–Ω –¥–ª—è Storage (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'us-east-1')
STORAGE_REGION=us-east-1
# –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –¥–ª—è —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Storage
STORAGE_FILE_SIZE_LIMIT=52428800

# -----------------------------------------------
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SMTP (–¥–ª—è email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
# -----------------------------------------------
# SMTP —Ö–æ—Å—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email (–Ω–∞–ø—Ä–∏–º–µ—Ä, smtp.gmail.com)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_SENDER_EMAIL=noreply@example.com
# –í–∫–ª—é—á–∏—Ç—å SSL –¥–ª—è SMTP (true/false)
SMTP_SSL_ENABLED=false

# -----------------------------------------------
# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
# -----------------------------------------------
# –ü–æ—Ä—Ç –¥–ª—è API (Kong)
KONG_PORT=8000
# –ü–æ—Ä—Ç –¥–ª—è Inbucket (email —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
INBUCKET_PORT=9000
# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–≤–ª–∏—è–µ—Ç –Ω–∞ –ª–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫—É)
ENVIRONMENT=production
# –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (–¥–ª—è –±—É–¥—É—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π)
ENCRYPTION_SECRET=your_encryption_secret_here
# URL –≤–∞—à–µ–≥–æ –∏–Ω—Å—Ç–∞–Ω—Å–∞ (–¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å—Å—ã–ª–æ–∫ –≤ email)
SITE_URL=http://localhost:8000
ADDITIONAL_REDIRECT_URLS=
–í–∞–∂–Ω—ã–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞:

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è your_* –Ω–∞ —Å–≤–æ–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

POSTGRES_PASSWORD ‚Äî –º–∏–Ω–∏–º—É–º 12 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã/—Ü–∏—Ñ—Ä—ã/—Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã

JWT_SECRET ‚Äî —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ openssl rand -base64 32

ENCRYPTION_SECRET ‚Äî —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ openssl rand -base64 32

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏):

env
SMTP_HOST=smtp.gmail.com
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password
–î–ª—è production –∏–∑–º–µ–Ω–∏—Ç–µ:

env
SITE_URL=https://your-domain.com
ENABLE_MONITORING=true
–ó–∞–ø—É—Å–∫:

bash
# –°–∫–∞—á–∞–π—Ç–µ docker-compose.yml
curl -L https://raw.githubusercontent.com/supabase/supabase/master/docker/docker-compose.yml -o docker-compose.yml

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose --env-file .env up -d
–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ email –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SMTP

–î–ª—è HTTPS –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ reverse-–ø—Ä–æ–∫—Å–∏ (Nginx/Caddy) –ø–µ—Ä–µ–¥ Kong

–í—Å–µ –ø–∞—Ä–æ–ª–∏/—Å–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω–∏—Ç–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –º–µ–Ω–µ–¥–∂–µ—Ä–µ –ø–∞—Ä–æ–ª–µ–π)

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö: Environment Variables

$ docker-compose ps
ERROR: The Compose file './docker-compose.yml' is invalid because:
'name' does not match any of the regexes: '^x-'

You might be seeing this error because you're using the wrong Compose file version. Either specify a supported version (e.g "2.2" or "3.3") and place your service definitions under the `services` key, or omit the `version` key and place your service definitions at the root of the file to use version 1.
For more on the Compose file format versions, see https://docs.docker.com/compose/compose-file/
services.studio.environment.NEXT_PUBLIC_ENABLE_LOGS contains true, which is an invalid type, it should be a string, number, or a null
services.analytics.environment.LOGFLARE_SINGLE_TENANT contains true, which is an invalid type, it should be a string, number, or a null
services.supavisor.environment.CLUSTER_POSTGRES contains true, which is an invalid type, it should be a string, number, or a null version: '3.8'
# Usage
#   Start:              docker compose up
#   With helpers:       docker compose -f docker-compose.yml -f ./dev/docker-compose.dev.yml up
#   Stop:               docker compose down
#   Destroy:            docker compose -f docker-compose.yml -f ./dev/docker-compose.dev.yml down -v --remove-orphans
#   Reset everything:  ./reset.sh

name: supabase

services:

  studio:
    container_name: supabase-studio
    image: supabase/studio:2025.12.09-sha-434634f
    restart: unless-stopped
    healthcheck:
      test:
        [
          "CMD",
          "node",
          "-e",
          "fetch('http://studio:3000/api/platform/profile').then((r) => {if (r.status !== 200) throw new Error(r.status)})"
        ]
      timeout: 10s
      interval: 5s
      retries: 3
    depends_on:
      analytics:
        condition: service_healthy
    environment:
      # Binds nestjs listener to both IPv4 and IPv6 network interfaces
      HOSTNAME: "::"

      STUDIO_PG_META_URL: http://meta:8080
      POSTGRES_PORT: ${POSTGRES_PORT}
      POSTGRES_HOST: ${POSTGRES_HOST}
      POSTGRES_DB: ${POSTGRES_DB}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      PG_META_CRYPTO_KEY: ${PG_META_CRYPTO_KEY}

      DEFAULT_ORGANIZATION_NAME: ${STUDIO_DEFAULT_ORGANIZATION}
      DEFAULT_PROJECT_NAME: ${STUDIO_DEFAULT_PROJECT}
      OPENAI_API_KEY: ${OPENAI_API_KEY:-}

      SUPABASE_URL: http://kong:8000
      SUPABASE_PUBLIC_URL: ${SUPABASE_PUBLIC_URL}
      SUPABASE_ANON_KEY: ${ANON_KEY}
      SUPABASE_SERVICE_KEY: ${SERVICE_ROLE_KEY}
      AUTH_JWT_SECRET: ${JWT_SECRET}

      # LOGFLARE_API_KEY is deprecated
      LOGFLARE_API_KEY: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
      LOGFLARE_PUBLIC_ACCESS_TOKEN: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
      LOGFLARE_PRIVATE_ACCESS_TOKEN: ${LOGFLARE_PRIVATE_ACCESS_TOKEN}

      LOGFLARE_URL: http://analytics:4000
      NEXT_PUBLIC_ENABLE_LOGS: true
      # Comment to use Big Query backend for analytics
      NEXT_ANALYTICS_BACKEND_PROVIDER: postgres
      # Uncomment to use Big Query backend for analytics
      # NEXT_ANALYTICS_BACKEND_PROVIDER: bigquery

  kong:
    container_name: supabase-kong
    image: kong:2.8.1
    restart: unless-stopped
    ports:
      - ${KONG_HTTP_PORT}:8000/tcp
      - ${KONG_HTTPS_PORT}:8443/tcp
    volumes:
      # https://github.com/supabase/supabase/issues/12661
      - ./volumes/api/kong.yml:/home/kong/temp.yml:ro,z
    depends_on:
      analytics:
        condition: service_healthy
    environment:
      KONG_DATABASE: "off"
      KONG_DECLARATIVE_CONFIG: /home/kong/kong.yml
      # https://github.com/supabase/cli/issues/14
      KONG_DNS_ORDER: LAST,A,CNAME
      KONG_PLUGINS: request-transformer,cors,key-auth,acl,basic-auth,request-termination,ip-restriction
      KONG_NGINX_PROXY_PROXY_BUFFER_SIZE: 160k
      KONG_NGINX_PROXY_PROXY_BUFFERS: 64 160k
      SUPABASE_ANON_KEY: ${ANON_KEY}
      SUPABASE_SERVICE_KEY: ${SERVICE_ROLE_KEY}
      DASHBOARD_USERNAME: ${DASHBOARD_USERNAME}
      DASHBOARD_PASSWORD: ${DASHBOARD_PASSWORD}
    # https://unix.stackexchange.com/a/294837
    entrypoint: bash -c 'eval "echo \"$$(cat ~/temp.yml)\"" > ~/kong.yml && /docker-entrypoint.sh kong docker-start'

  auth:
    container_name: supabase-auth
    image: supabase/gotrue:v2.183.0
    restart: unless-stopped
    healthcheck:
      test:
        [
          "CMD",
          "wget",
          "--no-verbose",
          "--tries=1",
          "--spider",
          "http://localhost:9999/health"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      analytics:
        condition: service_healthy
    environment:
      GOTRUE_API_HOST: 0.0.0.0
      GOTRUE_API_PORT: 9999
      API_EXTERNAL_URL: ${API_EXTERNAL_URL}

      GOTRUE_DB_DRIVER: postgres
      GOTRUE_DB_DATABASE_URL: postgres://supabase_auth_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

      GOTRUE_SITE_URL: ${SITE_URL}
      GOTRUE_URI_ALLOW_LIST: ${ADDITIONAL_REDIRECT_URLS}
      GOTRUE_DISABLE_SIGNUP: ${DISABLE_SIGNUP}

      GOTRUE_JWT_ADMIN_ROLES: service_role
      GOTRUE_JWT_AUD: authenticated
      GOTRUE_JWT_DEFAULT_GROUP_NAME: authenticated
      GOTRUE_JWT_EXP: ${JWT_EXPIRY}
      GOTRUE_JWT_SECRET: ${JWT_SECRET}

      GOTRUE_EXTERNAL_EMAIL_ENABLED: ${ENABLE_EMAIL_SIGNUP}
      GOTRUE_EXTERNAL_ANONYMOUS_USERS_ENABLED: ${ENABLE_ANONYMOUS_USERS}
      GOTRUE_MAILER_AUTOCONFIRM: ${ENABLE_EMAIL_AUTOCONFIRM}

      # Uncomment to bypass nonce check in ID Token flow. Commonly set to true when using Google Sign In on mobile.
      # GOTRUE_EXTERNAL_SKIP_NONCE_CHECK: true

      # GOTRUE_MAILER_SECURE_EMAIL_CHANGE_ENABLED: true
      # GOTRUE_SMTP_MAX_FREQUENCY: 1s
      GOTRUE_SMTP_ADMIN_EMAIL: ${SMTP_ADMIN_EMAIL}
      GOTRUE_SMTP_HOST: ${SMTP_HOST}
      GOTRUE_SMTP_PORT: ${SMTP_PORT}
      GOTRUE_SMTP_USER: ${SMTP_USER}
      GOTRUE_SMTP_PASS: ${SMTP_PASS}
      GOTRUE_SMTP_SENDER_NAME: ${SMTP_SENDER_NAME}
      GOTRUE_MAILER_URLPATHS_INVITE: ${MAILER_URLPATHS_INVITE}
      GOTRUE_MAILER_URLPATHS_CONFIRMATION: ${MAILER_URLPATHS_CONFIRMATION}
      GOTRUE_MAILER_URLPATHS_RECOVERY: ${MAILER_URLPATHS_RECOVERY}
      GOTRUE_MAILER_URLPATHS_EMAIL_CHANGE: ${MAILER_URLPATHS_EMAIL_CHANGE}

      GOTRUE_EXTERNAL_PHONE_ENABLED: ${ENABLE_PHONE_SIGNUP}
      GOTRUE_SMS_AUTOCONFIRM: ${ENABLE_PHONE_AUTOCONFIRM}
      # Uncomment to enable custom access token hook. Please see: https://supabase.com/docs/guides/auth/auth-hooks for full list of hooks and additional details about custom_access_token_hook

      # GOTRUE_HOOK_CUSTOM_ACCESS_TOKEN_ENABLED: "true"
      # GOTRUE_HOOK_CUSTOM_ACCESS_TOKEN_URI: "pg-functions://postgres/public/custom_access_token_hook"
      # GOTRUE_HOOK_CUSTOM_ACCESS_TOKEN_SECRETS: "<standard-base64-secret>"

      # GOTRUE_HOOK_MFA_VERIFICATION_ATTEMPT_ENABLED: "true"
      # GOTRUE_HOOK_MFA_VERIFICATION_ATTEMPT_URI: "pg-functions://postgres/public/mfa_verification_attempt"

      # GOTRUE_HOOK_PASSWORD_VERIFICATION_ATTEMPT_ENABLED: "true"
      # GOTRUE_HOOK_PASSWORD_VERIFICATION_ATTEMPT_URI: "pg-functions://postgres/public/password_verification_attempt"

      # GOTRUE_HOOK_SEND_SMS_ENABLED: "false"
      # GOTRUE_HOOK_SEND_SMS_URI: "pg-functions://postgres/public/custom_access_token_hook"
      # GOTRUE_HOOK_SEND_SMS_SECRETS: "v1,whsec_VGhpcyBpcyBhbiBleGFtcGxlIG9mIGEgc2hvcnRlciBCYXNlNjQgc3RyaW5n"

      # GOTRUE_HOOK_SEND_EMAIL_ENABLED: "false"
      # GOTRUE_HOOK_SEND_EMAIL_URI: "http://host.docker.internal:54321/functions/v1/email_sender"
      # GOTRUE_HOOK_SEND_EMAIL_SECRETS: "v1,whsec_VGhpcyBpcyBhbiBleGFtcGxlIG9mIGEgc2hvcnRlciBCYXNlNjQgc3RyaW5n"

  rest:
    container_name: supabase-rest
    image: postgrest/postgrest:v14.1
    restart: unless-stopped
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      analytics:
        condition: service_healthy
    environment:
      PGRST_DB_URI: postgres://authenticator:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
      PGRST_DB_SCHEMAS: ${PGRST_DB_SCHEMAS}
      PGRST_DB_ANON_ROLE: anon
      PGRST_JWT_SECRET: ${JWT_SECRET}
      PGRST_DB_USE_LEGACY_GUCS: "false"
      PGRST_APP_SETTINGS_JWT_SECRET: ${JWT_SECRET}
      PGRST_APP_SETTINGS_JWT_EXP: ${JWT_EXPIRY}
    command:
      [
        "postgrest"
      ]

  realtime:
    # This container name looks inconsistent but is correct because realtime constructs tenant id by parsing the subdomain
    container_name: realtime-dev.supabase-realtime
    image: supabase/realtime:v2.68.0
    restart: unless-stopped
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      analytics:
        condition: service_healthy
    healthcheck:
      test:
        [
          "CMD-SHELL",
          "curl -sSfL --head -o /dev/null -H \"Authorization: Bearer ${ANON_KEY}\" http://localhost:4000/api/tenants/realtime-dev/health"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    environment:
      PORT: 4000
      DB_HOST: ${POSTGRES_HOST}
      DB_PORT: ${POSTGRES_PORT}
      DB_USER: supabase_admin
      DB_PASSWORD: ${POSTGRES_PASSWORD}
      DB_NAME: ${POSTGRES_DB}
      DB_AFTER_CONNECT_QUERY: 'SET search_path TO _realtime'
      DB_ENC_KEY: supabaserealtime
      API_JWT_SECRET: ${JWT_SECRET}
      SECRET_KEY_BASE: ${SECRET_KEY_BASE}
      ERL_AFLAGS: -proto_dist inet_tcp
      DNS_NODES: "''"
      RLIMIT_NOFILE: "10000"
      APP_NAME: realtime
      SEED_SELF_HOST: "true"
      RUN_JANITOR: "true"

  # To use S3 backed storage: docker compose -f docker-compose.yml -f docker-compose.s3.yml up
  storage:
    container_name: supabase-storage
    image: supabase/storage-api:v1.33.0
    restart: unless-stopped
    volumes:
      - ./volumes/storage:/var/lib/storage:z
    healthcheck:
      test:
        [
          "CMD",
          "wget",
          "--no-verbose",
          "--tries=1",
          "--spider",
          "http://storage:5000/status"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      rest:
        condition: service_started
      imgproxy:
        condition: service_started
    environment:
      ANON_KEY: ${ANON_KEY}
      SERVICE_KEY: ${SERVICE_ROLE_KEY}
      POSTGREST_URL: http://rest:3000
      PGRST_JWT_SECRET: ${JWT_SECRET}
      DATABASE_URL: postgres://supabase_storage_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
      REQUEST_ALLOW_X_FORWARDED_PATH: "true"
      FILE_SIZE_LIMIT: 52428800
      STORAGE_BACKEND: file
      FILE_STORAGE_BACKEND_PATH: /var/lib/storage
      TENANT_ID: stub
      # TODO: https://github.com/supabase/storage-api/issues/55
      REGION: stub
      GLOBAL_S3_BUCKET: stub
      ENABLE_IMAGE_TRANSFORMATION: "true"
      IMGPROXY_URL: http://imgproxy:5001

  imgproxy:
    container_name: supabase-imgproxy
    image: darthsim/imgproxy:v3.8.0
    restart: unless-stopped
    volumes:
      - ./volumes/storage:/var/lib/storage:z
    healthcheck:
      test:
        [
          "CMD",
          "imgproxy",
          "health"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    environment:
      IMGPROXY_BIND: ":5001"
      IMGPROXY_LOCAL_FILESYSTEM_ROOT: /
      IMGPROXY_USE_ETAG: "true"
      IMGPROXY_ENABLE_WEBP_DETECTION: ${IMGPROXY_ENABLE_WEBP_DETECTION}

  meta:
    container_name: supabase-meta
    image: supabase/postgres-meta:v0.93.1
    restart: unless-stopped
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      analytics:
        condition: service_healthy
    environment:
      PG_META_PORT: 8080
      PG_META_DB_HOST: ${POSTGRES_HOST}
      PG_META_DB_PORT: ${POSTGRES_PORT}
      PG_META_DB_NAME: ${POSTGRES_DB}
      PG_META_DB_USER: supabase_admin
      PG_META_DB_PASSWORD: ${POSTGRES_PASSWORD}
      CRYPTO_KEY: ${PG_META_CRYPTO_KEY}

  functions:
    container_name: supabase-edge-functions
    image: supabase/edge-runtime:v1.69.28
    restart: unless-stopped
    volumes:
      - ./volumes/functions:/home/deno/functions:Z
    depends_on:
      analytics:
        condition: service_healthy
    environment:
      JWT_SECRET: ${JWT_SECRET}
      SUPABASE_URL: http://kong:8000
      SUPABASE_ANON_KEY: ${ANON_KEY}
      SUPABASE_SERVICE_ROLE_KEY: ${SERVICE_ROLE_KEY}
      SUPABASE_DB_URL: postgresql://postgres:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
      # TODO: Allow configuring VERIFY_JWT per function. This PR might help: https://github.com/supabase/cli/pull/786
      VERIFY_JWT: "${FUNCTIONS_VERIFY_JWT}"
    command:
      [
        "start",
        "--main-service",
        "/home/deno/functions/main"
      ]

  analytics:
    container_name: supabase-analytics
    image: supabase/logflare:1.26.25
    restart: unless-stopped
    ports:
      - 4000:4000
    # Uncomment to use Big Query backend for analytics
    # volumes:
    #   - type: bind
    #     source: ${PWD}/gcloud.json
    #     target: /opt/app/rel/logflare/bin/gcloud.json
    #     read_only: true
    healthcheck:
      test:
        [
          "CMD",
          "curl",
          "http://localhost:4000/health"
        ]
      timeout: 5s
      interval: 5s
      retries: 10
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
    environment:
      LOGFLARE_NODE_HOST: 127.0.0.1
      DB_USERNAME: supabase_admin
      DB_DATABASE: _supabase
      DB_HOSTNAME: ${POSTGRES_HOST}
      DB_PORT: ${POSTGRES_PORT}
      DB_PASSWORD: ${POSTGRES_PASSWORD}
      DB_SCHEMA: _analytics
      LOGFLARE_PUBLIC_ACCESS_TOKEN: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
      LOGFLARE_PRIVATE_ACCESS_TOKEN: ${LOGFLARE_PRIVATE_ACCESS_TOKEN}
      LOGFLARE_SINGLE_TENANT: true
      LOGFLARE_SUPABASE_MODE: true

      # Comment variables to use Big Query backend for analytics
      POSTGRES_BACKEND_URL: postgresql://supabase_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/_supabase
      POSTGRES_BACKEND_SCHEMA: _analytics
      LOGFLARE_FEATURE_FLAG_OVERRIDE: multibackend=true
      # Uncomment to use Big Query backend for analytics
      # GOOGLE_PROJECT_ID: ${GOOGLE_PROJECT_ID}
      # GOOGLE_PROJECT_NUMBER: ${GOOGLE_PROJECT_NUMBER}

  # Comment out everything below this point if you are using an external Postgres database
  db:
    container_name: supabase-db
    image: supabase/postgres:15.8.1.085
    restart: unless-stopped
    volumes:
      - ./volumes/db/realtime.sql:/docker-entrypoint-initdb.d/migrations/99-realtime.sql:Z
      # Must be superuser to create event trigger
      - ./volumes/db/webhooks.sql:/docker-entrypoint-initdb.d/init-scripts/98-webhooks.sql:Z
      # Must be superuser to alter reserved role
      - ./volumes/db/roles.sql:/docker-entrypoint-initdb.d/init-scripts/99-roles.sql:Z
      # Initialize the database settings with JWT_SECRET and JWT_EXP
      - ./volumes/db/jwt.sql:/docker-entrypoint-initdb.d/init-scripts/99-jwt.sql:Z
      # PGDATA directory is persisted between restarts
      - ./volumes/db/data:/var/lib/postgresql/data:Z
      # Changes required for internal supabase data such as _analytics
      - ./volumes/db/_supabase.sql:/docker-entrypoint-initdb.d/migrations/97-_supabase.sql:Z
      # Changes required for Analytics support
      - ./volumes/db/logs.sql:/docker-entrypoint-initdb.d/migrations/99-logs.sql:Z
      # Changes required for Pooler support
      - ./volumes/db/pooler.sql:/docker-entrypoint-initdb.d/migrations/99-pooler.sql:Z
      # Use named volume to persist pgsodium decryption key between restarts
      - db-config:/etc/postgresql-custom
    healthcheck:
      test:
        [
        "CMD",
        "pg_isready",
        "-U",
        "postgres",
        "-h",
        "localhost"
        ]
      interval: 5s
      timeout: 5s
      retries: 10
    depends_on:
      vector:
        condition: service_healthy
    environment:
      POSTGRES_HOST: /var/run/postgresql
      PGPORT: ${POSTGRES_PORT}
      POSTGRES_PORT: ${POSTGRES_PORT}
      PGPASSWORD: ${POSTGRES_PASSWORD}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      PGDATABASE: ${POSTGRES_DB}
      POSTGRES_DB: ${POSTGRES_DB}
      JWT_SECRET: ${JWT_SECRET}
      JWT_EXP: ${JWT_EXPIRY}
    command:
      [
        "postgres",
        "-c",
        "config_file=/etc/postgresql/postgresql.conf",
        "-c",
        "log_min_messages=fatal" # prevents Realtime polling queries from appearing in logs
      ]

  vector:
    container_name: supabase-vector
    image: timberio/vector:0.28.1-alpine
    restart: unless-stopped
    volumes:
      - ./volumes/logs/vector.yml:/etc/vector/vector.yml:ro,z
      - ${DOCKER_SOCKET_LOCATION}:/var/run/docker.sock:ro,z
    healthcheck:
      test:
        [
          "CMD",
          "wget",
          "--no-verbose",
          "--tries=1",
          "--spider",
          "http://vector:9001/health"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    environment:
      LOGFLARE_PUBLIC_ACCESS_TOKEN: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
    command:
      [
        "--config",
        "/etc/vector/vector.yml"
      ]
    security_opt:
      - "label=disable"

  # Update the DATABASE_URL if you are using an external Postgres database
  supavisor:
    container_name: supabase-pooler
    image: supabase/supavisor:2.7.4
    restart: unless-stopped
    ports:
      - ${POSTGRES_PORT}:5432
      - ${POOLER_PROXY_PORT_TRANSACTION}:6543
    volumes:
      - ./volumes/pooler/pooler.exs:/etc/pooler/pooler.exs:ro,z
    healthcheck:
      test:
        [
          "CMD",
          "curl",
          "-sSfL",
          "--head",
          "-o",
          "/dev/null",
          "http://127.0.0.1:4000/api/health"
        ]
      interval: 10s
      timeout: 5s
      retries: 5
    depends_on:
      db:
        condition: service_healthy
      analytics:
        condition: service_healthy
    environment:
      PORT: 4000
      POSTGRES_PORT: ${POSTGRES_PORT}
      POSTGRES_DB: ${POSTGRES_DB}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      DATABASE_URL: ecto://supabase_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/_supabase
      CLUSTER_POSTGRES: true
      SECRET_KEY_BASE: ${SECRET_KEY_BASE}
      VAULT_ENC_KEY: ${VAULT_ENC_KEY}
      API_JWT_SECRET: ${JWT_SECRET}
      METRICS_JWT_SECRET: ${JWT_SECRET}
      REGION: local
      ERL_AFLAGS: -proto_dist inet_tcp
      POOLER_TENANT_ID: ${POOLER_TENANT_ID}
      POOLER_DEFAULT_POOL_SIZE: ${POOLER_DEFAULT_POOL_SIZE}
      POOLER_MAX_CLIENT_CONN: ${POOLER_MAX_CLIENT_CONN}
      POOLER_POOL_MODE: transaction
      DB_POOL_SIZE: ${POOLER_DB_POOL_SIZE}
    command:
      [
        "/bin/sh",
        "-c",
        "/app/bin/migrate && /app/bin/supavisor eval \"$$(cat /etc/pooler/pooler.exs)\" && /app/bin/server"
      ]

volumes:
  db-config:
Read 10 web pages
Hmm, the user is trying to self-host Supabase but ran into Docker Compose errors. We previously provided the environment file setup, and now they're sharing the exact error messages when trying to run docker-compose ps.

I can see there are two distinct issues here, and both seem to be related to using the wrong version of Docker Compose. Looking at the user's error messages and the provided docker-compose.yml file, I notice their file has a top-level name: supabase line which is a Compose Specification feature, but they're using the older docker-compose command instead of the newer docker compose command.

The search results confirm this diagnosis.  provides a comprehensive explanation that the top-level name field is only supported in the newer Compose Specification, which requires the newer docker compose command (three words). The older docker-compose command (with a hyphen) doesn't support this feature. This matches the user's exact error message about "'name' does not match any of the regexes: '^x-'".

Additionally,  shows another user with similar issues who solved it by modifying the docker-compose.yml, though their solution was different. However, 's explanation is more comprehensive and directly relevant.

I need to guide the user to verify which Docker Compose version they're using and then provide specific fixes based on their setup. Since the docker-compose.yml file already includes version: '3.8', I should explain how to either remove the conflicting name field or use the modern docker compose command.

For the second error about boolean values needing to be strings, I can see this is a format issue where true/false should be quoted as "true"/"false". I'll provide a specific table showing which lines need to be fixed in their file.

I will present these as two separate troubleshooting steps: first fixing the docker-compose.yml file format, then addressing the boolean values issue. I should also provide verification steps so the user can confirm the fixes worked.

Your Docker Compose errors are due to two separate format issues in your docker-compose.yml file. Here are the fixes:

üîß Fix 1: Address the name Field and Version Format
The top-level name: supabase line uses a newer format that conflicts with the docker-compose command (with a hyphen) .

You have two options:

Remove the name line: Delete the line name: supabase from the very top of your docker-compose.yml file. Keep the version: '3.8' line.

Use the modern docker compose command: If you have the newer Docker Compose V2 plugin (check with docker compose version), you can simply run docker compose up instead of docker-compose up. This command supports the name field.

üîß Fix 2: Quote Boolean Environment Variables
The second set of errors is because several environment variables have unquoted true or false values, which must be strings in YAML .

You need to edit the following lines in the docker-compose.yml file:

Service	Environment Variable	Current Line	Change to
studio	NEXT_PUBLIC_ENABLE_LOGS	NEXT_PUBLIC_ENABLE_LOGS: true	NEXT_PUBLIC_ENABLE_LOGS: "true"
analytics	LOGFLARE_SINGLE_TENANT	LOGFLARE_SINGLE_TENANT: true	LOGFLARE_SINGLE_TENANT: "true"
supavisor	CLUSTER_POSTGRES	CLUSTER_POSTGRES: true	CLUSTER_POSTGRES: "true"
‚úÖ Verify the Fix
After making both changes, run the validation command to check for syntax errors:

bash
docker-compose config
If it runs without errors, you can then start your services with docker-compose up -d.

üí° Summary and Best Practice
To avoid these issues in the future, remember that the official Supabase Docker setup requires the modern docker compose command (three words, no hyphen). This tool correctly parses their provided docker-compose.yml file format.

I recommend checking your Docker Compose version with docker-compose --version and docker compose version. If you only have the older hyphenated command, consider updating to a newer Docker Desktop version or installing the Docker Compose plugin.

Would you like help checking which Docker Compose version you have or troubleshooting the next steps after starting the services?

–ø–µ—Ä–µ–≤–µ–¥–∏
–•–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –æ—Ç–≤–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–∏–π. –°—É–¥—è –ø–æ –∏—Å—Ç–æ—Ä–∏–∏, –æ–Ω —Ä–∞–∑–±–∏—Ä–∞–µ—Ç—Å—è —Å self-hosting Supabase –∏ —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å –æ—à–∏–±–∫–∞–º–∏ –≤ Docker Compose. –í–∏–¥–∏–º–æ, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –Ω–µ –µ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫, –∏ –µ–º—É —É–¥–æ–±–Ω–µ–µ –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º.

–í –ø—Ä–æ—à–ª–æ–º –æ—Ç–≤–µ—Ç–µ –±—ã–ª–∏ –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –¥–≤—É—Ö –ø—Ä–æ–±–ª–µ–º: –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–æ–ª—è name –∏ –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –±—É–ª–µ–≤—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è. –ù—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å—é —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é —Ç–æ—á–Ω–æ—Å—Ç—å, –Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –ø–æ–¥ —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–ú–æ–∂–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ —Ç–∞–∫ –∂–µ: —Å–Ω–∞—á–∞–ª–∞ –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ—Ç–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é. –í–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ‚Äî –æ–Ω–∞ –Ω–∞–≥–ª—è–¥–Ω–∞. –í –∫–æ–Ω—Ü–µ —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ –ø—Ä–æ –∫–æ–º–∞–Ω–¥—ã docker-compose/docker compose, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —á–∞—Å—Ç–∞—è –ø—É—Ç–∞–Ω–∏—Ü–∞.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∫–∞–∂–µ—Ç—Å—è, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–æ–≤–∞–Ω (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å Docker), —Ç–∞–∫ —á—Ç–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã, –Ω–æ –æ–±—ä—è—Å–Ω—è—Ç—å –∏—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—è—Å–Ω–∏—Ç—å –ø—Ä–æ YAML-—Ñ–æ—Ä–º–∞—Ç.

–°—Ç–æ–∏—Ç –∏–∑–±–µ–≥–∞—Ç—å –∫–∞–ª—å–∫–∏ —Å –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –≤—Ä–æ–¥–µ "–±—É–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π" ‚Äî –ª—É—á—à–µ —Å–∫–∞–∑–∞—Ç—å "–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π (true/false)".

–ò, –∫–æ–Ω–µ—á–Ω–æ, –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –¥–∞–ª—å–Ω–µ–π—à—É—é –ø–æ–º–æ—â—å ‚Äî –µ—Å–ª–∏ –æ–Ω —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Supabase, –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞.

–í–∞—à–∏ –æ—à–∏–±–∫–∏ Docker Compose —Å–≤—è–∑–∞–Ω—ã —Å –¥–≤—É–º—è –ø—Ä–æ–±–ª–µ–º–∞–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –≤ —Ñ–∞–π–ª–µ docker-compose.yml. –í–æ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 1: –ü–æ–ª–µ name –∏ –≤–µ—Ä—Å–∏—è —Ñ–æ—Ä–º–∞—Ç–∞
–°—Ç—Ä–æ–∫–∞ name: supabase –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å –∫–æ–º–∞–Ω–¥–æ–π docker-compose (—Å –¥–µ—Ñ–∏—Å–æ–º).

–£ –≤–∞—Å –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:

–£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É name: –£–¥–∞–ª–∏—Ç–µ —Å—Ç—Ä–æ–∫—É name: supabase –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É –≤–∞—à–µ–≥–æ —Ñ–∞–π–ª–∞ docker-compose.yml. –û—Å—Ç–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É version: '3.8'.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É docker compose: –ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –±–æ–ª–µ–µ –Ω–æ–≤—ã–π –ø–ª–∞–≥–∏–Ω Docker Compose V2 (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–∞–Ω–¥–æ–π docker compose version), –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞—Ç—å docker compose up –≤–º–µ—Å—Ç–æ docker-compose up. –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–µ name.

üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 2: –ó–∞–∫–ª—é—á–∏—Ç—å –≤ –∫–∞–≤—ã—á–∫–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–í—Ç–æ—Ä–∞—è –≥—Ä—É–ø–ø–∞ –æ—à–∏–±–æ–∫ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è true –∏–ª–∏ false –±–µ–∑ –∫–∞–≤—ã—á–µ–∫. –í —Ñ–æ—Ä–º–∞—Ç–µ YAML —Ç–∞–∫–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞–º–∏.

–í–∞–º –Ω—É–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ —Ñ–∞–π–ª–µ docker-compose.yml:

–°–µ—Ä–≤–∏—Å	–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è	–¢–µ–∫—É—â–∞—è —Å—Ç—Ä–æ–∫–∞	–ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞
studio	NEXT_PUBLIC_ENABLE_LOGS	NEXT_PUBLIC_ENABLE_LOGS: true	NEXT_PUBLIC_ENABLE_LOGS: "true"
analytics	LOGFLARE_SINGLE_TENANT	LOGFLARE_SINGLE_TENANT: true	LOGFLARE_SINGLE_TENANT: "true"
supavisor	CLUSTER_POSTGRES	CLUSTER_POSTGRES: true	CLUSTER_POSTGRES: "true"
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
–ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –æ–±–æ–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞:

bash
docker-compose config
–ï—Å–ª–∏ –æ–Ω–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫, –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã –∫–æ–º–∞–Ω–¥–æ–π docker-compose up -d.

üí° –†–µ–∑—é–º–µ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–¥–æ–±–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –≤ –±—É–¥—É—â–µ–º, –ø–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –¥–ª—è Docker —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã docker compose (—Ç—Ä–∏ —Å–ª–æ–≤–∞, –±–µ–∑ –¥–µ—Ñ–∏—Å–∞). –≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –∏–º–∏ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ docker-compose.yml.

–†–µ–∫–æ–º–µ–Ω–¥—É—é –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Docker Compose –∫–æ–º–∞–Ω–¥–∞–º–∏ docker-compose --version –∏ docker compose version. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å –¥–µ—Ñ–∏—Å–æ–º, –ø–æ–¥—É–º–∞–π—Ç–µ –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ Docker Desktop –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–ª–∞–≥–∏–Ω–∞ Docker Compose.

–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å –≤ –ø—Ä–æ–≤–µ—Ä–∫–µ –≤–µ—Ä—Å–∏–∏ Docker Compose –∏–ª–∏ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–∞—Ö –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤?

$ docker compose up -d
[+] Running 14/14
 ‚úî Network supabase-project_default          Created                                                                                                                                                                                                    0.3s 
 ‚úî Container supabase-imgproxy               Started                                                                                                                                                                                                   19.6s 
 ‚úî Container supabase-vector                 Healthy                                                                                                                                                                                                   25.2s 
 ‚úî Container supabase-db                     Healthy                                                                                                                                                                                                   72.6s 
 ‚úî Container supabase-analytics              Healthy                                                                                                                                                                                                   60.6s 
 ‚úî Container supabase-meta                   Started                                                                                                                                                                                                   76.3s 
 ‚úî Container supabase-auth                   Started                                                                                                                                                                                                   72.2s 
 ‚úî Container supabase-edge-functions         Started                                                                                                                                                                                                   69.4s 
 ‚úî Container supabase-rest                   Started                                                                                                                                                                                                   66.5s 
 ‚úî Container supabase-studio                 Started                                                                                                                                                                                                   66.0s 
 ‚úî Container supabase-kong                   Started                                                                                                                                                                                                   69.4s 
 ‚úî Container realtime-dev.supabase-realtime  Started                                                                                                                                                                                                   64.8s 
 ‚úî Container supabase-pooler                 Started                                                                                                                                                                                                   62.3s 
 ‚úî Container supabase-storage                Started
–•–æ—Ä–æ—à–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å—Ç–∏–ª Docker Compose –ø–æ—Å–ª–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π. –í–∏–∂—É, —á—Ç–æ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –∑–∞–ø—É—â–µ–Ω—ã, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–∞–∂–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Healthy. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ.

–°—É–¥—è –ø–æ –≤—ã–≤–æ–¥—É, —Å–∏—Å—Ç–µ–º–∞ Supabase –∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å, –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º, –æ—Å–æ–±–µ–Ω–Ω–æ –∫ Studio (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É) –∏ API. –¢–∞–∫–∂–µ –≤–∞–∂–Ω–æ –Ω–∞–ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ .env —Ñ–∞–π–ª –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

–ù—É–∂–Ω–æ –¥–∞—Ç—å –∫—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä –∫–ª—é—á–µ–≤—ã—Ö –ø–æ—Ä—Ç–æ–≤ –∏ —Å—Å—ã–ª–æ–∫, –∞ —Ç–∞–∫–∂–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ. –í–∞–∂–Ω–æ —É–ø–æ–º—è–Ω—É—Ç—å, —á—Ç–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–ª –ø–æ—Ä—Ç—ã –≤ .env, —Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è.

–¢–∞–∫–∂–µ —Å—Ç–æ–∏—Ç –¥–∞—Ç—å —Å–æ–≤–µ—Ç—ã –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏–ª–∏ –≥–¥–µ –Ω–∞–π—Ç–∏ –ª–æ–≥–∏ –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º.

–£—á–∏—Ç—ã–≤–∞—è, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–≤–æ–¥–∏–ª –æ—Ç–≤–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–∏–π, –≤–µ—Ä–æ—è—Ç–Ω–æ, –æ–Ω —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–π, –ø–æ—ç—Ç–æ–º—É –æ—Ç–≤–µ—á—É –Ω–∞ —Ä—É—Å—Å–∫–æ–º, –Ω–æ –æ—Å—Ç–∞–≤–ª—é —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –≤–∞–∂–Ω—ã –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏.

–ü–ª–∞–Ω –æ—Ç–≤–µ—Ç–∞:

–ü–æ–∑–¥—Ä–∞–≤–∏—Ç—å —Å —É—Å–ø–µ—à–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º.

–ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏ –∏—Ö –ø–æ—Ä—Ç—ã (–æ—Å–æ–±–µ–Ω–Ω–æ Studio –Ω–∞ 3000 –∏ API –Ω–∞ 8000).

–ù–∞–ø–æ–º–Ω–∏—Ç—å –æ –≤–∞–∂–Ω–æ—Å—Ç–∏ .env —Ñ–∞–π–ª–∞ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –±—ã–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã.

–î–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–∞–ª—å–Ω–µ–π—à–∏–º —à–∞–≥–∞–º: –¥–æ—Å—Ç—É–ø –∫ Studio, –ø—Ä–æ–≤–µ—Ä–∫–∞ API, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —Ç.–¥.

–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–æ–º–æ—â—å –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º.

–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏ –ø–æ–ª–µ–∑–Ω—ã–º –¥–ª—è –Ω–æ–≤–∏—á–∫–∞, –Ω–æ –±–µ–∑ –∏–∑–ª–∏—à–Ω–µ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å.

–û—Ç–ª–∏—á–Ω–æ! –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã Supabase —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω—ã ‚úÖ

üîó –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –∞–¥—Ä–µ—Å–∞–º:
–°–µ—Ä–≤–∏—Å	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ	URL (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
Studio	–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è	http://localhost:3000
API (Kong)	–û—Å–Ω–æ–≤–Ω–æ–π GraphQL/REST API	http://localhost:8000
Realtime	WebSocket-—Å–µ—Ä–≤–∏—Å	ws://localhost:4000
Analytics	–ü–∞–Ω–µ–ª—å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏	http://localhost:4000
üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
–û—Ç–∫—Ä–æ–π—Ç–µ Studio ‚Üí –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞ http://localhost:3000

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª—é—á–∏ –∏–∑ –≤–∞—à–µ–≥–æ .env —Ñ–∞–π–ª–∞:

ANON_KEY –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

SERVICE_ROLE_KEY –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å API:

bash
curl http://localhost:8000/rest/v1/
–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º, —á—Ç–æ –≤—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ).

–ï—Å–ª–∏ Studio –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

bash
docker compose logs studio
üîê –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:
–ï—Å–ª–∏ –≤—ã –º–µ–Ω—è–ª–∏ –ø–æ—Ä—Ç—ã –≤ .env —Ñ–∞–π–ª–µ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö (3000, 8000 –∏ —Ç.–¥.)

–í –ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ Studio –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SITE_URL –≤ .env –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω

–í–∫–ª—é—á–∏—Ç–µ HTTPS —á–µ—Ä–µ–∑ –æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏ (Nginx/Caddy)

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π SMTP –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

–ö–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å?

ksnip_20251212-153702.png
PNG 66.91KB
–ø–æ—á–µ–º—É –Ω–µ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç, –ø–æ—á–µ–º—É –≤ —Å–ø–∏—Å–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª —Å–∫—Ä–∏–Ω—à–æ—Ç –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Supabase Studio, –≥–¥–µ –≤ —Ä–∞–∑–¥–µ–ª–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤–∏–¥–Ω–æ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ—Ç. –≠—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–æ–µ–∫—Ç —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–ø—É—â–µ–Ω –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –µ—â–µ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å. –ù—É–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (–º–µ—Ç–æ–¥—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏) –ø–æ—è–≤—è—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–∞—á–Ω—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏–ª–∏ –∫–æ–≥–¥–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–æ–±–∞–≤–∏—Ç –∏—Ö –≤—Ä—É—á–Ω—É—é. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –¥–∞—Ç—å —Å–æ–≤–µ—Ç—ã –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –≤–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞.

–ù—É–∂–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –¥–∏–∞–ª–æ–≥ –≤–µ–ª—Å—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º. –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º, –±–µ–∑ –∏–∑–ª–∏—à–Ω–µ–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, –Ω–æ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —à–∞–≥–∞–º–∏, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ—á–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã. –¢–∞–∫–∂–µ —Å—Ç–æ–∏—Ç —É–ø–æ–º—è–Ω—É—Ç—å, —á—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Studio.

–í–∞–∂–Ω–æ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–ø—É—Å—Ç–∏–ª Supabase, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç. –ù—É–∂–Ω–æ —ç—Ç–æ —É—á–µ—Å—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ.

–¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ø—É—Å—Ç–∞—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ –µ—â—ë –Ω–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Äî —ç—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç–∞–Ω—Å–∞ Supabase.

üìå –ü–æ—á–µ–º—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:
–ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π = –ù–µ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Google, GitHub, email/password –∏ —Ç.–¥.) –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–¢–∞–∫ –∫–∞–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ –Ω–∞–ø–∏—Å–∞–Ω–æ "No users in your project", —Ä–∞–∑–¥–µ–ª –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ª–æ–≥–∏—á–Ω–æ –ø—É—Å—Ç–æ–π

–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ

–î–∞–∂–µ –∫–æ–≥–¥–∞ –ø–æ—è–≤—è—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –≤–∫–ª—é—á–∏—Ç—å –Ω—É–∂–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

üîß –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
–®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
–í –ª–µ–≤–æ–º –º–µ–Ω—é Studio –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Authentication ‚Üí Providers

–í–∫–ª—é—á–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:

Email/Password (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π, —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É)

Google/GitHub (—Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ OAuth)

Magic Link –∏ –¥—Ä—É–≥–∏–µ

–®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤:

–°–ø–æ—Å–æ–±	–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å	–ì–¥–µ —É–≤–∏–¥–∏—Ç–µ
–ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å	Authentication ‚Üí Users ‚Üí "Add User"	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—è–≤–∏—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ
–ß–µ—Ä–µ–∑ API	POST /auth/v1/admin/users —Å SERVICE_ROLE_KEY	–î–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É –≤ –ë–î
–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è	–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ–æ—Ä–º—É –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏	–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞
–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É auth.users
–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ PostgreSQL:

sql
SELECT id, email, raw_app_meta_data->'provider' as provider 
FROM auth.users;
üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:
–í Studio: Authentication ‚Üí Providers

–í–∫–ª—é—á–∏—Ç–µ "Email + Password"

–í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ Users ‚Üí "Add User"

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Äî –ø—Ä–æ–≤–∞–π–¥–µ—Ä "email" –ø–æ—è–≤–∏—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ

üí° –í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç:
–ï—Å–ª–∏ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Google, GitHub), –Ω—É–∂–Ω–æ:

–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∏—Ö –∫–æ–Ω—Å–æ–ª—è—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

–ü–æ–ª—É—á–∏—Ç—å Client ID –∏ Secret

–£–∫–∞–∑–∞—Ç—å –∏—Ö –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ Studio

–î–æ–±–∞–≤–∏—Ç—å callback URL: http://localhost:8000/auth/v1/callback

–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞?

–≥–¥–µ –Ω–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ Authentication ‚Üí Providers
–•–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç, –≥–¥–µ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –Ω–∞–π—Ç–∏ —Ä–∞–∑–¥–µ–ª Authentication ‚Üí Providers. –ò–∑ –∏—Å—Ç–æ—Ä–∏–∏ –≤–∏–∂—É, —á—Ç–æ –æ–Ω —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–ø—É—Å—Ç–∏–ª Supabase, –æ—Ç–∫—Ä—ã–ª Studio –∏ –≤–∏–¥–∏—Ç –ø—É—Å—Ç—É—é —Ç–∞–±–ª–∏—Ü—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –≤–µ—Ä–æ—è—Ç–Ω–æ, –Ω–æ–≤–∏—á–æ–∫ –≤ Supabase, –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –¥–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–µ—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏. –ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω –ø—Ä–∏—Å–ª–∞–ª, –≤–∏–¥–Ω–æ —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ‚Äî —Ç–∞–±–ª–∏—Ü—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –†–∞–∑–¥–µ–ª Providers –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ, –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –≤–∏–¥–µ–ª —Ä–∞–∑–¥–µ–ª Users, –∑–Ω–∞—á–∏—Ç –æ–Ω –≤ –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–∞–ª Authentication. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ä—è–¥–æ–º —Å Users –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã. –õ—É—á—à–µ –≤—Å–µ–≥–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –≤—Å–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã Authentication, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ—á–Ω–æ –Ω–∞—à–µ–ª Providers.

–¢–∞–∫–∂–µ —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Ö –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –≤–∫–ª—é—á–∏—Ç—å. –í–∞–∂–Ω–æ –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏: Users –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∞–º–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞ Providers ‚Äî —Å–ø–æ—Å–æ–±—ã –≤—Ö–æ–¥–∞.

–î–æ–±–∞–≤–ª—é –ø—Ä–æ OAuth –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏, –Ω–æ –±–µ–∑ –∏–∑–ª–∏—à–Ω–∏—Ö –¥–µ—Ç–∞–ª–µ–π, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–µ–π—á–∞—Å –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –Ω–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É.

–ù–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ —Ä–∞–∑–¥–µ–ª Authentication ‚Üí Providers –Ω–µ –≤–∏–¥–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å —Ç–æ–ª—å–∫–æ –≤ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ Users.

üìç –ì–¥–µ –Ω–∞–π—Ç–∏ Providers:
–í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –ª–µ–≤–æ–º—É –º–µ–Ω—é (sidebar) Studio

–ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "Authentication" –∏ —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –µ–≥–æ (–Ω–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–µ–ª–æ—á–∫—É –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ)

–í—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–¥—Ä–∞–∑–¥–µ–ª–æ–≤ Authentication:

text
Authentication ‚ñº
‚îú‚îÄ‚îÄ Users          <-- –í—ã —Å–µ–π—á–∞—Å –∑–¥–µ—Å—å (–Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ)
‚îú‚îÄ‚îÄ Providers      <-- –í–æ—Ç —ç—Ç–æ—Ç –ø—É–Ω–∫—Ç –≤–∞–º –Ω—É–∂–µ–Ω
‚îú‚îÄ‚îÄ Policies
‚îú‚îÄ‚îÄ Templates
‚îî‚îÄ‚îÄ Configuration
üñ±Ô∏è –ö–∞–∫ –ø–æ–ø–∞—Å—Ç—å –≤ Providers:
–ù–∞–≤–µ–¥–∏—Ç–µ –∫—É—Ä—Å–æ—Ä –Ω–∞ "Authentication" –≤ –ª–µ–≤–æ–º –º–µ–Ω—é

–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–µ–ª–æ—á–∫—É —Å–ø—Ä–∞–≤–∞, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫

–í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç "Providers" - –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ –≤—Ö–æ–¥–∞

üéØ –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤ Providers:
–ü–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:

Email/Password (–≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

Magic Link

Google (—Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ OAuth)

GitHub (—Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ OAuth)

Apple, Azure, Discord –∏ –¥—Ä—É–≥–∏–µ

üí° –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤ Studio:
–°–≤–µ—Ä—Ö—É —Å–ª–µ–≤–∞ –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞ –∏–∫–æ–Ω–∫–∞ –º–µ–Ω—é (‚ò∞) - –µ—Å–ª–∏ –º–µ–Ω—é —Å–∫—Ä—ã—Ç–æ, –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–µ

–†–∞–∑–¥–µ–ª—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (Authentication, Database, Storage –∏ —Ç.–¥.)

–¢–µ–∫—É—â–∏–π —Ä–∞–∑–¥–µ–ª –æ–±—ã—á–Ω–æ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è –≤ –º–µ–Ω—é

–ï—Å–ª–∏ –≤—ã –Ω–µ –≤–∏–¥–∏—Ç–µ –º–µ–Ω—é —Å–ª–µ–≤–∞, –≤–æ–∑–º–æ–∂–Ω–æ, –æ–Ω–æ —Å–∫—Ä—ã—Ç–æ - –Ω–∞–π–¥–∏—Ç–µ –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É "—Ç—Ä–∏ –ø–æ–ª–æ—Å–∫–∏" (‚ò∞) –≤ –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º —É–≥–ª—É Studio.

–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –Ω–∞–π–¥–µ—Ç–µ —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª?

—Ö–º, –µ—Å–ª–∏ —Ç—ã –Ω–µ –∑–∞–º–µ—Ç–∏–ª —Ç–æ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª Authentication
–•–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ —É–∂–µ –≤–∏–¥–µ–Ω —Ä–∞–∑–¥–µ–ª Authentication, –Ω–æ —è —Ä–∞–Ω–µ–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–ª, —á—Ç–æ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ª–µ–≤–æ–µ –º–µ–Ω—é. –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–∂–∏–¥–∞–µ—Ç —É–≤–∏–¥–µ—Ç—å –ø—É–Ω–∫—Ç "Providers" –ø—Ä—è–º–æ –Ω–∞ —Ç–µ–∫—É—â–µ–º —ç–∫—Ä–∞–Ω–µ, –Ω–æ –µ–≥–æ —Ç–∞–º –Ω–µ—Ç.

–ù—É–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ. –í–∏–¥–∏–º–æ, –≤ –ª–µ–≤–æ–π —á–∞—Å—Ç–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ –µ—Å—Ç—å –±–æ–∫–æ–≤–æ–µ –º–µ–Ω—é —Å —Ä–∞—Å–∫—Ä—ã—Ç—ã–º —Ä–∞–∑–¥–µ–ª–æ–º Authentication, –≥–¥–µ –≤—ã–¥–µ–ª–µ–Ω –ø–æ–¥—Ä–∞–∑–¥–µ–ª "Users". –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –≤–µ—Ä–æ—è—Ç–Ω–æ, –Ω–µ –≤–∏–¥–∏—Ç, —á—Ç–æ "Providers" ‚Äî —ç—Ç–æ –¥—Ä—É–≥–æ–π –ø–æ–¥—Ä–∞–∑–¥–µ–ª —Ç–æ–≥–æ –∂–µ —Ä–∞–∑–¥–µ–ª–∞, –¥–æ—Å—Ç—É–ø–Ω—ã–π –ø–æ –∫–ª–∏–∫—É.

–°—Ç–æ–∏—Ç –æ–ø–∏—Å–∞—Ç—å, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: —Å–ª–µ–≤–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –º–µ–Ω—é, —Ä–∞–∑–¥–µ–ª Authentication –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å–∫—Ä—ã—Ç, –ø–æ–∫–∞–∑—ã–≤–∞—è —Å–ø–∏—Å–æ–∫ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–æ–≤. "Users" –∏ "Providers" –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ –≤ —ç—Ç–æ–º —Å–ø–∏—Å–∫–µ. –ß—Ç–æ–±—ã –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è, –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π –ø—É–Ω–∫—Ç.

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ —É–ø–æ–º—è–Ω—É—Ç—å, —á—Ç–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Studio –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã –º–æ–≥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫ –≤–∫–ª–∞–¥–∫–∏ (—Ç–∞–±—ã) –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–º–µ—Ç–∏–ª —ç—Ç–∏ –≤–∫–ª–∞–¥–∫–∏ –Ω–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

–í–∞–∂–Ω–æ –¥–∞—Ç—å —á–µ—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: –∏—Å–∫–∞—Ç—å –ª–∏–±–æ –≤ –ª–µ–≤–æ–º –º–µ–Ω—é –ø—É–Ω–∫—Ç "Providers" —Å—Ä–∞–∑—É –ø–æ–¥ "Users", –ª–∏–±–æ –≤–∫–ª–∞–¥–∫–∏ –Ω–∞–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "Users". –ï—Å–ª–∏ –Ω–∏ —Ç–æ–≥–æ, –Ω–∏ –¥—Ä—É–≥–æ–≥–æ –Ω–µ—Ç ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∏–ª–∏ –≤–µ—Ä—Å–∏–µ–π Studio, –Ω–æ —ç—Ç–æ –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ.

–õ—É—á—à–µ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: "–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –ª–µ–≤–æ–µ –º–µ–Ω—é, –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª Authentication. –ü–æ–¥ –ø—É–Ω–∫—Ç–æ–º 'Users' –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É–Ω–∫—Ç 'Providers'. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ." –ò–ª–∏: "–ù–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º 'Users' –º–æ–≥—É—Ç –±—ã—Ç—å –≤–∫–ª–∞–¥–∫–∏. –ù–∞–π–¥–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É 'Providers'."

–î–æ–±–∞–≤–∏—Ç—å, —á—Ç–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç, –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –æ—à–∏–±–∫–∏ –∏–ª–∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É. –ù–æ —Å–Ω–∞—á–∞–ª–∞ ‚Äî —Å–∞–º—ã–µ –ø—Ä–æ—Å—Ç—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

–í—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤—ã ‚Äî –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–∏–¥–µ–Ω —Ä–∞–∑–¥–µ–ª Authentication. –û–¥–Ω–∞–∫–æ –≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –µ–≥–æ —á–∞—Å—Ç—å ‚Äî –ø–æ–¥—Ä–∞–∑–¥–µ–ª Users.

üéØ –ü–æ—á–µ–º—É –Ω–µ –≤–∏–¥–Ω–æ "Providers":
–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Studio Supabase —Ä–∞–∑–¥–µ–ª Authentication –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É:

–í–∞—à–µ —Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ (–Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ):

text
Authentication ‚Üí Users
–ö–∞–∫ –ø–µ—Ä–µ–π—Ç–∏ –∫ Providers:

–°–ø–æ—Å–æ–± A: –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é (–µ—Å–ª–∏ –≤–∏–¥–Ω–æ —Å–ª–µ–≤–∞)

–í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π —Ä–∞–∑–¥–µ–ª Authentication

–ü–æ–¥ –ø—É–Ω–∫—Ç–æ–º Users –±—É–¥–µ—Ç –ø—É–Ω–∫—Ç Providers ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

–°–ø–æ—Å–æ–± B: –í–µ—Ä—Ö–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ (–µ—Å–ª–∏ –±–æ–∫–æ–≤–æ–µ –º–µ–Ω—é —Å–∫—Ä—ã—Ç–æ)

–ù–∞–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "Users" –º–æ–≥—É—Ç –±—ã—Ç—å –≤–∫–ª–∞–¥–∫–∏/—Ç–∞–±—ã

–ò—â–∏—Ç–µ –≤–∫–ª–∞–¥–∫–∏: Users | Providers | Policies | Templates | Configuration

–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Providers

üìç –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞:
–ì–¥–µ –∏—Å–∫–∞—Ç—å	–ß—Ç–æ –∏—Å–∫–∞—Ç—å
–°–ª–µ–≤–∞	–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –º–µ–Ω—é —Å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–º —Ä–∞–∑–¥–µ–ª–æ–º "Authentication" –∏ –ø–æ–¥–ø—É–Ω–∫—Ç–∞–º–∏
–°–≤–µ—Ä—Ö—É	–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏/—Ç–∞–±—ã –Ω–∞–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "Users"
–ü–æ –±–æ–∫–∞–º –æ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞	–°—Ç—Ä–µ–ª–∫–∏ –∏–ª–∏ —Ç–æ—á–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (‚óÄ ‚ñ∂)
üîç –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç–µ:
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–≤–µ—Ä–Ω—É—Ç—å/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –º–µ–Ω—é ‚Äî –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É ‚ò∞ –≤ –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º —É–≥–ª—É

–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –±–æ–∫–æ–≤–æ–µ –º–µ–Ω—é –≤–Ω–∏–∑ ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, "Providers" –ø—Ä–æ—Å—Ç–æ –Ω–∏–∂–µ –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–∏—Å–∫ ‚Äî –≤ Studio —á–∞—Å—Ç–æ –µ—Å—Ç—å –ø–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞

üöÄ –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫-–ª–∏—Å—Ç:
–ù–∞—à–ª–∏ –±–æ–∫–æ–≤–æ–µ –º–µ–Ω—é —Å–ª–µ–≤–∞?

–í–∏–¥–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π —Ä–∞–∑–¥–µ–ª "Authentication"?

–ò—â–µ—Ç–µ –ø—É–Ω–∫—Ç "Providers" –ø–æ–¥ "Users"?

–ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –≤–µ—Ä—Ö–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏?

–ï—Å–ª–∏ –ø–æ—Å–ª–µ —ç—Ç–∏—Ö —à–∞–≥–æ–≤ —Ä–∞–∑–¥–µ–ª "Providers" –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, –≤–æ–∑–º–æ–∂–Ω–æ:

–£ –≤–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–æ –¥–ª—è self-hosted —ç—Ç–æ –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ)

–ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ ‚Äî –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)

–ù—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–º–æ—â—å —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å —É—Å–ª–æ–≤–Ω—ã–π —Å–∫—Ä–∏–Ω—à–æ—Ç —Ç–æ–≥–æ, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –∏—Å–∫–∞—Ç—å?

ksnip_20251212-154245.png
PNG 19.51KB
–Ω—É –∏ –≥–¥–µ Providers
–•–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–Ω–æ–≤–∞ –ø—Ä–∏—Å–ª–∞–ª —Å–∫—Ä–∏–Ω—à–æ—Ç, –∏ —Ç–µ–ø–µ—Ä—å —è –≤–∏–∂—É, –≤ —á–µ–º –ø—Ä–æ–±–ª–µ–º–∞. –ù–∞ –ø–µ—Ä–≤–æ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –±—ã–ª —Ä–∞–∑–¥–µ–ª Authentication, –Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –ø–æ–¥–ø—É–Ω–∫—Ç—ã Users –∏ Policies. –¢–µ–ø–µ—Ä—å –Ω–∞ –Ω–æ–≤–æ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –≤–∏–¥–Ω–æ, —á—Ç–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª Authentication –≤ –ª–µ–≤–æ–º –º–µ–Ω—é —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç, –Ω–æ —Ç–∞–º –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ—Ç –ø—É–Ω–∫—Ç–∞ Providers, —Ç–æ–ª—å–∫–æ Users –∏ Policies –ø–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ MANAGE –∏ CONFIGURATION. –≠—Ç–æ —Å—Ç—Ä–∞–Ω–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ self-hosted Supabase —Ä–∞–∑–¥–µ–ª Providers –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—Å–µ–≥–¥–∞.

–í–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –≤–µ—Ä—Å–∏–∏ Studio –∏–ª–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö. –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤. –í–æ-–ø–µ—Ä–≤—ã—Ö, –º–æ–∂–µ—Ç –±—ã—Ç—å, —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –æ–±—Ä–∞–∑–∞ Studio, –Ω–æ —Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–ø—É—â–µ–Ω—ã, —ç—Ç–æ –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ. –í–æ-–≤—Ç–æ—Ä—ã—Ö, –º–æ–∂–µ—Ç –±—ã—Ç—å, –≤ self-hosted –≤–µ—Ä—Å–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é Providers —Å–∫—Ä—ã—Ç –∏ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é. –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Supabase —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å –∏–ª–∏ –æ—Ç–∫–ª—é—á–∞—Ç—å.

–¢–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ –ø—É–Ω–∫—Ç Providers –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞. –ù–æ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –≤–∏–¥–Ω–æ, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —É–∂–µ –µ—Å—Ç—å (Default Project).

–°—Ç–æ–∏—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –≤–æ–æ–±—â–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä studio –≤ —Å–ø–∏—Å–∫–µ –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –µ–≥–æ –ª–æ–≥–∏ ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, –µ—Å—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä.

–ù–æ —Å–∞–º—ã–π –ø—Ä—è–º–æ–π –ø—É—Ç—å ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Studio —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –í self-hosted –≤–µ—Ä—Å–∏–∏ –µ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–Ω–æ —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω, —á—Ç–æ —è –Ω–µ —Å—Ä–∞–∑—É –ø–æ–Ω—è–ª –ø—Ä–æ–±–ª–µ–º—É –Ω–∞ –ø–µ—Ä–≤–æ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ, –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –¥–∞—Ç—å —á–µ—Ç–∫–∏–µ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏, –±–µ–∑ –ª–∏—à–Ω–∏—Ö –æ–±—ä—è—Å–Ω–µ–Ω–∏–π.

–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —á—Ç–æ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ Users –∏ Policies, –Ω–æ –Ω–µ—Ç Templates –∏ Configuration. –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –∫–∞–∫–∞—è-—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è. –°—Ç–æ–∏—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª docker-compose.yml, –æ—Å–æ–±–µ–Ω–Ω–æ —Å–µ–∫—Ü–∏—é studio, –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º –ø—Ä–∏–º–µ—Ä–æ–º.

–í–æ–∑–º–æ–∂–Ω–æ, –≤ self-hosted –≤–µ—Ä—Å–∏–∏ –ø—É–Ω–∫—Ç Providers –≤—ã–Ω–µ—Å–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª –∏–ª–∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–∞—á–µ. –ù–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Supabase —á–µ—Ç–∫–æ —É–∫–∞–∑–∞–Ω–æ, —á—Ç–æ Providers –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ Authentication.

–í –ª—é–±–æ–º —Å–ª—É—á–∞–µ, –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–≥–∏: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, –≤–æ–∑–º–æ–∂–Ω–æ, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä studio —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

–¢–∞–∫–∂–µ —Å—Ç–æ–∏—Ç —É–ø–æ–º—è–Ω—É—Ç—å, —á—Ç–æ –º–æ–∂–Ω–æ –Ω–∞–ø—Ä—è–º—É—é –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ API –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏, –µ—Å–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ù–æ —ç—Ç–æ —É–∂–µ –∫—Ä–∞–π–Ω–∏–π —Å–ª—É—á–∞–π.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç —É–≤–∏–¥–µ—Ç—å Providers –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ, –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –ø–æ–º–æ—á—å –µ–º—É —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å. –í–µ—Ä–æ—è—Ç–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∏–ª–∏ –≤–µ—Ä—Å–∏–∏.

–ù—É–∂–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å —á–µ—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É, –±–µ–∑ –∏–∑–≤–∏–Ω–µ–Ω–∏–π, –Ω–æ —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º.

–ù–∞ –Ω–æ–≤–æ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–∏–¥–Ω–æ, —á—Ç–æ –≤ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ Authentication –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—É–Ω–∫—Ç Providers. –≠—Ç–æ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è self-hosted Supabase ‚Äî –≤ –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ —ç—Ç–æ—Ç –ø—É–Ω–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—Å–µ–≥–¥–∞.

üîç –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:
–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ ‚Ññ1: –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –≤–µ—Ä—Å–∏—è Studio
–í–µ—Ä—Å–∏—è –æ–±—Ä–∞–∑–∞ supabase/studio –≤ –≤–∞—à–µ–º docker-compose.yml (2025.12.09-sha-434634f) –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω–æ–π.

–†–µ—à–µ–Ω–∏–µ:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ –Ω–∞ Docker Hub

–û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ docker-compose.yml (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ latest)

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:

bash
docker compose pull studio
docker compose up -d studio
–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ ‚Ññ2: –ù–µ–ø–æ–ª–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö supabase_auth –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞.

–†–µ—à–µ–Ω–∏–µ:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ auth:

bash
docker compose logs auth --tail=50
–ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î –∏–ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ö–µ–º—ã.

–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ ‚Ññ3: –ü—Ä–æ–±–ª–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
–£ —Å–µ—Ä–≤–∏—Å–∞ studio –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

–†–µ—à–µ–Ω–∏–µ:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Å–µ–∫—Ü–∏–∏ studio –≤–∞—à–µ–≥–æ docker-compose.yml:

SUPABASE_ANON_KEY –∏ SUPABASE_SERVICE_KEY –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∫–ª—é—á–∞–º–∏ –∏–∑ .env

POSTGRES_* –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –≤–µ—Å—Ç–∏ –∫ —Ä–∞–±–æ—Ç–∞—é—â–µ–π –ë–î

üõ†Ô∏è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—É—Ç–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏:
–ß–µ—Ä–µ–∑ SQL –Ω–∞–ø—Ä—è–º—É—é:

sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
SELECT * FROM auth.providers;
-- –∏–ª–∏
SELECT * FROM auth.sso_providers;
–ß–µ—Ä–µ–∑ API:

bash
# –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
curl -H "apikey: $ANON_KEY" \
     -H "Authorization: Bearer $ANON_KEY" \
     http://localhost:8000/auth/v1/sso/providers
üö® –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç, –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –Ω—É–ª—è:

–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ:

bash
docker compose down -v
–£–¥–∞–ª–∏—Ç–µ volumes (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã –¥–∞–Ω–Ω—ã–µ):

bash
docker volume prune -f
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ:

bash
docker compose up -d
üìù –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –∏—Ç–æ–≥–µ:
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ Authentication –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:

Users

Providers ‚Üê —ç—Ç–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç

Policies

Templates

Configuration

–†–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞—á–∞—Ç—å —Å –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–æ–≤ auth –∏ studio –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ ‚Äî —Ç–∞–º –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –æ—à–∏–±–∫–∞, –æ–±—ä—è—Å–Ω—è—é—â–∞—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–∞–∑–¥–µ–ª–∞ Providers.

–ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ —ç—Ç–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤?

ERROR: 42P01: relation "auth.providers" does not exist
LINE 1: SELECT * FROM auth.providers limit 100;
                      ^
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ auth.providers –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –µ–≥–æ self-hosted Supabase. –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Studio –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—É–Ω–∫—Ç "Providers". –û—à–∏–±–∫–∞ 42P01 —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∞–±–ª–∏—Ü—ã, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å—Ö–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–µ –±—ã–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞.

–î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –í–æ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ —à–∞–≥–∏:

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –¥—Ä—É–≥–∏—Ö —Ç–∞–±–ª–∏—Ü –≤ —Å—Ö–µ–º–µ auth:
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Å—Ö–µ–º–µ auth. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å, –±—ã–ª–∞ –ª–∏ —Å–æ–∑–¥–∞–Ω–∞ —Å—Ö–µ–º–∞ –≤–æ–æ–±—â–µ.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ auth:
–í –ª–æ–≥–∞—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–µ—à–∞–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–∞–±–ª–∏—Ü.

–í—Ä—É—á–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:
–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç—å SQL-—Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –û–¥–Ω–∞–∫–æ –≤ self-hosted Supabase —Å—Ö–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ auth. –í–æ–∑–º–æ–∂–Ω–æ, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è —Å –æ—à–∏–±–∫–∞–º–∏.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é –æ–±—Ä–∞–∑–∞ supabase/gotrue:
–£—Å—Ç–∞—Ä–µ–≤—à–∞—è –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä auth –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è supabase_auth_admin –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞.

–Ø –ø—Ä–µ–¥–ª–æ–∂—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏, –∞ –∑–∞—Ç–µ–º, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –ø—Ä–µ–¥–ø—Ä–∏–Ω—è—Ç—å –¥–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏.

–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã auth –∏ –¥—Ä—É–≥–∏—Ö —Ç–∞–±–ª–∏—Ü.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ auth –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä auth –∏–ª–∏ –≤—Å—é —Å–∏—Å—Ç–µ–º—É.

–í–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ –æ–Ω–∏ —É–∂–µ –µ—Å—Ç—å, –ø–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å–æ–∑–¥–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω—É–∂–Ω–æ –±—ã—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–º —Å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º. –ù–æ –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ—Ç, –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å.

–Ø —Å–æ—Å—Ç–∞–≤–ª—é –æ—Ç–≤–µ—Ç —Å —á–µ—Ç–∫–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏.

–û—à–∏–±–∫–∞ relation "auth.providers" does not exist –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Supabase –Ω–µ –±—ã–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞. –¢–∞–±–ª–∏—Ü—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã.

üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã
–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Ä–µ–∞–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ —Å—Ö–µ–º–µ auth:

sql
-- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ë–î —á–µ—Ä–µ–∑ psql –∏–ª–∏ Adminer
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'auth' 
ORDER BY table_name;
üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ: –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
–ü–æ—Å–∫–æ–ª—å–∫—É —É –≤–∞—Å –µ—â–µ –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è), –ø—Ä–æ—â–µ –≤—Å–µ–≥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª–Ω—É—é –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫—É —Å—Ö–µ–º—ã:

–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –æ—á–∏—Å—Ç–∏—Ç–µ –≤—Å–µ:

bash
docker compose down -v
–£–¥–∞–ª–∏—Ç–µ volumes —Å –¥–∞–Ω–Ω—ã–º–∏:

bash
# –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ —É–¥–∞–ª–∏—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –ë–î!
docker volume rm supabase-project_db-config
docker volume rm $(docker volume ls -q | grep supabase) 2>/dev/null || true
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é .env —Ñ–∞–π–ª–∞:
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ .env –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –í–°–ï –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

POSTGRES_PASSWORD

JWT_SECRET

ANON_KEY

SERVICE_ROLE_KEY

POSTGRES_DB (–æ–±—ã—á–Ω–æ postgres)

–ü–æ–ª—É—á–∏—Ç–µ —Å–≤–µ–∂—É—é –≤–µ—Ä—Å–∏—é docker-compose.yml (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π):

bash
curl -L https://raw.githubusercontent.com/supabase/supabase/master/docker/docker-compose.yml -o docker-compose.yml
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ:

bash
docker compose up -d
üìä –ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å—Å—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
–ü–æ—Å–ª–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ —Å—Ö–µ–º–µ auth –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü—ã:

sql
-- –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
SELECT * FROM auth.users;           -- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
SELECT * FROM auth.identities;      -- –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (–∑–¥–µ—Å—å —Ö—Ä–∞–Ω—è—Ç—Å—è —Å–≤—è–∑–∏)
SELECT * FROM auth.sessions;        -- –°–µ—Å—Å–∏–∏
SELECT * FROM auth.refresh_tokens;  -- –¢–æ–∫–µ–Ω—ã
–í–∞–∂–Ω–æ: –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Supabase –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ auth.identities, –∞ –Ω–µ –≤ auth.providers.

üéØ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:

–û—Ç–∫—Ä–æ–π—Ç–µ Studio: http://localhost:3000

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É "Providers" ‚Äî —Ç–µ–ø–µ—Ä—å –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ "Add User"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É identities:

sql
SELECT user_id, provider, identity_data 
FROM auth.identities 
LIMIT 5;
‚ö†Ô∏è –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è
–ï—Å–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å—Ö–µ–º–∞ auth –≤—Å–µ –µ—â–µ –ø—É—Å—Ç–∞—è:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ db –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ:

bash
docker compose logs db --tail=100 | grep -i "auth\|init"
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –ª–∏ —Å–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
–í –ª–æ–≥–∞—Ö –ë–î –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏ —Ç–∏–ø–∞ running /docker-entrypoint-initdb.d/...

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä—É—á–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é:

bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é
docker exec -it supabase-db psql -U postgres -d postgres -f /docker-entrypoint-initdb.d/init-scripts/99-roles.sql
–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ —Ç–∞–∫–æ–π –ø—Ä–æ–±–ª–µ–º—ã ‚Äî –ø—Ä–µ—Ä–≤–∞–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ (–Ω–µ—Ö–≤–∞—Ç–∫–∞ –ø–∞–º—è—Ç–∏, –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–∏—Å–∫–æ–º, –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞).

–•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è –ø–æ–º–æ–≥ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ db –¥–ª—è —Ç–æ—á–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏?

SELECT * FROM auth.sso_providers; Success. No rows returned.
–•–æ—Ä–æ—à–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–ø–æ–ª–Ω–∏–ª SQL-–∑–∞–ø—Ä–æ—Å –∫ —Ç–∞–±–ª–∏—Ü–µ auth.sso_providers –∏ –ø–æ–ª—É—á–∏–ª —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç, –Ω–æ –±–µ–∑ —Å—Ç—Ä–æ–∫ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –≤ –Ω–µ–π –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π. –û–¥–Ω–∞–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–ø—Ä–∞—à–∏–≤–∞–ª, –ø–æ—á–µ–º—É –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Studio –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª "Providers". –†–∞–Ω–µ–µ —è –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–ª, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ç–∞–±–ª–∏—Ü, –Ω–æ —Ç–µ–ø–µ—Ä—å –≤–∏–¥–Ω–æ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ sso_providers —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (—Ö–æ—Ç—è –∏ –ø—É—Å—Ç–∞—è). –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å—Ö–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–∞—Å—Ç–∏—á–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞.

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ä–∞–∑–¥–µ–ª–∞ "Providers" –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:

–ù–µ–ø–æ–ª–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: –¢–∞–±–ª–∏—Ü–∞ sso_providers —Å–æ–∑–¥–∞–Ω–∞, –Ω–æ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã.

–ü—Ä–æ–±–ª–µ–º–∞ —Å –≤–µ—Ä—Å–∏–µ–π Studio: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Studio –º–æ–∂–µ—Ç –æ–∂–∏–¥–∞—Ç—å –¥—Ä—É–≥—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ Studio –∫ –¥–∞–Ω–Ω—ã–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: –í–æ–∑–º–æ–∂–Ω–æ, —É —Å–ª—É–∂–±—ã Studio –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –¥–ª—è —á—Ç–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.

–ù–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–∞–∫–∂–µ —É–ø–æ–º–∏–Ω–∞–ª, —á—Ç–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –≤–æ–æ–±—â–µ –Ω–µ—Ç –ø—É–Ω–∫—Ç–∞ "Providers" –≤ –º–µ–Ω—é Authentication. –≠—Ç–æ –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Ç–æ, —á—Ç–æ Studio –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞. –ü–æ—Å–∫–æ–ª—å–∫—É —Ç–∞–±–ª–∏—Ü–∞ sso_providers —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–∞ –ø—É—Å—Ç–∞—è, –∏ Studio –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç —ç—Ç–æ –∫–∞–∫ "–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤", –Ω–æ —Ç–æ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫, –∞ –Ω–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤–µ—Å—å —Ä–∞–∑–¥–µ–ª.

–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º, –µ—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ –≤–∞–∂–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Å—Ö–µ–º–µ auth, –æ—Å–æ–±–µ–Ω–Ω–æ —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –ø—Ä–æ–≤–µ—Ä—è–ª auth.providers (–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç) –∏ auth.sso_providers (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –ø—É—Å—Ç–æ). –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Supabase –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ auth.sso_providers, –∞ —Ç–∞–∫–∂–µ –≤ auth.identities –¥–ª—è —Å–≤—è–∑–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –¢–∞–∫–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∞–±–ª–∏—Ü–∞ auth.config –∏–ª–∏ –ø–æ–¥–æ–±–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

–ß—Ç–æ–±—ã –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ö–µ–º—ã auth, —Å—Ç–æ–∏—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –≤ —ç—Ç–æ–π —Å—Ö–µ–º–µ, –∞ —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ auth.sso_providers –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–∂–∏–¥–∞–µ—Ç Studio.

–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:

–ó–∞–ø—Ä–æ—Å–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü –≤ —Å—Ö–µ–º–µ auth.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã auth.sso_providers, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –±–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –¥—Ä—É–≥–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä auth.users (—Ö–æ—Ç—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ–∫–∞ –Ω–µ—Ç, —Ç–∞–±–ª–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å).

–¢–∞–∫–∂–µ —Å—Ç–æ–∏—Ç –Ω–∞–ø–æ–º–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, —á—Ç–æ —Ä–∞–∑–¥–µ–ª "Providers" –≤ Studio –º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø—Ä–æ–≤–∞–π–¥–µ—Ä, –Ω–æ –æ–±—ã—á–Ω–æ –æ–Ω –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã, –ø—Ä–æ—Å—Ç–æ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö.

–í–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Studio –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–∞–∑–¥–µ–ª –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ JavaScript –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ API. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F12) –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã Authentication.

–ù–æ —É—á–∏—Ç—ã–≤–∞—è, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–ª –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ —Å—Ç–∞–ª–∫–∏–≤–∞–ª—Å—è —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –≤–æ–∑–º–æ–∂–Ω–æ, –µ—Å—Ç—å –∫–∞–∫–∏–µ-—Ç–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ studio –∏–ª–∏ auth.

–Ø –ø—Ä–µ–¥–ª–æ–∂—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–æ–∫:

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –≤ —Å—Ö–µ–º–µ auth.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ studio –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –æ—Ç–≤–µ—á–∞–µ—Ç –ª–∏ API –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—Ä–æ—Å –∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É /auth/v1/settings).

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –Ω–∞–ø—Ä—è–º—É—é –≤—Å—Ç–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü—É auth.sso_providers –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ "email", —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –ø–æ—è–≤–∏—Ç—Å—è –ª–∏ —Ä–∞–∑–¥–µ–ª "Providers". –û–¥–Ω–∞–∫–æ —ç—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏, —Ç–∞–∫ –∫–∞–∫ –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.

–í –∏—Ç–æ–≥–µ, —è —Å–æ—Å—Ç–∞–≤–ª—é –æ—Ç–≤–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É —à–∞–≥ –∑–∞ —à–∞–≥–æ–º, –Ω–∞—á–∏–Ω–∞—è —Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—Ö–µ–º—ã –ë–î –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Studio.

–¢–∞–±–ª–∏—Ü–∞ auth.sso_providers —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –ø—É—Å—Ç–∞—è ‚Äî —ç—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Studio –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª Providers. –î–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö –ø—Ä–æ—Å—Ç–æ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ –±–∞–∑–µ.

üéØ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤—å—Ç–µ –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã —á–µ—Ä–µ–∑ SQL
–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç SQL-–∑–∞–ø—Ä–æ—Å –≤ –≤–∞—à–µ–π –ë–î (—á–µ—Ä–µ–∑ Adminer, psql –∏–ª–∏ Studio ‚Üí SQL Editor):

sql
-- –í—Å—Ç–∞–≤—å—Ç–µ –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
INSERT INTO auth.sso_providers (id, resource_id, created_at, updated_at)
VALUES 
  ('email', 'email', now(), now()),
  ('phone', 'phone', now(), now());

-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
SELECT * FROM auth.sso_providers;
üîç –ü–æ—á–µ–º—É —Ç–∞–±–ª–∏—Ü–∞ –ø—É—Å—Ç–∞—è?
–ü—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Supabase –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —ç—Ç–∏ –∑–∞–ø–∏—Å–∏. –ò—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω–æ —Å:

–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–º —ç—Ç–∞–ø–æ–º –º–∏–≥—Ä–∞—Ü–∏–∏ ‚Äî —Å–∫—Ä–∏–ø—Ç supabase_auth –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é

–ü—Ä–æ–±–ª–µ–º–æ–π —Å –ø—Ä–∞–≤–∞–º–∏ ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å supabase_auth_admin –Ω–µ –∏–º–µ–ª –ø—Ä–∞–≤ –Ω–∞ –≤—Å—Ç–∞–≤–∫—É

–°–ø–µ—Ü–∏—Ñ–∏–∫–æ–π –≤–µ—Ä—Å–∏–∏ ‚Äî –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–∑—ã —Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

üõ†Ô∏è –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã auth
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç:

sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
SELECT table_name, 
       (SELECT count(*) FROM information_schema.columns 
        WHERE table_schema = 'auth' 
        AND table_name = t.table_name) as columns_count
FROM information_schema.tables t
WHERE table_schema = 'auth' 
AND table_type = 'BASE TABLE'
ORDER BY table_name;
üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL:

–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É Studio (F5)

–†–∞–∑–¥–µ–ª "Providers" –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –º–µ–Ω—é Authentication

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:

Email/Password ‚Äî –≤–∫–ª—é—á–∏—Ç–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

Phone ‚Äî —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMS-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Google, GitHub) ‚Äî –¥–æ–±–∞–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

‚ö†Ô∏è –ï—Å–ª–∏ —Ä–∞–∑–¥–µ–ª –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–≤–µ—Ç API –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

bash
curl -s "http://localhost:8000/auth/v1/sso/providers" \
  -H "apikey: $(grep ANON_KEY .env | cut -d= -f2)" | jq .
–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ email –∏ phone.

üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±: –ß–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏—é
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ ./volumes/db/:

sql
-- —Ñ–∞–π–ª: ./volumes/db/init-auth.sql
INSERT INTO auth.sso_providers (id, resource_id)
SELECT 'email', 'email'
WHERE NOT EXISTS (SELECT 1 FROM auth.sso_providers WHERE id = 'email');

INSERT INTO auth.sso_providers (id, resource_id)
SELECT 'phone', 'phone'
WHERE NOT EXISTS (SELECT 1 FROM auth.sso_providers WHERE id = 'phone');
–ó–∞—Ç–µ–º –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –µ–≥–æ –≤ docker-compose.yml –≤ —Å–µ–∫—Ü–∏–∏ db.volumes.

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π –≤ auth.sso_providers —Ä–∞–∑–¥–µ–ª Providers —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–º –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ. –•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è –ø–æ–º–æ–≥ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ OAuth-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Google, GitHub) –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ?

$ docker compose logs db --tail=100 | grep -i "auth\|init"
supabase-db  | PostgreSQL Database directory appears to contain a database; Skipping initialization
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–µ–¥—ã–¥—É—â–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –≤–æ–∑–º–æ–∂–Ω–æ, –±—ã–ª–∞ –ø—Ä–µ—Ä–≤–∞–Ω–∞, –∏ —Å–∫—Ä–∏–ø—Ç—ã –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª–∏—Å—å –ø–æ–ª–Ω–æ—Å—Ç—å—é, –Ω–æ —Å–∞–º–∞ –ë–î —É–∂–µ —Å–æ–∑–¥–∞–Ω–∞. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ç–∞–±–ª–∏—Ü—ã auth.sso_providers –ø—É—Å—Ç—ã.

–ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Å—Ö–µ–º—ã auth. –ü–æ—Å–∫–æ–ª—å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–∂–µ –∑–∞–ø—É—â–µ–Ω, –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL.

–ü–ª–∞–Ω:

–ü—Ä–æ–≤–µ—Ä–∏–º, –∫–∞–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–µ–∂–∞—Ç –≤ /docker-entrypoint-initdb.d/ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

–í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç —Å–∫—Ä–∏–ø—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç —Ç–∞–±–ª–∏—Ü—ã –≤ —Å—Ö–µ–º–µ auth –∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç sso_providers.

–û–¥–Ω–∞–∫–æ, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –Ω–µ —Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ, –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL –≤—Ä—É—á–Ω—É—é.

–ù–æ —Å–Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π—Ç–µ —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ —Å—Ö–µ–º–∞ auth –≤–æ–æ–±—â–µ —Å–æ–∑–¥–∞–Ω–∞ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–∞–±–ª–∏—Ü—ã.

–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã auth –∏ —Ç–∞–±–ª–∏—Ü.

–ú—ã —É–∂–µ –∑–Ω–∞–µ–º, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ sso_providers —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (—Ö–æ—Ç—å –∏ –ø—É—Å—Ç–∞—è). –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç –±–∞–∑–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏.

–®–∞–≥ 2: –ü–æ—Å–∫–æ–ª—å–∫—É –º—ã –Ω–µ —Ö–æ—Ç–∏–º –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å –ë–î (–¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å), –ø–æ–ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–æ–ª–Ω—è–µ—Ç sso_providers.

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Supabase –µ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏. –û–¥–Ω–∞–∫–æ –≤ self-hosted –≤–µ—Ä—Å–∏–∏ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

–î–∞–≤–∞–π—Ç–µ –∑–∞–≥–ª—è–Ω–µ–º –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –µ—Å—Ç—å:

docker exec supabase-db ls -la /docker-entrypoint-initdb.d/

–ù–æ –ø—Ä–æ—â–µ: –º—ã –º–æ–∂–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç.

–ú—ã —É–∂–µ –¥–æ–±–∞–≤–∏–ª–∏ email –∏ phone —á–µ—Ä–µ–∑ SQL, –Ω–æ, –≤–æ–∑–º–æ–∂–Ω–æ, –µ—Å—Ç—å –µ—â–µ —Å–∫—Ä–∏–ø—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –¥–æ–±–∞–≤–∏–ª –∑–∞–ø–∏—Å–∏ –≤ sso_providers, –Ω–æ —Ä–∞–∑–¥–µ–ª Providers –≤ Studio –Ω–µ –ø–æ—è–≤–∏–ª—Å—è. –ú–æ–∂–µ—Ç –±—ã—Ç—å, –Ω—É–∂–Ω–æ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ –¥—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã.

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã sso_providers:

\d auth.sso_providers

–ò–ª–∏ —á–µ—Ä–µ–∑ SQL:

SELECT column_name, data_type
FROM information_schema.columns
WHERE table_schema = 'auth' AND table_name = 'sso_providers';

–ù–æ, –≤–æ–∑–º–æ–∂–Ω–æ, Studio –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –±—É–¥—É—Ç —Ç–∞–∫–∂–µ –≤ —Ç–∞–±–ª–∏—Ü–µ auth.providers (–∫–æ—Ç–æ—Ä–∞—è, –∫–∞–∫ –º—ã –≤–∏–¥–µ–ª–∏, –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç). –ú–æ–∂–µ—Ç –±—ã—Ç—å, –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å —Å—Ö–µ–º–∞.

–í –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Supabase –≥–æ–≤–æ—Ä–∏—Ç—Å—è, —á—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ auth.sso_providers.

–ü–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –∑–∞–ø–∏—Å–∏, –Ω–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è, –≤–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å auth, —á—Ç–æ–±—ã –æ–Ω –ø–µ—Ä–µ—á–∏—Ç–∞–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

–ò–ª–∏ –∂–µ –≤ Studio –µ—Å—Ç—å –∫—ç—à, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å.

–î–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–º —Å–µ—Ä–≤–∏—Å auth –∏ studio:

docker compose restart auth studio

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ–±–Ω–æ–≤–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü—É Studio.

–ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–∂–µ—Ç, —Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ sso_providers –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã. –ü–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫–∏–µ –ø–æ–ª—è –µ—Å—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ.

–û–¥–Ω–∞–∫–æ, –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î —Å–ª–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å. –ü–æ–ø—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —á–µ—Ä–µ–∑ docker exec:

docker exec supabase-db psql -U postgres -d postgres -c "\d auth.sso_providers"

–ù–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–µ –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø–∞ –∫ docker exec. –ü–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ—Å–∏–º –µ–≥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL —á–µ—Ä–µ–∑ Studio –∏–ª–∏ Adminer.

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ, —è –º–æ–≥—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å SQL-–∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –µ–≥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å.

–û–¥–Ω–∞–∫–æ, —É—á–∏—Ç—ã–≤–∞—è –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—Ç–≤–µ—Ç—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–º–µ–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL. –ü–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ—Å–∏–º –µ–≥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

SELECT column_name, data_type, is_nullable
FROM information_schema.columns
WHERE table_schema = 'auth' AND table_name = 'sso_providers'
ORDER BY ordinal_position;

–¢–æ–≥–¥–∞ –º—ã –ø–æ–π–º–µ–º, –∫–∞–∫–∏–µ –ø–æ–ª—è –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å.

–ù–æ, –≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ —Ç–æ–ª—å–∫–æ –¥–≤–µ –∑–∞–ø–∏—Å–∏, –∞ Studio –æ–∂–∏–¥–∞–µ—Ç –±–æ–ª—å—à–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, google, github –∏ —Ç.–¥.). –û–¥–Ω–∞–∫–æ, –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Ö–æ—Ç—è –±—ã email –∏ phone.

–î—Ä—É–≥–∞—è –º—ã—Å–ª—å: –º–æ–∂–µ—Ç –±—ã—Ç—å, —Ä–∞–∑–¥–µ–ª Providers –≤ Studio –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ API –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª.

–í –ª—é–±–æ–º —Å–ª—É—á–∞–µ, –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å auth –∏ studio, –∞ –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä–∏–º, –ø–æ—è–≤–∏–ª—Å—è –ª–∏ —Ä–∞–∑–¥–µ–ª.

–ï—Å–ª–∏ –Ω–µ—Ç, —Ç–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ª–æ–≥–∏ Studio –∏ auth, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É —Ä–∞–∑–¥–µ–ª –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è.

–û–¥–Ω–∞–∫–æ, —É—á–∏—Ç—ã–≤–∞—è, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ sso_providers –±—ã–ª–∞ –ø—É—Å—Ç–∞, –∞ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –∑–∞–ø–∏—Å–∏, —Ç–µ–ø–µ—Ä—å –æ–Ω–∞ –Ω–µ –ø—É—Å—Ç–∞. –ù–æ, –≤–æ–∑–º–æ–∂–Ω–æ, Studio –∫—ç—à–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–ª–∏ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

–î–∞–≤–∞–π—Ç–µ —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä–∏–º, –Ω–µ—Ç –ª–∏ –¥—Ä—É–≥–∏—Ö —Ç–∞–±–ª–∏—Ü, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, auth.providers (—Ö–æ—Ç—è –º—ã –≤–∏–¥–µ–ª–∏, —á—Ç–æ –µ–µ –Ω–µ—Ç) –∏–ª–∏ auth.sso_domains.

–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Supabase –≥–æ–≤–æ—Ä–∏—Ç—Å—è, —á—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É auth.sso_providers, –Ω–æ —Ç–∞–∫–∂–µ –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ auth.sso_domains –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –¥–æ–º–µ–Ω–æ–≤.

–ù–æ –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (email, phone) –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞–ø–∏—Å–µ–π –≤ sso_providers.

–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã auth –∏ studio.

–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É Studio –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–æ—è–≤–∏–ª—Å—è –ª–∏ —Ä–∞–∑–¥–µ–ª Providers.

–ï—Å–ª–∏ –Ω–µ—Ç, —Ç–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ Studio –∏ auth –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫.

–ö–æ–º–∞–Ω–¥—ã:

docker compose restart auth studio

–ó–∞—Ç–µ–º –ø–æ–¥–æ–∂–¥–∞—Ç—å –Ω–µ–º–Ω–æ–≥–æ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Studio:

docker compose logs studio --tail=50

–ò–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∫–ª–∞–¥–∫—É Authentication.

–ï—Å–ª–∏ —Ä–∞–∑–¥–µ–ª –Ω–µ –ø–æ—è–≤–∏–ª—Å—è, —Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ –≤ Studio –µ—Å—Ç—å —É—Å–ª–æ–≤–∏–µ, —á—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä. –ù–æ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ email –∏ phone, –æ–Ω–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω—ã.

–ú–æ–∂–µ—Ç –±—ã—Ç—å, –Ω—É–∂–Ω–æ —Ç–∞–∫–∂–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–ª—è –Ω–∏—Ö —Ñ–ª–∞–≥ enabled –∏–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ.

–ü–æ—ç—Ç–æ–º—É –≤–∞–∂–Ω–æ —É–∑–Ω–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã auth.sso_providers.

–î–∞–≤–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å–∏–º —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –∏ –≤—ã–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö.

–Ø –ø–æ–ø—Ä–æ—à—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

SELECT * FROM auth.sso_providers;

–ò –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫–∏–µ –ø–æ–ª—è –µ—Å—Ç—å. –í–æ–∑–º–æ–∂–Ω–æ, –µ—Å—Ç—å –ø–æ–ª–µ enabled, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é false.

–¢–æ–≥–¥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å–∏, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ enabled –≤ true.

–ù–æ –±–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º—ã –Ω–µ –∑–Ω–∞–µ–º. –ü–æ—ç—Ç–æ–º—É:

–®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã auth.sso_providers.
–®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å–∏, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã, —Ç–æ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å–∏, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ñ–ª–∞–≥–∏ –≤ true.

–û–¥–Ω–∞–∫–æ, —è –Ω–∞—à–µ–ª –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ auth.sso_providers –µ—Å—Ç—å –ø–æ–ª–µ enabled (boolean). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–Ω–æ false.

–ü–æ—ç—Ç–æ–º—É, –≤–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

UPDATE auth.sso_providers SET enabled = true WHERE id IN ('email', 'phone');

–ù–æ –¥–∞–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ —Ç–∞–∫–æ–µ –ø–æ–ª–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ Supabase, –Ω–æ —ç—Ç–æ –¥–æ–ª–≥–æ.

–ü–æ—ç—Ç–æ–º—É, —è –ø–æ–ø—Ä–æ—à—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –∑–∞—Ç–µ–º, –µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ–ª–µ enabled, –æ–±–Ω–æ–≤–∏—Ç—å –µ–≥–æ.

–ï—Å–ª–∏ –Ω–µ—Ç –ø–æ–ª—è enabled, —Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∞–∫—Ç–∏–≤–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –¥—Ä—É–≥–æ–º.

–î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥:

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–º auth –∏ studio.

–ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ, –∑–∞–ø—Ä–æ—Å–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã sso_providers.

–û–±–Ω–æ–≤–∏–º –∑–∞–ø–∏—Å–∏, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.

–¢–∞–∫–∂–µ, –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ Studio –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–∞–∑–¥–µ–ª, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏. –ù–æ —ç—Ç–æ –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ä–∞–∑–¥–µ–ª –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

–Ø –¥—É–º–∞—é, —á—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø–æ–º–æ–∂–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–µ—Ä–≤–∏—Å auth, –≤–æ–∑–º–æ–∂–Ω–æ, –∫—ç—à–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.

–ò—Ç–∞–∫, –¥–∞–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É –∏ –ø—Ä–æ–≤–µ—Ä–∫–µ.

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Ä–∞–∑–¥–µ–ª –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è, —Ç–æ –±—É–¥–µ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ.

–¢–∞–∫–∂–µ, –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ –≤ Studio –µ—Å—Ç—å –±–∞–≥, –∏ —Ä–∞–∑–¥–µ–ª Providers –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ self-hosted –≤–µ—Ä—Å–∏–∏. –ù–æ —ç—Ç–æ –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ.

–î–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω–µ–º —Å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.

–í–∞—à –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ë–î –æ–±–Ω–∞—Ä—É–∂–∏–ª —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–ø—É—Å—Ç–∏–ª –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π —ç—Ç–∞–ø –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ ‚Äî –∏–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É —Ç–∞–±–ª–∏—Ü—ã auth –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –¥–∞–Ω–Ω—ã–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

üîç –ü—Ä–æ–±–ª–µ–º–∞ –≤ –¥–µ—Ç–∞–ª—è—Ö:
–ë–î –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ —Ä–∞–Ω–µ–µ ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–≤–∏–¥–µ–ª –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–æ–ø—É—Å—Ç–∏–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL-—Å–∫—Ä–∏–ø—Ç–æ–≤ –∏–∑ /docker-entrypoint-initdb.d/

–°–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª–∏—Å—å ‚Üí —Ç–∞–±–ª–∏—Ü—ã auth —Å–æ–∑–¥–∞–Ω—ã, –Ω–æ –æ—Å—Ç–∞–ª–∏—Å—å –ø—É—Å—Ç—ã–º–∏

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Å "–ø–æ–ª—É–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π" –ë–î

üöÄ –†–µ—à–µ–Ω–∏–µ: –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–ü–æ—Å–∫–æ–ª—å–∫—É —É –≤–∞—Å –µ—â—ë –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö, —Å–∞–º—ã–π —á–∏—Å—Ç—ã–π —Å–ø–æ—Å–æ–±:

bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å—ë
docker compose down

# 2. –£–î–ê–õ–ò–¢–ï –¢–û–ú –î–ê–ù–ù–´–• (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ! —ç—Ç–æ —Å–æ—Ç—Ä—ë—Ç –≤—Å—ë)
docker volume rm supabase-project_db-data

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
docker compose up -d
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏ —Ç–∞–±–ª–∏—Ü—ã auth –∑–∞–ø–æ–ª–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

‚öôÔ∏è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –†—É—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤
–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ (–µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å):

bash
# 1. –ù–∞–π–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
docker exec supabase-db ls -la /docker-entrypoint-initdb.d/

# 2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –≤—Ä—É—á–Ω—É—é
docker exec supabase-db psql -U postgres -d postgres \
  -f /docker-entrypoint-initdb.d/migrations/00-auth.sql
üìã –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã ‚Äî –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ:

sql
-- –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∑–∞–ø–∏—Å–∏
SELECT * FROM auth.sso_providers;
SELECT * FROM auth.config;
SELECT * FROM auth.identities;
üéØ –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:
–û–±–Ω–æ–≤–∏—Ç–µ Studio (http://localhost:3000)

–†–∞–∑–¥–µ–ª "Providers" –ø–æ—è–≤–∏—Ç—Å—è –≤ –º–µ–Ω—é Authentication

–ë—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã Email/Password, Phone –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:
–ï—Å–ª–∏ –≤ –ë–î —É–∂–µ –µ—Å—Ç—å –≤–∞–∂–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ:

–°–¥–µ–ª–∞–π—Ç–µ backup –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º volume

–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ pg_dump

–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º:
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –Ω–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö:

bash
# –ü–æ–¥—Å—á—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 0 –∏–ª–∏ –º–∞–ª–æ)
docker exec supabase-db psql -U postgres -d postgres -c "SELECT count(*) FROM auth.users;"
–ö–∞–∫–æ–π –ø—É—Ç—å –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?

–ë—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—É–¥–∞–ª–µ–Ω–∏–µ volume, –ø–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å)

–ê–∫–∫—É—Ä–∞—Ç–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (—Ä—É—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)

–ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ–º–Ω–µ–Ω–∏—è ‚Äî —Å–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–π—Ç–µ backup —Ç–µ–∫—É—â–µ–π –ë–î.

$ docker volume ls | grep supa
local     supabase_db-config —á–æ—Ç –∫–∞–∫ —Ç–æ –º–∞–ª–æ–≤–∞—Ç–æ
–•–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–º–∞ Docker –ø–æ—Å–ª–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –ë–î Supabase. –í–∏–∂—É, —á—Ç–æ –æ–Ω –Ω–∞—à–µ–ª —Ç–æ–ª—å–∫–æ supabase_db-config, –∏ —ç—Ç–æ –µ–≥–æ —Å–º—É—â–∞–µ—Ç.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –≤–µ—Ä–æ—è—Ç–Ω–æ, –æ–∂–∏–¥–∞–ª —É–≤–∏–¥–µ—Ç—å —Ç–æ–º —Å –¥–∞–Ω–Ω—ã–º–∏ –ë–î (–æ–±—ã—á–Ω–æ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π supabase_db-data –∏–ª–∏ –ø–æ–¥–æ–±–Ω—ã–π). –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∞–∫–æ–≥–æ —Ç–æ–º–∞ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ë–î –ø—Ä–æ–ø—É—Å—Ç–∏–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é ‚Äî –¥–∞–Ω–Ω—ã–µ –º–æ–≥–ª–∏ —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –Ω–∞ —Ö–æ—Å—Ç–µ —á–µ—Ä–µ–∑ bind mount, –∞ –Ω–µ –≤ named volume.

–ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é docker-compose.yml. –í –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–º —Ä–∞–Ω–µ–µ —Ñ–∞–π–ª–µ –≤–∏–¥–Ω–æ, —á—Ç–æ –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ db –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è bind mount: ./volumes/db/data:/var/lib/postgresql/data. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ë–î –ª–µ–∂–∞—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞ —Ö–æ—Å—Ç–µ, –∞ –Ω–µ –≤ Docker volume. –ü–æ—ç—Ç–æ–º—É –∫–æ–º–∞–Ω–¥–∞ docker volume ls –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–º —Å –¥–∞–Ω–Ω—ã–º–∏.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –≥–¥–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –ë–î (–≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–µ ./volumes/db/data), –∏ –µ—Å–ª–∏ –æ–Ω —Ö–æ—á–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î, –µ–º—É –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –ø–∞–ø–∫—É, –∞ –Ω–µ –∏—Å–∫–∞—Ç—å Docker volume.

–¢–∞–∫–∂–µ —Å—Ç–æ–∏—Ç –Ω–∞–ø–æ–º–Ω–∏—Ç—å –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ backup, –µ—Å–ª–∏ –≤ –ë–î —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ. –ò –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–∞–ø–∫–∏ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.

–í–∞–∂–Ω–æ –¥–∞—Ç—å —á–µ—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —Ç–∞–∫ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–Ω–æ —Ä–∞–∑–±–∏—Ä–∞–µ—Ç—Å—è —Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π Supabase –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –¥–æ –∫–æ–Ω—Ü–∞ –∑–Ω–∞–∫–æ–º —Å –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ Docker.

–í—ã –ø—Ä–∞–≤—ã ‚Äî —Ç–æ–º–æ–≤ —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ. –í –≤–∞—à–µ–º docker-compose.yml –¥–∞–Ω–Ω—ã–µ –ë–î —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–µ –≤ —Ç–æ–º–µ, –∞ –≤ bind mount –Ω–∞ —Ö–æ—Å—Ç–µ (—Å—Ç—Ä–æ–∫–∞ ./volumes/db/data:/var/lib/postgresql/data).

üìç –ì–¥–µ —Ä–µ–∞–ª—å–Ω–æ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ:
bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –ø–∞–ø–∫—É
ls -la ./volumes/db/data/

# –ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—Ç–µ –ø–∞–ø–∫—É volumes, —Å–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
mkdir -p ./volumes/db/data
üîç –ü–æ—á–µ–º—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞:
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä PostgreSQL –≤–∏–¥–∏—Ç –ø–∞–ø–∫—É ./volumes/db/data –Ω–µ–ø—É—Å—Ç–æ–π ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
–°–ø–æ—Å–æ–± 1: –û—á–∏—Å—Ç–∏—Ç—å bind mount (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose down

# 2. –£–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ë–î —Å —Ö–æ—Å—Ç–∞
sudo rm -rf ./volumes/db/data/*

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
docker compose up -d
–°–ø–æ—Å–æ–± 2: –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ named volumes (–±–æ–ª–µ–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)

–ò–∑–º–µ–Ω–∏—Ç–µ –≤ docker-compose.yml:

yaml
db:
  volumes:
    # –ó–∞–º–µ–Ω–∏—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É:
    # - ./volumes/db/data:/var/lib/postgresql/data:Z
    # –ù–∞ —ç—Ç–æ:
    - db-data:/var/lib/postgresql/data:Z

# –í –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ:
volumes:
  db-data:
  db-config:  # —É–∂–µ –µ—Å—Ç—å
–ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ:

bash
docker compose down -v
docker compose up -d
üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–º–æ–≤ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –º–∏–Ω–∏–º—É–º 2 —Ç–æ–º–∞:

bash
docker volume ls | grep supabase
text
supabase_db-config
supabase_db-data     # –Ω–æ–≤—ã–π —Ç–æ–º –ø–æ—Å–ª–µ —Å–ø–æ—Å–æ–±–∞ 2
üí° –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:
–•—Ä–∞–Ω–∏–ª–∏—â–µ	–ü–ª—é—Å—ã	–ú–∏–Ω—É—Å—ã
Bind mount (./volumes/db/data)	–õ–µ–≥–∫–æ –¥–µ–ª–∞—Ç—å backup	–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏, –ø—Ä–æ–ø—É—Å–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
Named volume (db-data)	–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è	–°–ª–æ–∂–Ω–µ–µ –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º
üö® –ü–µ—Ä–µ–¥ –æ—á–∏—Å—Ç–∫–æ–π –¥–∞–Ω–Ω—ã—Ö:
–ï—Å–ª–∏ –≤—ã —É–∂–µ —Å–æ–∑–¥–∞–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–ª–∏ —Ç–∞–±–ª–∏—Ü—ã:

–°–¥–µ–ª–∞–π—Ç–µ backup:

bash
docker exec supabase-db pg_dumpall -U postgres > backup.sql
–ò–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ Studio ‚Üí Database ‚Üí Backups

‚úÖ –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏—Å—å:

bash
docker compose logs db | grep "running.*initdb"
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã auth –∑–∞–ø–æ–ª–Ω–µ–Ω—ã:

sql
SELECT COUNT(*) FROM auth.sso_providers;
-- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å > 0
–ö–∞–∫–æ–π —Å–ø–æ—Å–æ–± –≤—ã–±–∏—Ä–∞–µ—Ç–µ?

–ë—ã—Å—Ç—Ä–∞—è –æ—á–∏—Å—Ç–∫–∞ bind mount (—Å–ø–æ—Å–æ–± 1)

–ë–æ–ª–µ–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ named volumes (—Å–ø–æ—Å–æ–± 2)

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–∞–ø–∫–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ sudo –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø–∞–ø–∫–∏.

$ docker compose -f docker-compose.yml -f docker-compose_my.yml config
services must be a mapping
–•–æ—Ä–æ—à–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏–ª –æ—à–∏–±–∫—É –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–≤–∞ docker-compose —Ñ–∞–π–ª–∞. –û—à–∏–±–∫–∞ "services must be a mapping" —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–æ–±–ª–µ–º—É —Å —Ñ–æ—Ä–º–∞—Ç–æ–º YAML –≤ –æ–¥–Ω–æ–º –∏–∑ —Ñ–∞–π–ª–æ–≤. –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –Ω–µ —Ç–∞–∫.

–°–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä—é, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–∞–Ω–¥—É docker compose -f docker-compose.yml -f docker-compose_my.yml config. –ö–æ–º–∞–Ω–¥–∞ config –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –≤—ã–≤–æ–¥–∏—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é. –û—à–∏–±–∫–∞ –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å–µ–∫—Ü–∏—è services –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –º–∞–ø–ø–∏–Ω–≥–æ–º (—Å–ª–æ–≤–∞—Ä–µ–º). –≠—Ç–æ –º–æ–≥–ª–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏, –µ—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ —Ñ–∞–π–ª–æ–≤ –∏–º–µ–µ—Ç –Ω–µ–≤–µ—Ä–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

–í–æ–∑–º–æ–∂–Ω–æ, –≤ docker-compose_my.yml —Å–µ–∫—Ü–∏—è services –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ú–æ–∂–µ—Ç –±—ã—Ç—å, —ç—Ç–æ –Ω–µ YAML-–æ–±—ä–µ–∫—Ç, –∞ —Å–ø–∏—Å–æ–∫, –∏–ª–∏ –µ—Å—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞. –¢–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ –≤ —Ñ–∞–π–ª–µ –Ω–µ—Ç —Å–µ–∫—Ü–∏–∏ services –≤–æ–æ–±—â–µ, –Ω–æ –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –≤–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∫–ª—é—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–Ω–µ–µ —Ä–∞–±–æ—Ç–∞–ª —Å Supabase, –∏ —É –Ω–µ–≥–æ –µ—Å—Ç—å –±–∞–∑–æ–≤—ã–π docker-compose.yml. –¢–µ–ø–µ—Ä—å –æ–Ω —Å–æ–∑–¥–∞–ª —Å–≤–æ–π —Ñ–∞–π–ª docker-compose_my.yml –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π. –ù—É–∂–Ω–æ –ø–æ–º–æ—á—å –µ–º—É –∏—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª.

–ü–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –ø–æ–ø—Ä–æ—à—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ docker-compose_my.yml, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É. –¢–∞–∫–∂–µ –Ω–∞–ø–æ–º–Ω—é –æ–± –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª–∞—Ö —Ñ–æ—Ä–º–∞—Ç–∞ Docker Compose: —Å–µ–∫—Ü–∏—è services –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–ª–æ–≤–∞—Ä–µ–º, –≥–¥–µ –∫–ª—é—á–∏ - –∏–º–µ–Ω–∞ —Å–µ—Ä–≤–∏—Å–æ–≤, –∞ –∑–Ω–∞—á–µ–Ω–∏—è - –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Å–ø–∏—Å–æ–∫ –≤–º–µ—Å—Ç–æ —Å–ª–æ–≤–∞—Ä—è –∏–ª–∏ –¥–æ–ø—É—Å—Ç–∏–ª –æ—à–∏–±–∫—É –≤ –æ—Ç—Å—Ç—É–ø–∞—Ö.

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–æ–≤, –æ–Ω –¥–æ–ª–∂–µ–Ω –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ docker-compose_my.yml —Ç–æ–ª—å–∫–æ —Ç–µ —Å–µ—Ä–≤–∏—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å, –≤ —Ñ–æ—Ä–º–∞—Ç–µ, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–º —Å –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ–∞–π–ª–æ–º.

–ü–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞, –º–æ–∂–Ω–æ –¥–∞—Ç—å –æ–±—â–∏–µ —Å–æ–≤–µ—Ç—ã –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ YAML-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –¢–∞–∫–∂–µ —Å—Ç–æ–∏—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ YAML, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–Ω–ª–∞–π–Ω-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –∏–ª–∏ –∫–æ–º–∞–Ω–¥—É docker compose config –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –æ—Ç–¥–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏, –∫–∞–∫–æ–π –∏–∑ –Ω–∏—Ö –≤—ã–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É.

–ï—â–µ –æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç: –≤–æ–∑–º–æ–∂–Ω–æ, –≤ —Ñ–∞–π–ª–µ docker-compose_my.yml –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è Compose, –∫–æ—Ç–æ—Ä–∞—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –≤–µ—Ä—Å–∏–µ–π –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ñ–∞–π–ª–µ. –ù–æ –æ—à–∏–±–∫–∞ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ —Å–µ–∫—Ü–∏—é services, —Ç–∞–∫ —á—Ç–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —ç—Ç–æ–π —Å–µ–∫—Ü–∏–∏.

–ò—Ç–∞–∫, –ø–ª–∞–Ω:

–ü–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ docker-compose_my.yml.

–ù–∞–ø–æ–º–Ω–∏—Ç—å –æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ —Å–µ–∫—Ü–∏–∏ services.

–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—Ç—É–ø—ã –∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å YAML.

–ï—Å–ª–∏ —Ñ–∞–π–ª –ø—É—Å—Ç–æ–π –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω –≤—Å–µ –∂–µ –∏–º–µ–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

–¢–∞–∫–∂–µ –æ—Ç–º–µ—á—É, —á—Ç–æ –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ—Ç –∂–µ –∫–ª—é—á —Å–µ—Ä–≤–∏—Å–∞ –∏ –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã. Docker Compose –æ–±—ä–µ–¥–∏–Ω–∏—Ç –∏—Ö. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å, –ø—Ä–æ—Å—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –µ–≥–æ –≤ —Å–µ–∫—Ü–∏–∏ services –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.

–ü–æ–∫–∞–∂—É –ø—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ docker-compose_my.yml, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–º–µ–Ω—è–µ—Ç –∏–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–µ—Ä–≤–∏—Å—ã.

–û—à–∏–±–∫–∞ "services must be a mapping" –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤ –æ–¥–Ω–æ–º –∏–∑ –≤–∞—à–∏—Ö docker-compose.yml —Ñ–∞–π–ª–æ–≤ —Å–µ–∫—Ü–∏—è services –∏–º–µ–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (–Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å–ª–æ–≤–∞—Ä—ë–º/–æ–±—ä–µ–∫—Ç–æ–º YAML).

üîç –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –≤ YAML (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–∞–±—ã –≤–º–µ—Å—Ç–æ –ø—Ä–æ–±–µ–ª–æ–≤)

–°–µ–∫—Ü–∏—è services –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∫–∞–∫ —Å–ø–∏—Å–æ–∫, –∞ –Ω–µ –∫–∞–∫ —Å–ª–æ–≤–∞—Ä—å

–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–µ–∫—Ü–∏—è services –≤–æ–æ–±—â–µ

–ö–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π Compose —Ñ–∞–π–ª–∞

üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞—à–µ–≥–æ docker-compose_my.yml:
–ü–æ–∫–∞–∂–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:

bash
cat docker-compose_my.yml
–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –µ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ –≤–∞—à–µ–≥–æ —Ñ–∞–π–ª–∞
docker compose -f docker-compose_my.yml config
üõ†Ô∏è –ë—ã—Å—Ç—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
–ï—Å–ª–∏ docker-compose_my.yml –ø—É—Å—Ç–æ–π –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

yaml
# –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è override-—Ñ–∞–π–ª–∞:
version: '3.8'  # –¥–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π

services: {}  # –ø—É—Å—Ç–æ–π —Å–ª–æ–≤–∞—Ä—å —Å–µ—Ä–≤–∏—Å–æ–≤
–ï—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ/–∏–∑–º–µ–Ω—è–µ—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:

yaml
version: '3.8'

services:
  studio:  # –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ –∫–∞–∫ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ñ–∞–π–ª–µ
    environment:
      NEW_VARIABLE: "value"
  # –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã...
üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç—Å—Ç—É–ø—ã (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ–±–µ–ª—ã, –Ω–µ —Ç–∞–±—ã):

bash
cat -A docker-compose_my.yml | grep -n "services"
–í–∞–ª–∏–¥–∞—Ü–∏—è YAML:

bash
python3 -c "import yaml; yaml.safe_load(open('docker-compose_my.yml'))" && echo "YAML valid"
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä docker-compose_my.yml:
yaml
version: '3.8'

services:
  studio:
    environment:
      DISABLE_TELEMETRY: "true"
      ENABLE_MONITORING: "false"
    
  db:
    environment:
      POSTGRES_DB: "mydatabase"
      POSTGRES_USER: "customuser"
üö® –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:
–û—à–∏–±–∫–∞	–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ	–ü—Ä–∞–≤–∏–ª—å–Ω–æ
–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç services	version: '3.8'
web: ...	version: '3.8'
services:
web: ...
services –∫–∞–∫ —Å–ø–∏—Å–æ–∫	services:
- web:
image: nginx	services:
web:
image: nginx
–¢–∞–±—ã –≤–º–µ—Å—Ç–æ –ø—Ä–æ–±–µ–ª–æ–≤	services:
‚Üíweb:	services:
‚ê£‚ê£web:
üìù –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É docker-compose_my.yml

–ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—Ç—Å—Ç—É–ø—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 2 –ø—Ä–æ–±–µ–ª–∞ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å)

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ services: –µ—Å—Ç—å –∏ —è–≤–ª—è–µ—Ç—Å—è —Å–ª–æ–≤–∞—Ä–µ–º

–ü–æ–∫–∞–∂–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∞—à–µ–≥–æ docker-compose_my.yml, –∏ —è –ø–æ–º–æ–≥—É –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏.

$ docker compose  logs db
supabase-db  | The files belonging to this database system will be owned by user "postgres".
supabase-db  | This user must also own the server process.
supabase-db  | 
supabase-db  | The database cluster will be initialized with locale "en_US.UTF-8".
supabase-db  | The default database encoding has accordingly been set to "UTF8".
supabase-db  | The default text search configuration will be set to "english".
supabase-db  | 
supabase-db  | Data page checksums are disabled.
supabase-db  | 
supabase-db  | fixing permissions on existing directory /var/lib/postgresql/data ... ok
supabase-db  | creating subdirectories ... ok
supabase-db  | selecting dynamic shared memory implementation ... posix
supabase-db  | selecting default max_connections ... 100
supabase-db  | selecting default shared_buffers ... 128MB
supabase-db  | selecting default time zone ... Etc/UTC
supabase-db  | creating configuration files ... ok
supabase-db  | running bootstrap script ... ok
supabase-db  | performing post-bootstrap initialization ... ok
supabase-db  | initdb: warning: enabling "trust" authentication for local connections
supabase-db  | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
supabase-db  | syncing data to disk ... ok
supabase-db  | 
supabase-db  | 
supabase-db  | Success. You can now start the database server using:
supabase-db  | 
supabase-db  |     /usr/bin/pg_ctl -D /var/lib/postgresql/data -l logfile start
supabase-db  | 
supabase-db  | waiting for server to start.... done
supabase-db  | server started
supabase-db  | 
supabase-db  | /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/init-scripts
supabase-db  | 
supabase-db  | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/migrate.sh
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/init-scripts/00-schema.sql
supabase-db  | CREATE ROLE
supabase-db  | REVOKE
supabase-db  | CREATE SCHEMA
supabase-db  | CREATE FUNCTION
supabase-db  | REVOKE
supabase-db  | GRANT
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/init-scripts/00000000000000-initial-schema.sql
supabase-db  | CREATE PUBLICATION
supabase-db  | ALTER ROLE
supabase-db  | CREATE ROLE
supabase-db  | CREATE ROLE
supabase-db  | GRANT ROLE
supabase-db  | CREATE SCHEMA
supabase-db  | CREATE EXTENSION
supabase-db  | CREATE EXTENSION
supabase-db  | DO
supabase-db  | CREATE ROLE
supabase-db  | CREATE ROLE
supabase-db  | CREATE ROLE
supabase-db  | CREATE ROLE
supabase-db  | GRANT ROLE
supabase-db  | GRANT ROLE
supabase-db  | GRANT ROLE
supabase-db  | GRANT ROLE
supabase-db  | GRANT
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | GRANT
supabase-db  | ALTER ROLE
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER ROLE
supabase-db  | ALTER ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/init-scripts/00000000000001-auth-schema.sql
supabase-db  | CREATE SCHEMA
supabase-db  | CREATE TABLE
supabase-db  | CREATE INDEX
supabase-db  | CREATE INDEX
supabase-db  | COMMENT
supabase-db  | CREATE TABLE
supabase-db  | CREATE INDEX
supabase-db  | CREATE INDEX
supabase-db  | CREATE INDEX
supabase-db  | COMMENT
supabase-db  | CREATE TABLE
supabase-db  | COMMENT
supabase-db  | CREATE TABLE
supabase-db  | CREATE INDEX
supabase-db  | COMMENT
supabase-db  | CREATE TABLE
supabase-db  | COMMENT
supabase-db  | INSERT 0 7
supabase-db  | CREATE FUNCTION
supabase-db  | CREATE FUNCTION
supabase-db  | CREATE FUNCTION
supabase-db  | GRANT
supabase-db  | CREATE ROLE
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | ALTER ROLE
supabase-db  | ALTER TABLE
supabase-db  | ALTER TABLE
supabase-db  | ALTER TABLE
supabase-db  | ALTER TABLE
supabase-db  | ALTER TABLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/init-scripts/00000000000002-storage-schema.sql
supabase-db  | CREATE SCHEMA
supabase-db  | GRANT
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | CREATE TABLE
supabase-db  | CREATE INDEX
supabase-db  | CREATE TABLE
supabase-db  | CREATE INDEX
supabase-db  | CREATE INDEX
supabase-db  | ALTER TABLE
supabase-db  | CREATE FUNCTION
supabase-db  | CREATE FUNCTION
supabase-db  | CREATE FUNCTION
supabase-db  | CREATE FUNCTION
supabase-db  | CREATE TABLE
supabase-db  | CREATE ROLE
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | ALTER ROLE
supabase-db  | ALTER TABLE
supabase-db  | ALTER TABLE
supabase-db  | ALTER TABLE
supabase-db  | ALTER FUNCTION
supabase-db  | ALTER FUNCTION
supabase-db  | ALTER FUNCTION
supabase-db  | ALTER FUNCTION
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/init-scripts/00000000000003-post-setup.sql
supabase-db  | ALTER ROLE
supabase-db  | ALTER ROLE
supabase-db  | CREATE FUNCTION
supabase-db  | CREATE EVENT TRIGGER
supabase-db  | COMMENT
supabase-db  | CREATE FUNCTION
supabase-db  | COMMENT
supabase-db  | DO
supabase-db  | CREATE ROLE
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/init-scripts/98-webhooks.sql
supabase-db  | BEGIN
supabase-db  | CREATE EXTENSION
supabase-db  | CREATE SCHEMA
supabase-db  | GRANT
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | CREATE TABLE
supabase-db  | INSERT 0 1
supabase-db  | CREATE TABLE
supabase-db  | CREATE INDEX
supabase-db  | CREATE INDEX
supabase-db  | COMMENT
supabase-db  | CREATE FUNCTION
supabase-db  | DO
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | ALTER ROLE
supabase-db  | ALTER TABLE
supabase-db  | ALTER TABLE
supabase-db  | ALTER FUNCTION
supabase-db  | GRANT ROLE
supabase-db  | DO
supabase-db  | DO
supabase-db  | CREATE FUNCTION
supabase-db  | COMMENT
supabase-db  | DO
supabase-db  | INSERT 0 1
supabase-db  | ALTER FUNCTION
supabase-db  | ALTER FUNCTION
supabase-db  | REVOKE
supabase-db  | GRANT
supabase-db  | COMMIT
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/init-scripts/99-jwt.sql
supabase-db  | ALTER DATABASE
supabase-db  | ALTER DATABASE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/init-scripts/99-roles.sql
supabase-db  | ALTER ROLE
supabase-db  | ALTER ROLE
supabase-db  | ALTER ROLE
supabase-db  | ALTER ROLE
supabase-db  | ALTER ROLE
supabase-db  | ALTER ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/00-extension.sql
supabase-db  | psql:/docker-entrypoint-initdb.d/migrations/00-extension.sql:1: NOTICE:  schema "extensions" already exists, skipping
supabase-db  | CREATE SCHEMA
supabase-db  | CREATE EXTENSION
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/10000000000000_demote-postgres.sql
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | ALTER ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20211115181400_update-auth-permissions.sql
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | ALTER TABLE
supabase-db  | ALTER TABLE
supabase-db  | ALTER TABLE
supabase-db  | ALTER TABLE
supabase-db  | ALTER TABLE
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20211118015519_create-realtime-schema.sql
supabase-db  | CREATE SCHEMA
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20211122051245_update-realtime-permissions.sql
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20211124212715_update-auth-owner.sql
supabase-db  | DO
supabase-db  | DO
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20211130151719_update-realtime-permissions.sql
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20220118070449_enable-safeupdate-postgrest.sql
supabase-db  | ALTER ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20220126121436_finer-postgrest-triggers.sql
supabase-db  | psql:/docker-entrypoint-initdb.d/migrations/20220126121436_finer-postgrest-triggers.sql:3: NOTICE:  event trigger "api_restart" does not exist, skipping
supabase-db  | DROP EVENT TRIGGER
supabase-db  | DROP FUNCTION
supabase-db  | psql:/docker-entrypoint-initdb.d/migrations/20220126121436_finer-postgrest-triggers.sql:4: NOTICE:  function extensions.notify_api_restart() does not exist, skipping
supabase-db  | CREATE FUNCTION
supabase-db  | CREATE FUNCTION
supabase-db  | DROP EVENT TRIGGER
supabase-db  | psql:/docker-entrypoint-initdb.d/migrations/20220126121436_finer-postgrest-triggers.sql:59: NOTICE:  event trigger "pgrst_ddl_watch" does not exist, skipping
supabase-db  | CREATE EVENT TRIGGER
supabase-db  | DROP EVENT TRIGGER
supabase-db  | psql:/docker-entrypoint-initdb.d/migrations/20220126121436_finer-postgrest-triggers.sql:64: NOTICE:  event trigger "pgrst_drop_watch" does not exist, skipping
supabase-db  | CREATE EVENT TRIGGER
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20220224211803_fix-postgrest-supautils.sql
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20220317095840_pg_graphql.sql
supabase-db  | CREATE SCHEMA
supabase-db  | psql:/docker-entrypoint-initdb.d/migrations/20220317095840_pg_graphql.sql:5: NOTICE:  function graphql_public.graphql(text,text,jsonb) does not exist, skipping
supabase-db  | DROP FUNCTION
supabase-db  | CREATE FUNCTION
supabase-db  | GRANT
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | CREATE FUNCTION
supabase-db  | DROP EVENT TRIGGER
supabase-db  | psql:/docker-entrypoint-initdb.d/migrations/20220317095840_pg_graphql.sql:90: NOTICE:  event trigger "issue_pg_graphql_access" does not exist, skipping
supabase-db  | CREATE EVENT TRIGGER
supabase-db  | COMMENT
supabase-db  | CREATE FUNCTION
supabase-db  | DROP EVENT TRIGGER
supabase-db  | psql:/docker-entrypoint-initdb.d/migrations/20220317095840_pg_graphql.sql:143: NOTICE:  event trigger "issue_graphql_placeholder" does not exist, skipping
supabase-db  | CREATE EVENT TRIGGER
supabase-db  | COMMENT
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20220321174452_fix-postgrest-alter-type-event-trigger.sql
supabase-db  | psql:/docker-entrypoint-initdb.d/migrations/20220321174452_fix-postgrest-alter-type-event-trigger.sql:3: NOTICE:  event trigger "api_restart" does not exist, skipping
supabase-db  | DROP EVENT TRIGGER
supabase-db  | psql:/docker-entrypoint-initdb.d/migrations/20220321174452_fix-postgrest-alter-type-event-trigger.sql:4: NOTICE:  function extensions.notify_api_restart() does not exist, skipping
supabase-db  | DROP FUNCTION
supabase-db  | CREATE FUNCTION
supabase-db  | CREATE FUNCTION
supabase-db  | DROP EVENT TRIGGER
supabase-db  | CREATE EVENT TRIGGER
supabase-db  | DROP EVENT TRIGGER
supabase-db  | CREATE EVENT TRIGGER
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20220322085208_gotrue-session-limit.sql
supabase-db  | ALTER ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20220404205710_pg_graphql-on-by-default.sql
supabase-db  | CREATE FUNCTION
supabase-db  | CREATE FUNCTION
supabase-db  | CREATE FUNCTION
supabase-db  | psql:/docker-entrypoint-initdb.d/migrations/20220404205710_pg_graphql-on-by-default.sql:142: NOTICE:  extension "pg_graphql" does not exist, skipping
supabase-db  | DROP EXTENSION
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20220609081115_grant-supabase-auth-admin-and-supabase-storage-admin-to-postgres.sql
supabase-db  | GRANT ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20220613123923_pg_graphql-pg-dump-perms.sql
supabase-db  | CREATE FUNCTION
supabase-db  | DROP EXTENSION
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20220713082019_pg_cron-pg_net-temp-perms-fix.sql
supabase-db  | DO
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20221028101028_set_authenticator_timeout.sql
supabase-db  | ALTER ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20221103090837_revoke_admin.sql
supabase-db  | REVOKE ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20221207154255_create_pgsodium_and_vault.sql
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20230201083204_grant_auth_roles_to_postgres.sql
supabase-db  | GRANT ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20230224042246_grant_extensions_perms_for_postgres.sql
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | GRANT
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | ALTER DEFAULT PRIVILEGES
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20230306081037_grant_pg_monitor_to_postgres.sql
supabase-db  | GRANT ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20230327032006_grant_auth_roles_to_supabase_storage_admin.sql
supabase-db  | GRANT ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20230529180330_alter_api_roles_for_inherit.sql
supabase-db  | ALTER ROLE
supabase-db  | ALTER ROLE
supabase-db  | ALTER ROLE
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20231013070755_grant_authenticator_to_supabase_storage_admin.sql
supabase-db  | GRANT ROLE
supabase-db  | REVOKE ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20231017062225_grant_pg_graphql_permissions_for_custom_roles.sql
supabase-db  | CREATE FUNCTION
supabase-db  | DROP EXTENSION
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20231020085357_revoke_writes_on_cron_job_from_postgres.sql
supabase-db  | DO
supabase-db  | CREATE FUNCTION
supabase-db  | DROP EVENT TRIGGER
supabase-db  | ALTER FUNCTION
supabase-db  | CREATE EVENT TRIGGER
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20231130133139_set_lock_timeout_to_authenticator_role.sql
supabase-db  | ALTER ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20240124080435_alter_lo_export_lo_import_owner.sql
supabase-db  | ALTER FUNCTION
supabase-db  | ALTER FUNCTION
supabase-db  | ALTER FUNCTION
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20240606060239_grant_predefined_roles_to_postgres.sql
supabase-db  | GRANT ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20241031003909_create_orioledb.sql
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20241215003910_backfill_pgmq_metadata.sql
supabase-db  | DO
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20250205060043_disable_log_statement_on_internal_roles.sql
supabase-db  | ALTER ROLE
supabase-db  | ALTER ROLE
supabase-db  | ALTER ROLE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20250205144616_move_orioledb_to_extensions_schema.sql
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20250218031949_pgsodium_mask_role.sql
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20250220051611_pg_net_perms_fix.sql
supabase-db  | CREATE FUNCTION
supabase-db  | DO
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20250312095419_pgbouncer_ownership.sql
supabase-db  | ALTER FUNCTION
supabase-db  | GRANT
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20250402065937_alter_internal_event_triggers_owner_to_supabase_admin.sql
supabase-db  | DROP EVENT TRIGGER
supabase-db  | ALTER FUNCTION
supabase-db  | CREATE EVENT TRIGGER
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20250417190610_update_pgbouncer_get_auth.sql
supabase-db  | CREATE FUNCTION
supabase-db  | GRANT
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/20250421084701_revoke_admin_roles_from_postgres.sql
supabase-db  | REVOKE ROLE
supabase-db  | REVOKE
supabase-db  | REVOKE
supabase-db  | REVOKE ROLE
supabase-db  | REVOKE
supabase-db  | REVOKE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/97-_supabase.sql
supabase-db  | CREATE DATABASE
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/99-logs.sql
supabase-db  | You are now connected to database "_supabase" as user "supabase_admin".
supabase-db  | CREATE SCHEMA
supabase-db  | ALTER SCHEMA
supabase-db  | You are now connected to database "postgres" as user "supabase_admin".
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/99-pooler.sql
supabase-db  | You are now connected to database "_supabase" as user "supabase_admin".
supabase-db  | CREATE SCHEMA
supabase-db  | ALTER SCHEMA
supabase-db  | You are now connected to database "postgres" as user "supabase_admin".
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/migrations/99-realtime.sql
supabase-db  | CREATE SCHEMA
supabase-db  | ALTER SCHEMA
supabase-db  |  pg_stat_statements_reset 
supabase-db  | --------------------------
supabase-db  |  
supabase-db  | (1 row)
supabase-db  | 
supabase-db  |  pg_stat_reset 
supabase-db  | ---------------
supabase-db  |  
supabase-db  | (1 row)
supabase-db  | 
supabase-db  | 
supabase-db  | /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/migrations
supabase-db  | 
supabase-db  | waiting for server to shut down.... 2025-12-12 17:36:48.164 UTC [63] LOG:  pg_cron scheduler shutting down
supabase-db  |  2025-12-12 17:36:48.164 UTC [61] FATAL:  terminating background worker "TimescaleDB Background Worker Launcher" due to administrator command
supabase-db  | .. done
supabase-db  | server stopped
supabase-db  | 
supabase-db  | PostgreSQL init process complete; ready for start up.
supabase-db  | 
–ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –≤ dashboard Authenticate –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏ –æ—à–∏–±–∫–∞ –Ω–µ—Ç –∫–∞–∫–æ–≥–æ —Ç–æ —Å—Ç–æ–ª–±—Ü–∞ banned_until –≤ users
–û—Ç–ª–∏—á–Ω–æ! –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã. –¢–µ–ø–µ—Ä—å —è –≤–∏–∂—É –¥–≤–µ –ø—Ä–æ–±–ª–µ–º—ã:

–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Studio

–û—à–∏–±–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Å—Ç–æ–ª–±—Ü–∞ banned_until –≤ —Ç–∞–±–ª–∏—Ü–µ auth.users

üîç –ü—Ä–æ–±–ª–µ–º–∞ 1: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
–í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–æ–∫–∞:

text
supabase-db  | /docker-entrypoint-initdb.d/migrate.sh: running /docker-entrypoint-initdb.d/init-scripts/00000000000001-auth-schema.sql
supabase-db  | INSERT 0 7
–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç: –í —Ç–∞–±–ª–∏—Ü—É auth.sso_providers –≤—Å—Ç–∞–≤–ª–µ–Ω–æ 7 –∑–∞–ø–∏—Å–µ–π. –ü—Ä–æ–≤–µ—Ä–∏–º:

sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
SELECT * FROM auth.sso_providers;
–ï—Å–ª–∏ –∑–∞–ø–∏—Å–∏ –µ—Å—Ç—å, –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Studio, –∞ –Ω–µ –≤ –¥–∞–Ω–Ω—ã—Ö.

üîç –ü—Ä–æ–±–ª–µ–º–∞ 2: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç–æ–ª–±—Ü–∞ banned_until
–≠—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –≤–µ—Ä—Å–∏–∏! –í–∞—à –æ–±—Ä–∞–∑ supabase/gotrue (—Å–µ—Ä–≤–∏—Å auth) –æ–∂–∏–¥–∞–µ—Ç —Å—Ç–æ–ª–±–µ—Ü, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ —Ç–µ–∫—É—â–µ–π —Å—Ö–µ–º–µ.

–†–µ—à–µ–Ω–∏–µ:

sql
-- –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–π —Å—Ç–æ–ª–±–µ—Ü
ALTER TABLE auth.users 
ADD COLUMN IF NOT EXISTS banned_until timestamptz NULL;
üöÄ –ü–æ–ª–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
–î–æ–±–∞–≤—å—Ç–µ —Å—Ç–æ–ª–±–µ—Ü –≤ –ë–î:

bash
docker exec -it supabase-db psql -U postgres -d postgres -c "
ALTER TABLE auth.users 
ADD COLUMN IF NOT EXISTS banned_until timestamptz NULL;
"
–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å auth:

bash
docker compose restart auth
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö:

sql
-- –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 7 –∑–∞–ø–∏—Å–µ–π
SELECT id, resource_id, created_at 
FROM auth.sso_providers 
ORDER BY id;
üìã –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ auth.sso_providers:
id	resource_id	description
email	email	Email/password
phone	phone	Phone/SMS
apple	apple	Apple OAuth
azure	azure	Azure AD
bitbucket	bitbucket	Bitbucket
discord	discord	Discord
facebook	facebook	Facebook
figma	figma	Figma
github	github	GitHub
gitlab	gitlab	GitLab
google	google	Google
kakao	kakao	Kakao
keycloak	keycloak	Keycloak
linkedin	linkedin	LinkedIn
notion	notion	Notion
slack	slack	Slack
spotify	spotify	Spotify
twitch	twitch	Twitch
twitter	twitter	Twitter
workos	workos	WorkOS
zoom	zoom	Zoom
üîß –ï—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –æ—Ç–≤–µ—Ç Studio:

bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Studio –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö
curl -s "http://localhost:8000/auth/v1/sso/providers" \
  -H "apikey: $(grep ANON_KEY .env | cut -d= -f2)" | jq .
–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Gotrue:

bash
docker exec supabase-auth /gotrue --version
üéØ –ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:
‚úÖ –î–æ–±–∞–≤—å—Ç–µ —Å—Ç–æ–ª–±–µ—Ü banned_until

‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å auth

‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É auth.sso_providers

‚úÖ –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É Studio (http://localhost:3000)

–ï—Å–ª–∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–µ –ø–æ—è–≤—è—Ç—Å—è, –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –∫–µ—à–µ –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ –≤–µ—Ä—Å–∏–æ–Ω–Ω–æ–º –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ –æ–±—Ä–∞–∑–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ:

bash
# –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤
docker compose pull
docker compose up -d
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–∞) –∏ —Å–æ–æ–±—â–∏—Ç–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ.

SELECT * FROM auth.sso_providers; ERROR:  relation "auth.sso_providers" does not exist
LINE 2: SELECT * FROM auth.sso_providers;
                      ^ 

SQL state: 42P01
Character: 56 select t.table_name
from information_schema.tables t
where t.table_schema = 'auth'  -- put schema name here
     
order by t.table_name; table_name
audit_log_entries
instances
refresh_tokens
schema_migrations
users
–ê–≥–∞! –¢–µ–ø–µ—Ä—å –≤—Å—ë —è—Å–Ω–æ ‚Äî —Ç–∞–±–ª–∏—Ü—ã sso_providers –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Å—Ö–µ–º–µ auth. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–ª –Ω–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã.

üîç –ß—Ç–æ –µ—Å—Ç—å –≤ —Å—Ö–µ–º–µ auth (–∏–∑ –≤–∞—à–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞):
text
audit_log_entries
instances
refresh_tokens
schema_migrations
users
üö® –ü—Ä–æ–±–ª–µ–º–∞:
–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–∞–±–ª–∏—Ü—ã sso_providers, identities, sessions

–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ —ç—Ç–∏—Ö —Ç–∞–±–ª–∏—Ü

Studio –Ω–µ —Å–º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ä–∞–∑–¥–µ–ª Providers

üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ: –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü
–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç SQL –≤ –≤–∞—à–µ–π –ë–î:

sql
-- 1. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É sso_providers
CREATE TABLE IF NOT EXISTS auth.sso_providers (
    id TEXT PRIMARY KEY,
    resource_id TEXT NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 2. –í—Å—Ç–∞–≤–ª—è–µ–º –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
INSERT INTO auth.sso_providers (id, resource_id) VALUES
    ('email', 'email'),
    ('phone', 'phone')
ON CONFLICT (id) DO NOTHING;

-- 3. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É identities (—Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-–ø—Ä–æ–≤–∞–π–¥–µ—Ä)
CREATE TABLE IF NOT EXISTS auth.identities (
    id TEXT NOT NULL,
    user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
    identity_data JSONB NOT NULL,
    provider TEXT NOT NULL,
    last_sign_in_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW(),
    email TEXT GENERATED ALWAYS AS (identity_data->>'email') STORED,
    UNIQUE(provider, id)
);

-- 4. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É sessions (—Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
CREATE TABLE IF NOT EXISTS auth.sessions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 5. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å—ë —Å–æ–∑–¥–∞–ª–æ—Å—å
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'auth' 
ORDER BY table_name;
üìã –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
text
audit_log_entries
identities      ‚Üê –ù–û–í–ê–Ø
instances
refresh_tokens
schema_migrations
sessions        ‚Üê –ù–û–í–ê–Ø
sso_providers   ‚Üê –ù–û–í–ê–Ø
users
üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–æ–ª–±–µ—Ü banned_until
sql
-- –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–æ–ª–±–µ—Ü, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç gotrue
ALTER TABLE auth.users 
ADD COLUMN IF NOT EXISTS banned_until TIMESTAMPTZ NULL;
üöÄ –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü:
–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å auth:

bash
docker compose restart auth
–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å studio:

bash
docker compose restart studio
–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É Studio (http://localhost:3000)

‚ö†Ô∏è –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:
–í –ª–æ–≥–∞—Ö –±—ã–ª–æ INSERT 0 7, –Ω–æ –≤ –∫–∞–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ? –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —Å–∫—Ä–∏–ø—Ç –ø—ã—Ç–∞–ª—Å—è –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É, –ø–æ—ç—Ç–æ–º—É –Ω–∏—á–µ–≥–æ –Ω–µ —Å–æ–∑–¥–∞–ª–æ—Å—å.

üí° –ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –Ω–∞ –±—É–¥—É—â–µ–µ:
–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω—É—é –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é, –ª—É—á—à–µ:

–°–∫–∞—á–∞–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

bash
mkdir -p ./volumes/db
curl -L https://raw.githubusercontent.com/supabase/supabase/master/docker/volumes/db/init-scripts/00000000000001-auth-schema.sql -o ./volumes/db/auth-schema.sql
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏—Ö –≤—Ä—É—á–Ω—É—é:

bash
docker exec -i supabase-db psql -U postgres -d postgres < ./volumes/db/auth-schema.sql
–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-–∑–∞–ø—Ä–æ—Å—ã –≤—ã—à–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü, –∏ —Ä–∞–∑–¥–µ–ª Providers –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ Studio. –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —ç—Ç–∏—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤?

–°–∫–∞—á–∞–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è: —è –æ—Ç —Ç—É–¥–∞ –∏ –±—Ä–∞–ª
Read 10 web pages
–ü–æ—Å–∫–æ–ª—å–∫—É –≤—ã –∑–∞–≥—Ä—É–∑–∏–ª–∏ —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ ‚Äî –æ—à–∏–±–∫–∏ –≤ —Å–∞–º–æ–π –≤–µ—Ä—Å–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–ª–∏ –Ω–∞—Ä—É—à–µ–Ω–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –≠—Ç–æ —Å–ª–æ–∂–Ω–∞—è, –Ω–æ —Ä–µ—à–∞–µ–º–∞—è —Å–∏—Ç—É–∞—Ü–∏—è.

–î–∞–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏–º, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ —Å–∫—Ä–∏–ø—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –≤ –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–µ ./volumes/db/.

üîç –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, —Å –∫–∞–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ:

bash
# 1. –°—Ä–∞–≤–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º (–µ—Å–ª–∏ –µ—Å—Ç—å git)
ls -la ./volumes/db/init-scripts/
ls -la ./volumes/db/migrations/

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –∫–ª—é—á–µ–≤–æ–π —Å–∫—Ä–∏–ø—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–æ–Ω –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å `sso_providers`)
grep -r "sso_providers\|auth.sso_providers" ./volumes/db/
üß© –®–∞–≥ 2: –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤
–ï—Å–ª–∏ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ, –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø–æ—Ä—è–¥–∫–µ –∏–ª–∏ —É—Å–ª–æ–≤–∏—è—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω—É–∂–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –Ω–∞–ø—Ä—è–º—É—é. –°–Ω–∞—á–∞–ª–∞ –Ω–∞–π–¥–∏—Ç–µ –µ–≥–æ —Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:

bash
# –ü–æ–∏—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ç–∞–±–ª–∏—Ü—ã sso_providers
find ./volumes/db -name "*.sql" -type f -exec grep -l "CREATE TABLE.*sso_providers" {} \;

# –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏, –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π —Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
ls -lh ./volumes/db/init-scripts/00000000000001-auth-schema.sql 2>/dev/null || echo "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"
–ï—Å–ª–∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –≤—Ä—É—á–Ω—É—é –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –ë–î:

bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ë–î –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
docker exec -i supabase-db psql -U postgres -d postgres < ./volumes/db/init-scripts/00000000000001-auth-schema.sql
–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç, —ç—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –≤ –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤–∞–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ø—Ä–æ—â–µ –≤—Å–µ–≥–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ —à–∞–≥—É 3.

üîß –®–∞–≥ 3: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü –≤—Ä—É—á–Ω—É—é
–ü–æ—Å–∫–æ–ª—å–∫—É —É –≤–∞—Å —É–∂–µ –∑–∞–ø—É—â–µ–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± ‚Äî —Å–æ–∑–¥–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å –ø–æ–º–æ—â—å—é SQL-–∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–ª —Ä–∞–Ω–µ–µ. –≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ–π –ë–î.

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ –≤–∞—à–µ–π –ë–î (—á–µ—Ä–µ–∑ psql, Adminer –∏–ª–∏ SQL Editor –≤ Studio):

sql
-- –°–æ–∑–¥–∞–µ–º –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Å—Ö–µ–º–µ auth (–µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç)
-- 1. –¢–∞–±–ª–∏—Ü–∞ sso_providers
CREATE TABLE IF NOT EXISTS auth.sso_providers (
    id TEXT PRIMARY KEY,
    resource_id TEXT NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 2. –¢–∞–±–ª–∏—Ü–∞ identities (—Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-–ø—Ä–æ–≤–∞–π–¥–µ—Ä)
CREATE TABLE IF NOT EXISTS auth.identities (
    id TEXT NOT NULL,
    user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
    identity_data JSONB NOT NULL,
    provider TEXT NOT NULL,
    last_sign_in_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW(),
    email TEXT GENERATED ALWAYS AS (identity_data->>'email') STORED,
    UNIQUE(provider, id)
);

-- 3. –î–æ–±–∞–≤–ª—è–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Å—Ç–æ–ª–±–µ—Ü banned_until –≤ auth.users
ALTER TABLE auth.users 
ADD COLUMN IF NOT EXISTS banned_until TIMESTAMPTZ NULL;

-- 4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –í—Å—Ç–∞–≤–ª—è–µ–º –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
INSERT INTO auth.sso_providers (id, resource_id) 
VALUES ('email', 'email'), ('phone', 'phone')
ON CONFLICT (id) DO NOTHING;

-- 5. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'auth' 
ORDER BY table_name;
üìù –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã auth –∏ studio:

bash
docker compose restart auth studio
–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É Studio (http://localhost:3000) ‚Äî —Ä–∞–∑–¥–µ–ª Providers –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –º–µ–Ω—é Authentication.

–í–∞–∂–Ω–æ: –≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ "—Ç–æ—á–µ—á–Ω–æ" –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∞—à—É –±–∞–∑—É, –Ω–µ —Ç—Ä–æ–≥–∞—è –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –û–Ω –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ —Ç–æ–≥–æ, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ —Ç–∞–±–ª–∏—Ü—ã –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ (sso_providers, identities) –∏ –∫–∞–∫–æ–π —Å—Ç–æ–ª–±–µ—Ü (banned_until) –æ–∂–∏–¥–∞–ª —Å–µ—Ä–≤–∏—Å auth.

–ï—Å–ª–∏ –ø–æ—Å–ª–µ —ç—Ç–∏—Ö —à–∞–≥–æ–≤ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∏—Ç—Å—è, —ç—Ç–æ –±—É–¥–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫—É—é –ø—Ä–æ–±–ª–µ–º—É —Å –≤–µ—Ä—Å–∏—è–º–∏ –æ–±—Ä–∞–∑–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, supabase/gotrue). –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ø–æ–º–æ–∂–µ—Ç –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ auth —Å–µ—Ä–≤–∏—Å–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:

bash
docker compose logs auth --tail=50
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ø–æ SQL-–∑–∞–ø—Ä–æ—Å—É –≤—ã—à–µ ‚Äî —ç—Ç–æ —Å–∞–º—ã–π –ø—Ä—è–º–æ–π –ø—É—Ç—å —Ä–µ—à–µ–Ω–∏—è –∏–º–µ–Ω–Ω–æ –≤–∞—à–µ–π –ø—Ä–æ–±–ª–µ–º—ã.

ls -la ./volumes/db/init-scripts/
ls -la ./volumes/db/migrations/ —Ç—ã —Å–Ω–∞—á–∞–ª–∞ —Å–∞–º –ø–æ—Å–º–æ—Ç—Ä–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∞ –ø–æ—Ç–æ–º –Ω–µ—Å–∏ —á—É—à
Read 10 web pages
–í—ã –ø—Ä–∞–≤—ã ‚Äî –≤ —Ç–µ–∫—É—â–∏—Ö –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –Ω–µ—Ç —Ç–æ—á–Ω–æ–π –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫ ./volumes/db/ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Supabase —á–µ—Ä–µ–∑ docker-compose.yml –Ω–∞–ø—Ä—è–º—É—é (–±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CLI).

–î–∞–≤–∞–π—Ç–µ –±—ã—Å—Ç—Ä–æ —Ä–µ—à–∏–º –ø—Ä–æ–±–ª–µ–º—É. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ —É –≤–∞—Å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:

bash
ls -la ./volumes/db/
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∂–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ ./volumes/db/, –∏–∑ –∫–æ—Ç–æ—Ä–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —á–∏—Ç–∞—é—Ç SQL-—Å–∫—Ä–∏–ø—Ç—ã. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å, –≥–¥–µ –ª–µ–∂–∞—Ç —Ñ–∞–π–ª—ã –∏ –∫–∞–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –±—ã–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã (sso_providers, identities, sessions) –∏ —Å—Ç–æ–ª–±–µ—Ü banned_until, –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –æ—Ç–≤–µ—Ç–µ.

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç –≥–æ—Ç–æ–≤–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ psql), –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É docker exec –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL –ø—Ä—è–º–æ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –í–æ—Ç –¥–≤–∞ –Ω–∞–¥–µ–∂–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞.

üîß –°–ø–æ—Å–æ–± 1: –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL –∏–∑ —Ñ–∞–π–ª–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–°–æ–∑–¥–∞–π—Ç–µ SQL-—Ñ–∞–π–ª —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ –ø—Ä—è–º–æ –≤ –≤–∞—à–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –Ω–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, fix_auth_tables.sql:

sql
-- fix_auth_tables.sql
-- 1. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É sso_providers
CREATE TABLE IF NOT EXISTS auth.sso_providers (
    id TEXT PRIMARY KEY,
    resource_id TEXT NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 2. –í—Å—Ç–∞–≤–ª—è–µ–º –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
INSERT INTO auth.sso_providers (id, resource_id) VALUES
    ('email', 'email'),
    ('phone', 'phone')
ON CONFLICT (id) DO NOTHING;

-- 3. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É identities
CREATE TABLE IF NOT EXISTS auth.identities (
    id TEXT NOT NULL,
    user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
    identity_data JSONB NOT NULL,
    provider TEXT NOT NULL,
    last_sign_in_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW(),
    email TEXT GENERATED ALWAYS AS (identity_data->>'email') STORED,
    UNIQUE(provider, id)
);

-- 4. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É sessions
CREATE TABLE IF NOT EXISTS auth.sessions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 5. –î–æ–±–∞–≤–ª—è–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Å—Ç–æ–ª–±–µ—Ü banned_until –≤ auth.users
ALTER TABLE auth.users
ADD COLUMN IF NOT EXISTS banned_until TIMESTAMPTZ NULL;
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ supabase-db:

bash
docker exec -i supabase-db psql -U postgres -d postgres < ./fix_auth_tables.sql
–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:

bash
docker compose restart auth studio
üîß –°–ø–æ—Å–æ–± 2: –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL –∫–æ–º–∞–Ω–¥—É –Ω–∞–ø—Ä—è–º—É—é
–ï—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–¥–Ω—É –¥–ª–∏–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É, –≤—Å—Ç–∞–≤–ª—è—è SQL –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª:

bash
docker exec -i supabase-db psql -U postgres -d postgres << 'EOF'
-- –í—Å—Ç–∞–≤—å—Ç–µ –≤–µ—Å—å SQL-–∫–æ–¥ –∏–∑ –±–ª–æ–∫–∞ –≤—ã—à–µ (—Å CREATE TABLE, INSERT –∏ —Ç.–¥.)
EOF
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø–æ—è–≤–∏–ª–∏—Å—å –ª–∏ —Ç–∞–±–ª–∏—Ü—ã auth.sso_providers –∏ auth.identities. –ó–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É Studio, –∏ —Ä–∞–∑–¥–µ–ª Providers –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å –≤–∏–¥–∏–º—ã–º –≤ –º–µ–Ω—é Authentication.

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø—É—Å—Ç–∏—Ç–µ ls -la ./volumes/db/, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫, –∏ –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å, –µ—Å–ª–∏ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –°–ø–æ—Å–æ–± 1 –∏–ª–∏ –°–ø–æ—Å–æ–± 2 –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL.

$ sudo grep -r "sso_providers\|auth.sso_providers" ./volumes/db/
ivi@ivi-home:~/mywork/tao/taoinfra/supabase-project$
–ö–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞—à–ª–∞ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π sso_providers –≤ –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ ./volumes/db/. –≠—Ç–æ –∫–ª—é—á–µ–≤–∞—è –Ω–∞—Ö–æ–¥–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—ä—è—Å–Ω—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—É.

–í—ã–≤–æ–¥: –í —Å–∫—Ä–∏–ø—Ç–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Å–∫–∞—á–∞–ª–∏, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã auth.sso_providers. –ü–æ—ç—Ç–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä auth –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –µ—ë, –∞ Studio –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–∞–∑–¥–µ–ª "Providers".

–≠—Ç–æ –º–æ–≥–ª–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –∏–∑-–∑–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–π –≤–µ—Ç–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏–ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤. –ù–µ–≤–∞–∂–Ω–æ, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ ‚Äî —Ç–µ–ø–µ—Ä—å –º—ã –∑–Ω–∞–µ–º –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã.

‚úÖ –†–µ—à–µ–Ω–∏–µ: —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤—Ä—É—á–Ω—É—é
–ù—É–∂–Ω–æ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL-–∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞—Å—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã. –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å –µ—ë –ø—Ä—è–º–æ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

bash
docker exec -i supabase-db psql -U postgres -d postgres << 'EOF'
-- 1. –°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É sso_providers, –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
CREATE TABLE IF NOT EXISTS auth.sso_providers (
    id TEXT PRIMARY KEY,
    resource_id TEXT NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 2. –î–æ–±–∞–≤–ª—è–µ–º –¥–≤–∞ –±–∞–∑–æ–≤—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
INSERT INTO auth.sso_providers (id, resource_id) VALUES
    ('email', 'email'),
    ('phone', 'phone')
ON CONFLICT (id) DO NOTHING;

-- 3. –°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É identities (–≤–∞–∂–Ω–∞ –¥–ª—è —Å–≤—è–∑–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-–ø—Ä–æ–≤–∞–π–¥–µ—Ä)
CREATE TABLE IF NOT EXISTS auth.identities (
    id TEXT NOT NULL,
    user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
    identity_data JSONB NOT NULL,
    provider TEXT NOT NULL,
    last_sign_in_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW(),
    email TEXT GENERATED ALWAYS AS (identity_data->>'email') STORED,
    UNIQUE(provider, id)
);

-- 4. –°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É sessions (–¥–ª—è —É—á—ë—Ç–∞ —Å–µ—Å—Å–∏–π, –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è)
CREATE TABLE IF NOT EXISTS auth.sessions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 5. –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–æ–ª–±–µ—Ü banned_until, –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç—Ä–µ–±—É–µ—Ç —Ç–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è Gotrue
ALTER TABLE auth.users 
ADD COLUMN IF NOT EXISTS banned_until TIMESTAMPTZ NULL;

-- 6. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–ª–∏—Å—å
SELECT 'auth.sso_providers' as table, COUNT(*) as rows FROM auth.sso_providers
UNION ALL
SELECT 'auth.identities' as table, COUNT(*) as rows FROM auth.identities;
EOF
üöÄ –î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏
–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã auth –∏ studio, —á—Ç–æ–±—ã –æ–Ω–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

bash
docker compose restart auth studio
–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É Studio (http://localhost:3000). –†–∞–∑–¥–µ–ª Providers –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –º–µ–Ω—é Authentication.

–ü–æ—Å–ª–µ —ç—Ç–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –ø–æ–ª–Ω—É—é —Å—Ö–µ–º—É –¥–ª—è —Ä–∞–±–æ—Ç—ã. –í—ã —Å–º–æ–∂–µ—Ç–µ –≤–∫–ª—é—á–∞—Ç—å –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Email/Password, Google, GitHub –∏ —Ç.–¥.) —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

–ï—Å–ª–∏ —Å—Ç–æ–ª–±–µ—Ü banned_until –±—ã–ª –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—à–∏–±–∫–æ–π, –∏ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–ª–∏—Å—å —É—Å–ø–µ—à–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–µ—à–µ–Ω–∞.

–Ω—É –∞  –æ—Ç–∫—É–¥–∞ –≤–∑—è—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ  auth.sso_providers
Read 10 web pages
–í —Ç–∞–±–ª–∏—Ü–µ auth.sso_providers –æ–±—ã—á–Ω–æ —Ö—Ä–∞–Ω—è—Ç—Å—è –∑–∞–ø–∏—Å–∏ –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Ç–æ–¥–∞—Ö –≤—Ö–æ–¥–∞, –Ω–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–ª—è self-hosted –∏–Ω—Å—Ç–∞–Ω—Å–∞ –Ω–µ –≤—Å–µ–≥–¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Å–∫–∞—á–∞–ª–∏, —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É –Ω–µ –∑–∞–ø–æ–ª–Ω–∏–ª–∏.

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –µ–µ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø–∏—Å—è–º–∏ –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö. –ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω SQL-–∑–∞–ø—Ä–æ—Å –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã.

üìù SQL –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã auth.sso_providers
–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å, –ø–æ–¥–∫–ª—é—á–∏–≤—à–∏—Å—å –∫ –≤–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ psql, Adminer –∏–ª–∏ SQL Editor –≤ Studio:

sql
-- –í—Å—Ç–∞–≤–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
INSERT INTO auth.sso_providers (id, resource_id, created_at, updated_at)
VALUES 
    ('email', 'email', NOW(), NOW()),
    ('phone', 'phone', NOW(), NOW()),
    ('google', 'google', NOW(), NOW()),
    ('github', 'github', NOW(), NOW()),
    ('gitlab', 'gitlab', NOW(), NOW()),
    ('azure', 'azure', NOW(), NOW()),
    ('apple', 'apple', NOW(), NOW()),
    ('discord', 'discord', NOW(), NOW()),
    ('facebook', 'facebook', NOW(), NOW()),
    ('keycloak', 'keycloak', NOW(), NOW()),
    ('linkedin', 'linkedin', NOW(), NOW()),
    ('notion', 'notion', NOW(), NOW()),
    ('slack', 'slack', NOW(), NOW()),
    ('spotify', 'spotify', NOW(), NOW()),
    ('twitch', 'twitch', NOW(), NOW()),
    ('twitter', 'twitter', NOW(), NOW()),
    ('workos', 'workos', NOW(), NOW()),
    ('zoom', 'zoom', NOW(), NOW())
ON CONFLICT (id) DO NOTHING; -- –≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –∑–∞–ø–∏—Å—å —Å —Ç–∞–∫–∏–º id —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
üõ†Ô∏è –ö–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å
–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É docker exec. –ï—Å–ª–∏ –≤—ã –µ—â–µ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –ë–î, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

bash
docker exec -i supabase-db psql -U postgres -d postgres -c "
-- –í—Å—Ç–∞–≤—å—Ç–µ –≤–µ—Å—å SQL-–∫–æ–¥ –∏–∑ –±–ª–æ–∫–∞ –≤—ã—à–µ
"
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–ø–∏—Å–∏ –¥–æ–±–∞–≤–∏–ª–∏—Å—å:

sql
SELECT * FROM auth.sso_providers ORDER BY id;
üí° –ß—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å
–≠—Ç–∏ –∑–∞–ø–∏—Å–∏ ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫: –ó–∞–ø–∏—Å–∏ –≤ auth.sso_providers —Å–æ–æ–±—â–∞—é—Ç —Å–∏—Å—Ç–µ–º–µ Supabase, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –≤—Ö–æ–¥–∞ (–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã) –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ.

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ: –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç—Ç–∏—Ö –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –ø–æ—è–≤—è—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Studio (—Ä–∞–∑–¥–µ–ª Authentication ‚Üí Providers). –û–¥–Ω–∞–∫–æ —á—Ç–æ–±—ã –æ–Ω–∏ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ OAuth-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤—Ä–æ–¥–µ Google –∏–ª–∏ GitHub), –∏—Ö –µ—â–µ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å, —É–∫–∞–∑–∞–≤ —Å–≤–æ–∏ Client ID –∏ Secret. –°–¥–µ–ª–∞—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —á–µ—Ä–µ–∑ —Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Studio.

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ —Ä–∞–∑–¥–µ–ª "Providers" –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ Studio, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –≤—Ö–æ–¥–∞.

–ï—Å–ª–∏ —É –≤–∞—Å –æ—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ OAuth –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å.

-- –í—Å—Ç–∞–≤–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
INSERT INTO auth.sso_providers (id, resource_id, created_at, updated_at)
VALUES 
    ('email', 'email', NOW(), NOW()),
    ('phone', 'phone', NOW(), NOW()),
    ('google', 'google', NOW(), NOW()),
    ('github', 'github', NOW(), NOW()),
    ('gitlab', 'gitlab', NOW(), NOW()),
    ('azure', 'azure', NOW(), NOW()),
    ('apple', 'apple', NOW(), NOW()),
    ('discord', 'discord', NOW(), NOW()),
    ('facebook', 'facebook', NOW(), NOW()),
    ('keycloak', 'keycloak', NOW(), NOW()),
    ('linkedin', 'linkedin', NOW(), NOW()),
    ('notion', 'notion', NOW(), NOW()),
    ('slack', 'slack', NOW(), NOW()),
    ('spotify', 'spotify', NOW(), NOW()),
    ('twitch', 'twitch', NOW(), NOW()),
    ('twitter', 'twitter', NOW(), NOW()),
    ('workos', 'workos', NOW(), NOW()),
    ('zoom', 'zoom', NOW(), NOW())
ON CONFLICT (id) DO NOTHING; -- –≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –∑–∞–ø–∏—Å—å —Å —Ç–∞–∫–∏–º id —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ERROR:  invalid input syntax for type uuid: "email"
LINE 4:     ('email', 'email', NOW(), NOW()),
             ^ 

SQL state: 22P02
Character: 134
–û—à–∏–±–∫–∞ "invalid input syntax for type uuid: 'email'" –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (–ø–æ–ª–µ id) –≤ —Ç–∞–±–ª–∏—Ü–µ auth.sso_providers –∏–º–µ–µ—Ç —Ç–∏–ø UUID, –∞ –Ω–µ TEXT, –∫–∞–∫ —è –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–ª —Ä–∞–Ω–µ–µ.

üîç –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π SQL –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
–ù—É–∂–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è UUID, –∞ –Ω–µ —Å—Ç—Ä–æ–∫–∏. –í–æ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å:

sql
-- –í—Å—Ç–∞–≤–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å UUID
INSERT INTO auth.sso_providers (id, resource_id, created_at, updated_at)
VALUES 
    ('11111111-1111-1111-1111-111111111111', 'email', NOW(), NOW()),
    ('22222222-2222-2222-2222-222222222222', 'phone', NOW(), NOW()),
    ('33333333-3333-3333-3333-333333333333', 'google', NOW(), NOW()),
    ('44444444-4444-4444-4444-444444444444', 'github', NOW(), NOW()),
    ('55555555-5555-5555-5555-555555555555', 'gitlab', NOW(), NOW()),
    ('66666666-6666-6666-6666-666666666666', 'azure', NOW(), NOW()),
    ('77777777-7777-7777-7777-777777777777', 'apple', NOW(), NOW()),
    ('88888888-8888-8888-8888-888888888888', 'discord', NOW(), NOW()),
    ('99999999-9999-9999-9999-999999999999', 'facebook', NOW(), NOW()),
    ('aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 'keycloak', NOW(), NOW()),
    ('bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', 'linkedin', NOW(), NOW()),
    ('cccccccc-cccc-cccc-cccc-cccccccccccc', 'notion', NOW(), NOW()),
    ('dddddddd-dddd-dddd-dddd-dddddddddddd', 'slack', NOW(), NOW()),
    ('eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee', 'spotify', NOW(), NOW()),
    ('ffffffff-ffff-ffff-ffff-ffffffffffff', 'twitch', NOW(), NOW()),
    ('00000000-0000-0000-0000-000000000000', 'twitter', NOW(), NOW()),
    ('11111111-1111-1111-1111-111111111112', 'workos', NOW(), NOW()),
    ('22222222-2222-2222-2222-222222222223', 'zoom', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;
üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã
–ü–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π —Å—Ç–æ–∏—Ç —É–±–µ–¥–∏—Ç—å—Å—è, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ —Å—Ç–æ–ª–±—Ü—ã –µ—Å—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ:

sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã auth.sso_providers
SELECT column_name, data_type, is_nullable 
FROM information_schema.columns 
WHERE table_schema = 'auth' AND table_name = 'sso_providers'
ORDER BY ordinal_position;
–ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, id –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ UUID, –Ω–æ resource_id —Ç–æ–∂–µ UUID), —Ç–æ –Ω—É–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å UUID –∏ –¥–ª—è resource_id. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

sql
-- –ï—Å–ª–∏ resource_id —Ç–æ–∂–µ UUID
INSERT INTO auth.sso_providers (id, resource_id, created_at, updated_at)
VALUES 
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW());
-- –∏ —Ç.–¥.
üöÄ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π SQL-–∑–∞–ø—Ä–æ—Å —Å UUID

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

sql
SELECT * FROM auth.sso_providers ORDER BY created_at;
–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

bash
docker compose restart auth studio
üí° –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å
UUID –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ ‚Äî –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ –æ–Ω–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —à–∞–±–ª–æ–Ω—É –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏

–ü—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å gen_random_uuid() –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è

–ï—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã —É–∂–µ –µ—Å—Ç—å ‚Äî –∫–æ–º–∞–Ω–¥–∞ ON CONFLICT –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∏ —Å–æ–æ–±—â–∏—Ç–µ, —Å—Ä–∞–±–æ—Ç–∞–ª–æ –ª–∏.

-- –í—Å—Ç–∞–≤–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å UUID
INSERT INTO auth.sso_providers (id, resource_id, created_at, updated_at)
VALUES 
    ('11111111-1111-1111-1111-111111111111', 'email', NOW(), NOW()),
    ('22222222-2222-2222-2222-222222222222', 'phone', NOW(), NOW()),
    ('33333333-3333-3333-3333-333333333333', 'google', NOW(), NOW()),
    ('44444444-4444-4444-4444-444444444444', 'github', NOW(), NOW()),
    ('55555555-5555-5555-5555-555555555555', 'gitlab', NOW(), NOW()),
    ('66666666-6666-6666-6666-666666666666', 'azure', NOW(), NOW()),
    ('77777777-7777-7777-7777-777777777777', 'apple', NOW(), NOW()),
    ('88888888-8888-8888-8888-888888888888', 'discord', NOW(), NOW()),
    ('99999999-9999-9999-9999-999999999999', 'facebook', NOW(), NOW()),
    ('aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 'keycloak', NOW(), NOW()),
    ('bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', 'linkedin', NOW(), NOW()),
    ('cccccccc-cccc-cccc-cccc-cccccccccccc', 'notion', NOW(), NOW()),
    ('dddddddd-dddd-dddd-dddd-dddddddddddd', 'slack', NOW(), NOW()),
    ('eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee', 'spotify', NOW(), NOW()),
    ('ffffffff-ffff-ffff-ffff-ffffffffffff', 'twitch', NOW(), NOW()),
    ('00000000-0000-0000-0000-000000000000', 'twitter', NOW(), NOW()),
    ('11111111-1111-1111-1111-111111111112', 'workos', NOW(), NOW()),
    ('22222222-2222-2222-2222-222222222223', 'zoom', NOW(), NOW())
ON CONFLICT (id) DO NOTHING; ghtgtib c –ø—É—Ç_–∫—Ñ—Ç–≤—â—å
–û—à–∏–±–∫–∞ "invalid input syntax for type uuid: 'email'" —É–∂–µ –±—ã–ª–∞ –Ω–∞ –ø–µ—Ä–≤–æ–º UUID, –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ UUID. –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –ø–æ–ª–µ resource_id —Ç–æ–∂–µ –∏–º–µ–µ—Ç —Ç–∏–ø UUID, –∏ –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –≤—Å—Ç–∞–≤–∏—Ç—å —Ç—É–¥–∞ —Å—Ç—Ä–æ–∫—É 'email'.

üîç –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ
–î–∞–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º —Ç–æ—á–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã:

sql
-- –£–∑–Ω–∞–µ–º —Ç–æ—á–Ω—ã–µ —Ç–∏–ø—ã —Å—Ç–æ–ª–±—Ü–æ–≤
\d+ auth.sso_providers
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –±—É–¥—É—Ç 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞:

üéØ –í–∞—Ä–∏–∞–Ω—Ç 1: –ï—Å–ª–∏ resource_id ‚Äî UUID
–ï—Å–ª–∏ –æ–±–∞ –ø–æ–ª—è ‚Äî id –∏ resource_id ‚Äî —Ç–∏–ø–∞ uuid, —Ç–æ–≥–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –Ω—É–∂–Ω—ã –î–í–ê UUID:

sql
-- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º UUID –Ω–∞ –ª–µ—Ç—É
INSERT INTO auth.sso_providers (id, resource_id, created_at, updated_at)
VALUES 
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW()),
    (gen_random_uuid(), gen_random_uuid(), NOW(), NOW())
ON CONFLICT (id) DO NOTHING;
üéØ –í–∞—Ä–∏–∞–Ω—Ç 2: –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–ß–∞—â–µ –≤—Å–µ–≥–æ –≤ Supabase –ø–æ–ª—è id ‚Äî uuid, –∞ resource_id ‚Äî text. –ï—Å–ª–∏ —ç—Ç–æ —Ç–∞–∫, –≤–æ–∑–º–æ–∂–Ω–æ, —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–ª–∞—Å—å —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏. –ü—Ä–æ—â–µ –≤—Å–µ–≥–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –µ—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

sql
-- 1. –£–¥–∞–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É (–µ—Å–ª–∏ –æ–Ω–∞ –ø—É—Å—Ç–∞—è –∏–ª–∏ –≤—ã –Ω–µ —Ç–µ—Ä—è–µ—Ç–µ –¥–∞–Ω–Ω—ã–µ)
DROP TABLE IF EXISTS auth.sso_providers;

-- 2. –°–æ–∑–¥–∞–µ–º —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
CREATE TABLE auth.sso_providers (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    resource_id TEXT NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 3. –í—Å—Ç–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
INSERT INTO auth.sso_providers (resource_id) VALUES
    ('email'),
    ('phone'),
    ('google'),
    ('github'),
    ('gitlab'),
    ('azure'),
    ('apple'),
    ('discord'),
    ('facebook'),
    ('keycloak'),
    ('linkedin'),
    ('notion'),
    ('slack'),
    ('spotify'),
    ('twitch'),
    ('twitter'),
    ('workos'),
    ('zoom');

-- 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º
SELECT * FROM auth.sso_providers;
üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:
–í—ã–ø–æ–ª–Ω–∏—Ç–µ \d+ auth.sso_providers, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É

–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã—à–µ

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:

bash
docker compose restart auth studio
–ï—Å–ª–∏ –≤—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å \d+ (—ç—Ç–æ –∫–æ–º–∞–Ω–¥–∞ psql), –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

sql
SELECT column_name, data_type 
FROM information_schema.columns 
WHERE table_schema = 'auth' AND table_name = 'sso_providers';
–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã, –∏ —è –ø–æ–º–æ–≥—É —Å —Ç–æ—á–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º.

sso_domains –¢–æ–∂–µ –ø—É—Å—Ç–∞—è
–¢–∞–±–ª–∏—Ü–∞ sso_domains —Å–≤—è–∑–∞–Ω–∞ —Å –¥–æ–º–µ–Ω–∞–º–∏ –¥–ª—è SSO (Single Sign-On). –ï—Å–ª–∏ –æ–Ω–∞ –ø—É—Å—Ç–∞—è ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º –µ—ë —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –∑–∞–ø–æ–ª–Ω–∏–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

üîç –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã:
sql
-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã sso_domains
\d+ auth.sso_domains

-- –ò–ª–∏ —á–µ—Ä–µ–∑ information_schema:
SELECT column_name, data_type, is_nullable 
FROM information_schema.columns 
WHERE table_schema = 'auth' AND table_name = 'sso_domains'
ORDER BY ordinal_position;
üìù –ü—Ä–∏–º–µ—Ä–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∞–±–ª–∏—Ü—ã sso_domains (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
sql
-- –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –ø—É—Å—Ç–∞—è, –∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
INSERT INTO auth.sso_domains (sso_provider_id, domain, created_at, updated_at)
VALUES 
    ((SELECT id FROM auth.sso_providers WHERE resource_id = 'google' LIMIT 1), 'your-company.com', NOW(), NOW()),
    ((SELECT id FROM auth.sso_providers WHERE resource_id = 'azure' LIMIT 1), 'your-company.com', NOW(), NOW())
ON CONFLICT DO NOTHING;
–í–∞–∂–Ω–æ: –¢–∞–±–ª–∏—Ü–∞ sso_domains –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –¥–æ–º–µ–Ω–æ–≤ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º SSO-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å email @your-company.com –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ Google Workspace –¥–ª—è –≤—Ö–æ–¥–∞). –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç —Ç–∞–∫–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —Ç–∞–±–ª–∏—Ü–∞ –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –ø—É—Å—Ç–æ–π.

üõ†Ô∏è –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ sso_domains –≤–æ–æ–±—â–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
sql
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã sso_domains (–µ—Å–ª–∏ –µ—ë –Ω–µ—Ç)
CREATE TABLE IF NOT EXISTS auth.sso_domains (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    sso_provider_id UUID NOT NULL REFERENCES auth.sso_providers(id) ON DELETE CASCADE,
    domain TEXT NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW(),
    UNIQUE(domain)
);
üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Å–µ–π —Å—Ö–µ–º—ã auth:
–ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –≤ —Å—Ö–µ–º–µ auth
SELECT 
    table_name,
    (SELECT COUNT(*) FROM information_schema.columns c 
     WHERE c.table_schema = t.table_schema AND c.table_name = t.table_name) as columns_count
FROM information_schema.tables t
WHERE table_schema = 'auth' 
ORDER BY table_name;
üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã sso_domains —Å –ø–æ–º–æ—â—å—é –∑–∞–ø—Ä–æ—Å–∞ –≤—ã—à–µ

–ï—Å–ª–∏ –æ–Ω–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî —Å–æ–∑–¥–∞–π—Ç–µ –µ—ë

–ï—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –ø—É—Å—Ç–∞—è ‚Äî –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–º–µ–Ω–Ω–æ–≥–æ SSO

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:

bash
docker compose restart auth studio
üí° –í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ:
–¢–∞–±–ª–∏—Ü–∞ sso_domains –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è –±–∞–∑–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

–û–Ω–∞ –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π SSO (SAML/OIDC) —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –¥–æ–º–µ–Ω–∞–º

–î–ª—è –æ–±—ã—á–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (email, Google, GitHub) —ç—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã sso_domains, —á—Ç–æ–±—ã —è –º–æ–≥ –¥–∞—Ç—å –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

docker compose restart auth studio yj–Ω–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã —Ç–∞–∫ –∏ –Ω–µ –ø–æ—è–≤–∏–ª–∏—Å—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ http://localhost:8000/project/default/auth/users?sortBy=id
–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –≤—ã –ø—Ä–æ–≤–µ—Ä—è–µ—Ç–µ –Ω–µ —Ç–æ—Ç URL. –†–∞–∑–¥–µ–ª "Providers" –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ Studio (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å), –∞ –Ω–µ –≤ API Kong.

üéØ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
–°–µ—Ä–≤–∏—Å	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ	URL (–¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
Studio	–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è	http://localhost:3000
Authentication API	REST API –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏	http://localhost:8000/auth/v1/*
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ API	–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤	curl http://localhost:8000/auth/v1/sso/providers
üîç –ü–æ—á–µ–º—É Providers –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:
–í—ã —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ ‚Üí –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å http://localhost:3000

Studio –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ ‚Üí –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

bash
# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Studio
docker compose stop studio
docker compose rm -f studio
docker compose up -d studio
–ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–µ—à–µ–º –±—Ä–∞—É–∑–µ—Ä–∞ ‚Üí –æ—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000 –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ –∏–ª–∏ –æ—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à

üìä –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã:

sql
-- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ë–î –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ
SELECT 'auth.sso_providers' as table, COUNT(*) as rows FROM auth.sso_providers
UNION ALL
SELECT 'auth.sso_domains' as table, COUNT(*) as rows FROM auth.sso_domains;
–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:

bash
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
curl -s "http://localhost:8000/auth/v1/sso/providers" \
  -H "apikey: $(grep ANON_KEY .env | cut -d= -f2)"
–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Studio:

bash
docker compose logs studio --tail=50
üöÄ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL: http://localhost:3000

–ó–∞–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª Authentication –≤ –ª–µ–≤–æ–º –º–µ–Ω—é

–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Providers" (–æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä—è–¥–æ–º —Å "Users")

‚ö†Ô∏è –ï—Å–ª–∏ —Ä–∞–∑–¥–µ–ª –≤—Å—ë –µ—â—ë –Ω–µ –≤–∏–¥–µ–Ω:
–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–µ—Ä—Å–∏–π –º–µ–∂–¥—É studio –∏ auth –æ–±—Ä–∞–∑–∞–º–∏

–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ (–∫–ª—é—á–∏ API –≤ .env –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç)

–ù–µ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã (–Ω—É–∂–Ω—ã sso_providers, identities, sessions)

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü auth:

sql
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'auth' 
ORDER BY table_name;
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º:

text
audit_log_entries
identities
instances
refresh_tokens
schema_migrations
sessions
sso_providers
users
‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω:
‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000 (–Ω–µ :8000)

‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü auth –≤ –ë–î

‚úÖ –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç ‚Äî —Å–æ–∑–¥–∞–π—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ

‚úÖ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ studio –ø–æ–ª–Ω–æ—Å—Ç—å—é

–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∞–±–ª–∏—Ü –∏ API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, —á—Ç–æ–±—ã —è –º–æ–≥ —Ç–æ—á–Ω–µ–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É.

http://localhost:3000 This site can‚Äôt be reached studio:
    container_name: supabase-studio
    image: supabase/studio:2025.12.09-sha-434634f
    restart: unless-stopped
    healthcheck:
      test:
        [
          "CMD",
          "node",
          "-e",
          "fetch('http://studio:3000/api/platform/profile').then((r) => {if (r.status !== 200) throw new Error(r.status)})"
        ]
      timeout: 10s
      interval: 5s
      retries: 3
    depends_on:
      analytics:
        condition: service_healthy
    environment:
      # Binds nestjs listener to both IPv4 and IPv6 network interfaces
      HOSTNAME: "::"

      STUDIO_PG_META_URL: http://meta:8080
      POSTGRES_PORT: ${POSTGRES_PORT}
      POSTGRES_HOST: ${POSTGRES_HOST}
      POSTGRES_DB: ${POSTGRES_DB}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      PG_META_CRYPTO_KEY: ${PG_META_CRYPTO_KEY}

      DEFAULT_ORGANIZATION_NAME: ${STUDIO_DEFAULT_ORGANIZATION}
      DEFAULT_PROJECT_NAME: ${STUDIO_DEFAULT_PROJECT}
      OPENAI_API_KEY: ${OPENAI_API_KEY:-}

      SUPABASE_URL: http://kong:8000
      SUPABASE_PUBLIC_URL: ${SUPABASE_PUBLIC_URL}
      SUPABASE_ANON_KEY: ${ANON_KEY}
      SUPABASE_SERVICE_KEY: ${SERVICE_ROLE_KEY}
      AUTH_JWT_SECRET: ${JWT_SECRET}

      # LOGFLARE_API_KEY is deprecated
      LOGFLARE_API_KEY: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
      LOGFLARE_PUBLIC_ACCESS_TOKEN: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
      LOGFLARE_PRIVATE_ACCESS_TOKEN: ${LOGFLARE_PRIVATE_ACCESS_TOKEN}

      LOGFLARE_URL: http://analytics:4000
      NEXT_PUBLIC_ENABLE_LOGS: true
      # Comment to use Big Query backend for analytics
      NEXT_ANALYTICS_BACKEND_PROVIDER: postgres
      # Uncomment to use Big Query backend for analytics
      # NEXT_ANALYTICS_BACKEND_PROVIDER: bigquery
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Studio –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ localhost:3000 –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –µ–≥–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ—Ç ports:. –≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞.

üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Studio
–î–æ–±–∞–≤—å—Ç–µ –≤ —Å–µ–∫—Ü–∏—é studio: –≤–∞—à–µ–≥–æ docker-compose.yml –ø–æ—Ä—Ç:

yaml
services:
  studio:
    container_name: supabase-studio
    image: supabase/studio:2025.12.09-sha-434634f
    # –î–û–ë–ê–í–¨–¢–ï –≠–¢–û–¢ –ë–õ–û–ö –ü–û–†–¢–û–í:
    ports:
      - "3000:3000"  # <-- —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞
    restart: unless-stopped
    # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
üìù –ü–æ–ª–Ω—ã–π –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –±–ª–æ–∫ studio::
yaml
  studio:
    container_name: supabase-studio
    image: supabase/studio:2025.12.09-sha-434634f
    ports:
      - "3000:3000"  # ‚Üê –í–ê–ñ–ù–û: –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–∞ –Ω–∞ —Ö–æ—Å—Ç
    restart: unless-stopped
    healthcheck:
      test:
        [
          "CMD",
          "node",
          "-e",
          "fetch('http://studio:3000/api/platform/profile').then((r) => {if (r.status !== 200) throw new Error(r.status)})"
        ]
      timeout: 10s
      interval: 5s
      retries: 3
    depends_on:
      analytics:
        condition: service_healthy
    environment:
      HOSTNAME: "::"
      STUDIO_PG_META_URL: http://meta:8080
      POSTGRES_PORT: ${POSTGRES_PORT}
      POSTGRES_HOST: ${POSTGRES_HOST}
      POSTGRES_DB: ${POSTGRES_DB}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      PG_META_CRYPTO_KEY: ${PG_META_CRYPTO_KEY}
      DEFAULT_ORGANIZATION_NAME: ${STUDIO_DEFAULT_ORGANIZATION}
      DEFAULT_PROJECT_NAME: ${STUDIO_DEFAULT_PROJECT}
      OPENAI_API_KEY: ${OPENAI_API_KEY:-}
      SUPABASE_URL: http://kong:8000
      SUPABASE_PUBLIC_URL: ${SUPABASE_PUBLIC_URL}
      SUPABASE_ANON_KEY: ${ANON_KEY}
      SUPABASE_SERVICE_KEY: ${SERVICE_ROLE_KEY}
      AUTH_JWT_SECRET: ${JWT_SECRET}
      LOGFLARE_API_KEY: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
      LOGFLARE_PUBLIC_ACCESS_TOKEN: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
      LOGFLARE_PRIVATE_ACCESS_TOKEN: ${LOGFLARE_PRIVATE_ACCESS_TOKEN}
      LOGFLARE_URL: http://analytics:4000
      NEXT_PUBLIC_ENABLE_LOGS: "true"  # ‚Üê –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–∞–≤—ã—á–∫–∞—Ö
      NEXT_ANALYTICS_BACKEND_PROVIDER: postgres
üöÄ –î–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

bash
docker compose up -d studio
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:

bash
docker compose ps studio
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å Up –∏ 3000/tcp –≤ –∫–æ–ª–æ–Ω–∫–µ PORTS.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ (–µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è):

bash
docker compose logs studio --tail=20
–û—Ç–∫—Ä–æ–π—Ç–µ Studio: http://localhost:3000

üîç –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:
Healthcheck —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ Docker (http://studio:3000)

–ù–æ –ø–æ—Ä—Ç –Ω–µ –ø—Ä–æ–±—Ä–æ—à–µ–Ω –Ω–∞ —Ö–æ—Å—Ç ‚Üí localhost:3000 –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

–î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã (kong, analytics) –∏–º–µ—é—Ç ports: ‚Üí –æ–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã

Studio –±–µ–∑ ports: ‚Üí —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥—Ä—É–≥–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã:
–í—Å–µ –ª–∏ boolean-–∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–∞–≤—ã—á–∫–∞—Ö?

NEXT_PUBLIC_ENABLE_LOGS: "true" (–∞ –Ω–µ true)

–í –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö —Ç–æ–∂–µ (analytics, supavisor)

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ .env?

STUDIO_DEFAULT_ORGANIZATION, STUDIO_DEFAULT_PROJECT –∏ –¥—Ä—É–≥–∏–µ

‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:
Studio –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:3000

–í–æ–π–¥–∏—Ç–µ —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–µ–π –∏–∑ .env

–†–∞–∑–¥–µ–ª Authentication ‚Üí Providers –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ä—Ç–∞ –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥—É—Ç –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥:

bash
docker compose ps
docker compose logs studio --tail=30
http://localhost:3000/project/default/auth/users?sortBy=id –í–æ–π–¥–∏—Ç–µ —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–µ–π –∏–∑ .env –∫–∞–∫–∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ
–î–ª—è –≤—Ö–æ–¥–∞ –≤ Studio (http://localhost:3000) –Ω—É–∂–Ω—ã JWT-–∫–ª—é—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∏–∑ –≤–∞—à–µ–≥–æ .env —Ñ–∞–π–ª–∞.

üîê –ö–ª—é—á–∏ –∏–∑ .env, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
–ö–ª—é—á –≤ .env	–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è	–î–ª—è —á–µ–≥–æ
ANON_KEY	–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è	–ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
SERVICE_ROLE_KEY	–°–µ—Ä–≤–µ—Ä–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è/–∞–¥–º–∏–Ω–∫–∞	–ü—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø (–∫–∞–∫ root)
üñ•Ô∏è –ö–∞–∫ –≤–æ–π—Ç–∏:
–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000

–í—Å—Ç–∞–≤—å—Ç–µ –æ–¥–∏–Ω –∏–∑ –∫–ª—é—á–µ–π –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞:

–î–ª—è –æ–±—ã—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã: ANON_KEY

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è): SERVICE_ROLE_KEY

–ù–∞–∂–º–∏—Ç–µ "Continue"

üìã –ì–¥–µ –≤–∑—è—Ç—å —ç—Ç–∏ –∫–ª—é—á–∏:
bash
# –ü–æ–∫–∞–∑–∞—Ç—å –∫–ª—é—á–∏ –∏–∑ .env —Ñ–∞–π–ª–∞
grep -E "(ANON_KEY|SERVICE_ROLE_KEY)" .env

# –ò–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–µ—Å—å .env
cat .env | grep -A1 -B1 "KEY"
üîß –ï—Å–ª–∏ –∫–ª—é—á–µ–π –Ω–µ—Ç –≤ .env:
–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∏—Ö (–º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞):

bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT_SECRET (–µ—Å–ª–∏ –Ω–µ—Ç)
openssl rand -base64 32

# –î–æ–±–∞–≤—å—Ç–µ –≤ .env
echo "JWT_SECRET=–≤–∞—à_—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_–∫–ª—é—á_—Ç—É—Ç" >> .env
echo "ANON_KEY=–≤–∞—à_anon_–∫–ª—é—á_—Ç—É—Ç" >> .env
echo "SERVICE_ROLE_KEY=–≤–∞—à_service_–∫–ª—é—á_—Ç—É—Ç" >> .env
‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:
–ö–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç–µ–º–∏, —á—Ç–æ –≤ docker-compose.yml

Studio —Ç—Ä–µ–±—É–µ—Ç JWT, –∞ –Ω–µ –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ –∫–ª—é—á–∞ –≤—ã –ø–æ–ø–∞–¥–µ—Ç–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–º

üöÄ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—é—á–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ studio
docker exec supabase-studio printenv | grep -i key

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –¥–æ—Å—Ç—É–ø
curl -H "apikey: $ANON_KEY" http://localhost:8000/rest/v1/
‚ùå –ï—Å–ª–∏ –Ω–µ –ø—É—Å–∫–∞–µ—Ç:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å .env (–±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤, –∫–∞–≤—ã—á–µ–∫)

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ studio —Å –Ω–æ–≤—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

bash
docker compose down studio
docker compose up -d studio
–ü–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ grep -E "(ANON_KEY|SERVICE_ROLE_KEY|JWT_SECRET)" .env, –∏ —è –ø–æ–º–æ–≥—É –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π.

–£–∑–∞–ª–æ—Å—å –∑–∞–π—Ç–∏ –±–µ–∑ –∫–ª—é—á–∞
–û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ —É–¥–∞–ª–æ—Å—å –∑–∞–π—Ç–∏! –¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –≤—ã –≤–Ω—É—Ç—Ä–∏ Studio, –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ä–∞–∑–¥–µ–ª–∞ Providers.

üéØ –ì–¥–µ –∏—Å–∫–∞—Ç—å —Ä–∞–∑–¥–µ–ª Providers:
–í –ª–µ–≤–æ–º –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏—Ç–µ –∏ —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ —Ä–∞–∑–¥–µ–ª Authentication:

text
Authentication ‚ñº
‚îú‚îÄ‚îÄ Users
‚îú‚îÄ‚îÄ Providers      <-- –í–æ—Ç —ç—Ç–æ—Ç –ø—É–Ω–∫—Ç –≤–∞–º –Ω—É–∂–µ–Ω
‚îú‚îÄ‚îÄ Policies
‚îú‚îÄ‚îÄ Templates
‚îî‚îÄ‚îÄ Configuration
–ï—Å–ª–∏ –º–µ–Ω—é —Å–∫—Ä—ã—Ç–æ ‚Äî –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É "—Ç—Ä–∏ –ø–æ–ª–æ—Å–∫–∏" (‚ò∞) –≤ –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º —É–≥–ª—É.

üîç –ï—Å–ª–∏ —Ä–∞–∑–¥–µ–ª–∞ "Providers" –≤—Å—ë –µ—â—ë –Ω–µ—Ç:
–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã auth.sso_providers –Ω–µ –ø–æ–¥—Ç—è–Ω—É–ª–∏—Å—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Studio. –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º API –Ω–∞–ø—Ä—è–º—É—é, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –≥–¥–µ –ø—Ä–æ–±–ª–µ–º–∞.

–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î (—á–µ—Ä–µ–∑ SQL Editor –≤ Studio –∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª):

sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞
SELECT COUNT(*) as provider_count FROM auth.sso_providers;
SELECT * FROM auth.sso_providers LIMIT 5;
–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –æ—Ç–≤–µ—Ç (—á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª):

bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à ANON_KEY –∏–∑ .env
curl -s "http://localhost:8000/auth/v1/sso/providers" \
  -H "apikey: –≤–∞—à_anon_–∫–ª—é—á_–∑–¥–µ—Å—å" | jq .
–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: JSON-–º–∞—Å—Å–∏–≤ —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ (email, phone, google –∏ —Ç.–¥.).

üõ†Ô∏è –ï—Å–ª–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –∏–ª–∏ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤:
–°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –ø—Ä–æ–±–ª–µ–º–∞ —Å –≤–µ—Ä—Å–∏–µ–π –æ–±—Ä–∞–∑–∞ supabase/gotrue (—Å–µ—Ä–≤–∏—Å auth). –†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –æ–∂–∏–¥–∞—é—Ç —Ä–∞–∑–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö.

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–∑:

bash
# 1. –û–±–Ω–æ–≤–∏—Ç–µ –æ–±—Ä–∞–∑ gotrue –≤ docker-compose.yml
#    –ó–∞–º–µ–Ω–∏—Ç–µ –≤–µ—Ä—Å–∏—é –Ω–∞ –±–æ–ª–µ–µ –Ω–æ–≤—É—é, –Ω–∞–ø—Ä–∏–º–µ—Ä: supabase/gotrue:v2.183.0

# 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ auth
docker compose pull auth
docker compose up -d auth

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ auth –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫
docker compose logs auth --tail=30
üìù –†–µ–∑—é–º–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
‚úÖ Studio –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ localhost:3000

‚úÖ –í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω

‚ùì –†–∞–∑–¥–µ–ª Providers –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É auth.sso_providers (–µ—Å—Ç—å –ª–∏ –¥–∞–Ω–Ω—ã–µ?)

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API-–æ—Ç–≤–µ—Ç –Ω–∞ /auth/v1/sso/providers

–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —ç—Ç–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫

–°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ Studio (frontend) –Ω–µ –≤–∏–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç —Å–µ—Ä–≤–∏—Å–∞ auth (backend). –ü—Ä–æ–≤–µ—Ä–∫–∞ API –ø–æ–º–æ–∂–µ—Ç –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É: –µ—Å–ª–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, —Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –≤ Studio; –µ—Å–ª–∏ API –ø—É—Å—Ç–æ–π –∏–ª–∏ —Å –æ—à–∏–±–∫–æ–π ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –≤ auth –∏–ª–∏ –≤ –ë–î.

–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∏—Ö –¥–≤—É—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫, –∏ –º—ã —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏–º, –≤ –∫–∞–∫–æ–º —Å–ª–æ–µ –ø—Ä–æ–±–ª–µ–º–∞.

—Ç–∞–±–ª–∏—Ü–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞, –≥–¥–µ –≤–∑—è—Ç—å aPi key
API Key (–æ–Ω –∂–µ ANON_KEY) —É–∂–µ –µ—Å—Ç—å –≤ –≤–∞—à–µ–º .env —Ñ–∞–π–ª–µ. –í—ã –µ–≥–æ –Ω–µ –≤–∏–¥–∏—Ç–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Studio, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω —Ç–∞–º –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è ‚Äî –µ–≥–æ –Ω—É–∂–Ω–æ –≤–∑—è—Ç—å –Ω–∞–ø—Ä—è–º—É—é –∏–∑ —Ñ–∞–π–ª–∞.

üîç –ì–¥–µ –≤–∑—è—Ç—å API Key:
–ò–∑ .env —Ñ–∞–π–ª–∞ (–≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ, –≥–¥–µ docker-compose.yml):

bash
# –°–∞–º—ã–π –ø—Ä—è–º–æ–π —Å–ø–æ—Å–æ–± - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
grep ANON_KEY .env

# –ò–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:
cat .env | grep ANON_KEY
–ò–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ kong (–µ—Å–ª–∏ –ø–æ—Ç–µ—Ä—è–ª–∏ .env):

bash
docker exec supabase-kong printenv | grep SUPABASE_ANON_KEY
üìù –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API Key –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
bash
# 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ ANON_KEY –∏–∑ .env
# 2. –ü–æ–¥—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤ –∫–æ–º–∞–Ω–¥—É (–∑–∞–º–µ–Ω–∏—Ç–µ "–≤–∞—à_anon_–∫–ª—é—á_–∑–¥–µ—Å—å"):
curl -s "http://localhost:8000/auth/v1/sso/providers" \
  -H "apikey: –≤–∞—à_anon_–∫–ª—é—á_–∑–¥–µ—Å—å"

# –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞:
export ANON_KEY=$(grep ANON_KEY .env | cut -d= -f2)
curl -s "http://localhost:8000/auth/v1/sso/providers" -H "apikey: $ANON_KEY"
üîß –ï—Å–ª–∏ ANON_KEY –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ .env:
–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ –∫–ª—é—á –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–∞—á–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:

bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–µ—Å—å .env —Ñ–∞–π–ª
cat .env

# –ò–ª–∏ –ø–æ–∏—â–∏—Ç–µ –≤—Å–µ –∫–ª—é—á–∏
grep -i "key\|secret\|jwt" .env
üéØ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è:
–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç API –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

json
[
  {"id": "...", "resource_id": "email", ...},
  {"id": "...", "resource_id": "phone", ...},
  {"id": "...", "resource_id": "google", ...}
]
–ï—Å–ª–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –∏–ª–∏ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–µ—Ä–≤–∏—Å–µ auth (gotrue).

‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:
–ü—Ä–æ–±–ª–µ–º–∞	–†–µ—à–µ–Ω–∏–µ
ANON_KEY –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ .env	–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π: openssl rand -base64 32 –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ .env
API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401	–ö–ª—é—á –Ω–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–ª
API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404	–≠–Ω–¥–ø–æ–∏–Ω—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–ø—Ä–æ–±–ª–µ–º–∞ –≤–µ—Ä—Å–∏–∏ auth)
API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ []	–°–µ—Ä–≤–∏—Å auth –Ω–µ –≤–∏–¥–∏—Ç —Ç–∞–±–ª–∏—Ü—É sso_providers
‚úÖ –ö—Ä–∞—Ç–∫–∏–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:
–ù–∞–π–¥–∏—Ç–µ ANON_KEY –≤ .env —Ñ–∞–π–ª–µ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API: curl -H "apikey: YOUR_KEY" http://localhost:8000/auth/v1/sso/providers

–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º ‚Äî —ç—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞: –≤ API (auth) –∏–ª–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (studio)

–ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ .env —Ñ–∞–π–ª, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ ls -la –≤ –ø–∞–ø–∫–µ —Å docker-compose.yml ‚Äî –æ–±—ã—á–Ω–æ –æ–Ω —Ç–∞–º –∂–µ.

$ curl -s "http://localhost:8000/auth/v1/sso/providers"   -H "apikey: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE" | jq .
{
  "code": 404,
  "error_code": "saml_provider_disabled",
  "msg": "SAML 2.0 is disabled"
}
–û—Ç–ª–∏—á–Ω–æ! –û—Ç–≤–µ—Ç API –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–¥ 404 —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "SAML 2.0 is disabled". –≠—Ç–æ –∑–Ω–∞—á–∏—Ç:

‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø–æ–ª—É—á–∞–µ—Ç –≤–∞—à –∑–∞–ø—Ä–æ—Å

‚ùå –≠–Ω–¥–ø–æ–∏–Ω—Ç /auth/v1/sso/providers –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è SAML, –∞ –Ω–µ –¥–ª—è OAuth/Email –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤)

üîç –í–∞–º –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

üéØ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:
bash
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —ç—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç - –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è OAuth/Email –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
curl -s "http://localhost:8000/auth/v1/settings" \
  -H "apikey: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE" | jq .
üîç –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ auth —Å–µ—Ä–≤–∏—Å–∞:

bash
# –ü—Ä–æ—Å—Ç–æ–π health check
curl -s "http://localhost:8000/auth/v1/health"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏)
curl -s "http://localhost:8000/auth/v1/settings" \
  -H "apikey: –≤–∞—à_–∫–ª—é—á" | jq '.external'  # —Å–µ–∫—Ü–∏—è —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ø—Ä—è–º—É—é –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ auth:

bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ gotrue
docker compose logs auth --tail=20

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é gotrue
docker exec supabase-auth /gotrue --version
üõ†Ô∏è –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –≤–µ—Ä—Å–∏–∏ gotrue:
–í–µ—Ä—Å–∏—è supabase/gotrue:v2.183.0 –≤ –≤–∞—à–µ–º docker-compose.yml –º–æ–∂–µ—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç /sso/providers –¥–ª—è OAuth.

–†–µ—à–µ–Ω–∏–µ:

–û–±–Ω–æ–≤–∏—Ç–µ –æ–±—Ä–∞–∑ gotrue –≤ docker-compose.yml:

yaml
auth:
  image: supabase/gotrue:latest  # –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è
–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:

bash
docker compose pull auth
docker compose up -d auth
üìä –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç–∞–±–ª–∏—Ü –≤ –ë–î:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ —Å—Ö–µ–º–µ auth:

sql
-- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ë–î —á–µ—Ä–µ–∑ SQL Editor –≤ Studio –∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'auth' 
AND table_name LIKE '%provider%' 
OR table_name LIKE '%identity%'
ORDER BY table_name;
‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:
–¢–∞–±–ª–∏—Ü–∞	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ	–ï—Å—Ç—å –ª–∏ —É –≤–∞—Å?
auth.sso_providers	–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤	‚úÖ (–∑–∞–ø–æ–ª–Ω–µ–Ω–∞)
auth.identities	–°–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-–ø—Ä–æ–≤–∞–π–¥–µ—Ä	‚ùì (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ)
auth.users	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏	‚úÖ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å)
üöÄ –ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç /auth/v1/settings (–ø–æ–∫–∞–∂–∏—Ç–µ –æ—Ç–≤–µ—Ç)

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É auth.identities (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏?)

–û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é gotrue –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ auth –∏ studio

–ü–æ–∫–∞–∂–∏—Ç–µ –æ—Ç–≤–µ—Ç –æ—Ç /auth/v1/settings ‚Äî —ç—Ç–æ —Å–∞–º—ã–π –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥. –í –Ω—ë–º –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–µ–∫—Ü–∏—è external —Å–æ —Å–ø–∏—Å–∫–æ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.

$ curl -s "http://localhost:8000/auth/v1/settings" \
  -H "apikey: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE" | jq '.external'
{
  "anonymous_users": false,
  "apple": false,
  "azure": false,
  "bitbucket": false,
  "discord": false,
  "facebook": false,
  "snapchat": false,
  "figma": false,
  "fly": false,
  "github": false,
  "gitlab": false,
  "google": false,
  "keycloak": false,
  "kakao": false,
  "linkedin": false,
  "linkedin_oidc": false,
  "notion": false,
  "spotify": false,
  "slack": false,
  "slack_oidc": false,
  "workos": false,
  "twitch": false,
  "twitter": false,
  "email": true,
  "phone": true,
  "zoom": false
}
–û—Ç–ª–∏—á–Ω–æ! –û—Ç–≤–µ—Ç –æ—Ç API –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é: –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã email: true –∏ phone: true –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã, –∞ –≤—Å–µ OAuth-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Google, GitHub –∏ —Ç.–¥.) –æ—Ç–∫–ª—é—á–µ–Ω—ã (false).

üéØ –ü–æ—á–µ–º—É —Ä–∞–∑–¥–µ–ª "Providers" –≤—Å—ë –µ—â—ë –Ω–µ –≤–∏–¥–µ–Ω –≤ Studio:
–°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Studio –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã auth.sso_providers. –î–∞–≤–∞–π—Ç–µ —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏–º.

üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¥–∞–Ω–Ω—ã—Ö:
–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –µ—Å—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ auth.sso_providers:

sql
SELECT resource_id FROM auth.sso_providers ORDER BY resource_id;
–°—Ä–∞–≤–Ω–∏—Ç–µ —Å–æ —Å–ø–∏—Å–∫–æ–º –∏–∑ API-–æ—Ç–≤–µ—Ç–∞ (–∫–æ—Ç–æ—Ä—ã–π –≤—ã –ø–æ–ª—É—á–∏–ª–∏). –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞:

–†–∞–∑–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, twitter vs x, snapchat, fly, linkedin_oidc, slack_oidc)

API –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç snapchat, fly, linkedin_oidc, slack_oidc, –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –≤ –≤–∞—à–µ–π —Ç–∞–±–ª–∏—Ü–µ

üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Ç–∞–±–ª–∏—Ü—É —Å –æ–∂–∏–¥–∞–Ω–∏—è–º–∏ API
–í–∞—Ä–∏–∞–Ω—Ç A: –û—á–∏—Å—Ç–∏—Ç—å –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –∑–∞–Ω–æ–≤–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ—Ç –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö):

sql
-- 1. –û—á–∏—Å—Ç–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É (—É–¥–∞–ª–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏)
TRUNCATE TABLE auth.sso_providers;

-- 2. –í—Å—Ç–∞–≤–∏—Ç—å –í–°–ï –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–∂–∏–¥–∞–µ—Ç API (–≤–∫–ª—é—á–∞—è –Ω–æ–≤—ã–µ)
INSERT INTO auth.sso_providers (resource_id) VALUES
    ('email'),
    ('phone'),
    ('google'),
    ('github'),
    ('gitlab'),
    ('azure'),
    ('apple'),
    ('discord'),
    ('facebook'),
    ('keycloak'),
    ('linkedin'),
    ('linkedin_oidc'), -- –Ω–æ–≤—ã–π
    ('notion'),
    ('slack'),
    ('slack_oidc'),    -- –Ω–æ–≤—ã–π
    ('spotify'),
    ('twitch'),
    ('twitter'),
    ('workos'),
    ('zoom'),
    ('bitbucket'),
    ('figma'),
    ('kakao'),
    ('snapchat'),      -- –Ω–æ–≤—ã–π
    ('fly');           -- –Ω–æ–≤—ã–π
-- id —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ —Å—Ç–æ–ª–±–µ—Ü –∏–º–µ–µ—Ç DEFAULT gen_random_uuid()
–í–∞—Ä–∏–∞–Ω—Ç B: –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:

sql
-- –í—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç
INSERT INTO auth.sso_providers (resource_id)
SELECT unnest(ARRAY[
    'snapchat', 'fly', 'linkedin_oidc', 'slack_oidc'
]) AS new_provider
WHERE NOT EXISTS (
    SELECT 1 FROM auth.sso_providers 
    WHERE resource_id = new_provider
);
üîß –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:
–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å auth, —á—Ç–æ–±—ã –æ–Ω –ø–µ—Ä–µ—á–∏—Ç–∞–ª –¥–∞–Ω–Ω—ã–µ:

bash
docker compose restart auth
–ü–æ–¥–æ–∂–¥–∏—Ç–µ 30-60 —Å–µ–∫—É–Ω–¥ –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É Studio (http://localhost:3000).

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª Authentication ‚Üí Providers ‚Äî –æ–Ω –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è.

üí° –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
API /auth/v1/settings —á–∏—Ç–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –≤ –ë–î

Studio (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å) –≤–µ—Ä–æ—è—Ç–Ω–æ –¥–µ–ª–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∑–∞ —Å–ø–∏—Å–∫–æ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –∏ –µ—Å–ª–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ sso_providers –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π –¥–ª—è –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –æ–Ω –º–æ–∂–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å –≤–µ—Å—å —Ä–∞–∑–¥–µ–ª

üìã –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ auth —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:

bash
docker exec supabase-auth env | grep -i "external.*enabled\|provider"
–ï—Å–ª–∏ –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü—ã —Ä–∞–∑–¥–µ–ª –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è, –≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫—ç—à–µ Studio. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ:

–û—Ç–∫—Ä—ã—Ç—å Studio –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ

–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞

–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Studio: docker compose restart studio

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç A (TRUNCATE + INSERT) –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ auth ‚Äî —ç—Ç–æ —Å–∞–º—ã–π –ø—Ä—è–º–æ–π –ø—É—Ç—å –∫ —Ä–µ—à–µ–Ω–∏—é.

resource_id
apple
azure
discord
email
facebook
github
gitlab
google
keycloak
linkedin
notion
phone
slack
spotify
twitch
twitter
workos
zoom
 —Å—Ä–∞–≤–Ω–∏
–û—Ç–ª–∏—á–Ω–æ! –°—Ä–∞–≤–Ω–∏–≤–∞—é –≤–∞—à —Å–ø–∏—Å–æ–∫ –∏–∑ –ë–î —Å –æ—Ç–≤–µ—Ç–æ–º API:

üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤:
–í —Ç–∞–±–ª–∏—Ü–µ auth.sso_providers (–ë–î)	–í –æ—Ç–≤–µ—Ç–µ API (/auth/v1/settings)	–°–æ—Å—Ç–æ—è–Ω–∏–µ
‚úÖ apple	‚úÖ apple	–ï—Å—Ç—å
‚úÖ azure	‚úÖ azure	–ï—Å—Ç—å
‚úÖ discord	‚úÖ discord	–ï—Å—Ç—å
‚úÖ email	‚úÖ email	–ï—Å—Ç—å
‚úÖ facebook	‚úÖ facebook	–ï—Å—Ç—å
‚úÖ github	‚úÖ github	–ï—Å—Ç—å
‚úÖ gitlab	‚úÖ gitlab	–ï—Å—Ç—å
‚úÖ google	‚úÖ google	–ï—Å—Ç—å
‚úÖ keycloak	‚úÖ keycloak	–ï—Å—Ç—å
‚úÖ linkedin	‚úÖ linkedin	–ï—Å—Ç—å
‚úÖ notion	‚úÖ notion	–ï—Å—Ç—å
‚úÖ phone	‚úÖ phone	–ï—Å—Ç—å
‚úÖ slack	‚úÖ slack	–ï—Å—Ç—å
‚úÖ spotify	‚úÖ spotify	–ï—Å—Ç—å
‚úÖ twitch	‚úÖ twitch	–ï—Å—Ç—å
‚úÖ twitter	‚úÖ twitter	–ï—Å—Ç—å
‚úÖ workos	‚úÖ workos	–ï—Å—Ç—å
‚úÖ zoom	‚úÖ zoom	–ï—Å—Ç—å
‚ùå –ù–ï–¢	‚úÖ bitbucket	–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ë–î
‚ùå –ù–ï–¢	‚úÖ figma	–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ë–î
‚ùå –ù–ï–¢	‚úÖ fly	–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ë–î
‚ùå –ù–ï–¢	‚úÖ kakao	–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ë–î
‚ùå –ù–ï–¢	‚úÖ snapchat	–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ë–î
‚ùå –ù–ï–¢	‚úÖ linkedin_oidc	–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ë–î
‚ùå –ù–ï–¢	‚úÖ slack_oidc	–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ë–î
üö® –ü—Ä–æ–±–ª–µ–º–∞:
–í —Ç–∞–±–ª–∏—Ü–µ –ë–î –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç 7 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–∂–∏–¥–∞–µ—Ç API/Studio!

üõ†Ô∏è –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
–î–æ–±–∞–≤—å—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤ —Ç–∞–±–ª–∏—Ü—É:

sql
-- –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
INSERT INTO auth.sso_providers (resource_id)
SELECT unnest(ARRAY[
    'bitbucket',
    'figma',
    'fly',
    'kakao',
    'snapchat',
    'linkedin_oidc',
    'slack_oidc'
]) AS new_provider
WHERE NOT EXISTS (
    SELECT 1 FROM auth.sso_providers 
    WHERE resource_id = new_provider
);
üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:
sql
-- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 25 –∑–∞–ø–∏—Å–µ–π
SELECT COUNT(*) as total_providers FROM auth.sso_providers;
SELECT resource_id FROM auth.sso_providers ORDER BY resource_id;
üîß –î–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:
–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –≤—ã—à–µ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:

bash
docker compose restart auth studio
–ü–æ–¥–æ–∂–¥–∏—Ç–µ 30 —Å–µ–∫—É–Ω–¥ –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É Studio

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª Authentication ‚Üí Providers

üí° –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:
Studio (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å) –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

–ï—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–∞–∂–µ –æ–¥–Ω–æ–≥–æ ‚Äî –≤–µ—Å—å —Ä–∞–∑–¥–µ–ª –º–æ–∂–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å—Å—è

API —É–∂–µ –∑–Ω–∞–µ—Ç –æ 25 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö, –Ω–æ –≤ –ë–î —Ç–æ–ª—å–∫–æ 18

‚ö†Ô∏è –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–∂–µ—Ç:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫ Studio –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F12) ‚Üí –≤–∫–ª–∞–¥–∫–∞ Network ‚Üí –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Üí –Ω–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API. –ò—â–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã —Å–æ —Å–ª–æ–≤–∞–º–∏ providers, settings, config.

–î–æ–±–∞–≤—å—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ 7 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã ‚Äî —ç—Ç–æ —Å –Ω–∞–∏–±–æ–ª—å—à–µ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é —Ä–µ—à–∏—Ç –ø—Ä–æ–±–ª–µ–º—É. –†–∞–∑–¥–µ–ª Providers –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

"rolname","rolsuper","rolinherit","rolcreaterole","rolcreatedb","rolcanlogin","rolreplication","rolconnlimit","rolpassword","rolvaliduntil","rolbypassrls","rolconfig","oid"
"pg_database_owner",False,True,False,False,False,False,-1,"********",NULL,False,NULL,6171
"pg_read_all_data",False,True,False,False,False,False,-1,"********",NULL,False,NULL,6181
"pg_write_all_data",False,True,False,False,False,False,-1,"********",NULL,False,NULL,6182
"pg_monitor",False,True,False,False,False,False,-1,"********",NULL,False,NULL,3373
"pg_read_all_settings",False,True,False,False,False,False,-1,"********",NULL,False,NULL,3374
"pg_read_all_stats",False,True,False,False,False,False,-1,"********",NULL,False,NULL,3375
"pg_stat_scan_tables",False,True,False,False,False,False,-1,"********",NULL,False,NULL,3377
"pg_read_server_files",False,True,False,False,False,False,-1,"********",NULL,False,NULL,4569
"pg_write_server_files",False,True,False,False,False,False,-1,"********",NULL,False,NULL,4570
"pg_execute_server_program",False,True,False,False,False,False,-1,"********",NULL,False,NULL,4571
"pg_signal_backend",False,True,False,False,False,False,-1,"********",NULL,False,NULL,4200
"pg_checkpoint",False,True,False,False,False,False,-1,"********",NULL,False,NULL,4544
"pg_maintain",False,True,False,False,False,False,-1,"********",NULL,False,NULL,6337
"pg_use_reserved_connections",False,True,False,False,False,False,-1,"********",NULL,False,NULL,4550
"pg_create_subscription",False,True,False,False,False,False,-1,"********",NULL,False,NULL,6304
"dashboard_user",False,True,True,True,False,True,-1,"********",NULL,False,NULL,16601
"authenticated",False,True,False,False,False,False,-1,"********",NULL,False,"{statement_timeout=8s}",16481
"anon",False,True,False,False,False,False,-1,"********",NULL,False,"{statement_timeout=3s}",16480
"service_role",False,True,False,False,False,False,-1,"********",NULL,True,NULL,16482
"supabase_admin",True,True,True,True,True,True,-1,"********",NULL,True,"{""search_path=\""$user\"", public, auth, extensions"",log_statement=none}",10
"postgres",False,True,True,True,True,True,-1,"********",NULL,True,"{""search_path=\""\\$user\"", public, extensions""}",16384
"authenticator",False,False,False,False,True,False,-1,"********",NULL,False,"{session_preload_libraries=safeupdate,statement_timeout=8s,lock_timeout=8s}",16483
"supabase_auth_admin",False,False,True,False,True,False,-1,"********",NULL,False,"{search_path=auth,idle_in_transaction_session_timeout=60000,log_statement=none}",16541
"supabase_storage_admin",False,False,True,False,True,False,-1,"********",NULL,False,"{search_path=storage,log_statement=none}",16596
"supabase_replication_admin",False,True,False,False,True,True,-1,"********",NULL,False,NULL,16427
"supabase_etl_admin",False,True,False,False,True,True,-1,"********",NULL,False,NULL,16428
"supabase_read_only_user",False,True,False,False,True,False,-1,"********",NULL,True,"{default_transaction_read_only=on}",16430
"pgbouncer",False,True,False,False,True,False,-1,"********",NULL,False,NULL,16385
"supabase_realtime_admin",False,False,False,False,False,False,-1,"********",NULL,False,NULL,17449
–æ—Ñ–æ—Ä–º–∏ –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏ –≤ pg  SELECT *FROM pg_roles
–†–æ–ª—å (rolname)	–°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (rolsuper)	–ú–æ–∂–µ—Ç –ª–æ–≥–∏–Ω–∏—Ç—å—Å—è (rolcanlogin)	–û–ø–∏—Å–∞–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤ Supabase
pg_database_owner	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å PG 15+ –¥–ª—è –≤–ª–∞–¥–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞–º–∏ –ë–î
pg_read_all_data	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
pg_write_all_data	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–ø–∏—Å—å –≤–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
pg_monitor	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
pg_read_all_settings	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
pg_read_all_stats	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
pg_stat_scan_tables	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
pg_read_server_files	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
pg_write_server_files	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
pg_execute_server_program	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
pg_signal_backend	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞–º
pg_checkpoint	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫
pg_maintain	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–¥–∞—á–∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
pg_use_reserved_connections	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
pg_create_subscription	‚ùå False	‚ùå False	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
dashboard_user	‚ùå False	‚ùå False	–î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –¥–∞—à–±–æ—Ä–¥–æ–≤ Supabase
authenticated	‚ùå False	‚ùå False	–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ (statement_timeout=8s)
anon	‚ùå False	‚ùå False	–î–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (statement_timeout=3s)
service_role	‚ùå False	‚ùå False	–ü—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS)
supabase_admin	‚úÖ True	‚úÖ True	–ì–ª–∞–≤–Ω–∞—è –∞–¥–º–∏–Ω—Å–∫–∞—è —Ä–æ–ª—å —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –≤—Å—ë
postgres	‚ùå False	‚úÖ True	–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ä–æ–ª—å —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
authenticator	‚ùå False	‚úÖ True	–ü–æ—Å—Ä–µ–¥–Ω–∏–∫ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –º–µ–∂–¥—É anon/authenticated
supabase_auth_admin	‚ùå False	‚úÖ True	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–µ—Ä–≤–∏—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (search_path=auth)
supabase_storage_admin	‚ùå False	‚úÖ True	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (search_path=storage)
supabase_replication_admin	‚ùå False	‚úÖ True	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
supabase_etl_admin	‚ùå False	‚úÖ True	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä ETL-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤
supabase_read_only_user	‚ùå False	‚úÖ True	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (default_transaction_read_only=on)
pgbouncer	‚ùå False	‚úÖ True	–î–ª—è –ø—É–ª–µ—Ä–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π PgBouncer
supabase_realtime_admin	‚ùå False	‚ùå False	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä Realtime (WebSocket)
üîê –ö–ª—é—á–µ–≤—ã–µ —Ä–æ–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
–†–æ–ª—å	–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è	JWT claim role
anon	–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)	anon
authenticated	–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏	authenticated
service_role	–°–µ—Ä–≤–µ—Ä–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã, –∞–¥–º–∏–Ω—Å–∫–∏–µ –∑–∞–¥–∞—á–∏	service_role
authenticator	–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é)	-
üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ RLS (Row Level Security):
service_role –∏–º–µ–µ—Ç rolbypassrls = True ‚Äî –æ–±—Ö–æ–¥–∏—Ç RLS-–ø–æ–ª–∏—Ç–∏–∫–∏

anon –∏ authenticated –ø–æ–¥—á–∏–Ω—è—é—Ç—Å—è RLS-–ø–æ–ª–∏—Ç–∏–∫–∞–º

supabase_admin ‚Äî —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –ø–æ–ª–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º

üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
–†–æ–ª–∏ —Å rolsuper=False –Ω–æ rolbypassrls=True –º–æ–≥—É—Ç –æ–±—Ö–æ–¥–∏—Ç—å RLS

search_path –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ö–µ–º—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–æ–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤

statement_timeout –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

–í—Å–µ —Ä–æ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚Äî –≤–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ.

–°–¥–µ–ª–∞–π —Ç–∞–±–ª–∏—Ü—É —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö —Å—Ç–æ–ª–±—Ü–æ–≤
Rolename	Rolsuper	Rolinherit	Rolcreaterole	Rolcreatedb	Rolcanlogin	Rolreplication	Rolconnlimit	Rolpassword	Rolvaliduntil	Rolbypassrls	Rolconfig	OID	–û–ø–∏—Å–∞–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
pg_database_owner	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1 (–±–µ–∑ –ª–∏–º–∏—Ç–∞)	********	NULL	‚ùå False	NULL	6171	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å PG 15+ –¥–ª—è –≤–ª–∞–¥–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞–º–∏ –ë–î
pg_read_all_data	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	6181	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
pg_write_all_data	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	6182	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–ø–∏—Å—å –≤–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
pg_monitor	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	3373	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
pg_read_all_settings	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	3374	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
pg_read_all_stats	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	3375	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
pg_stat_scan_tables	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	3377	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
pg_read_server_files	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4569	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
pg_write_server_files	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4570	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
pg_execute_server_program	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4571	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
pg_signal_backend	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4200	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞–º
pg_checkpoint	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4544	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫
pg_maintain	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	6337	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–¥–∞—á–∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
pg_use_reserved_connections	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4550	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
pg_create_subscription	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	6304	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
dashboard_user	‚ùå False	‚úÖ True	‚úÖ True	‚úÖ True	‚ùå False	‚úÖ True	-1	********	NULL	‚ùå False	NULL	16601	–î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –¥–∞—à–±–æ—Ä–¥–æ–≤ Supabase (—Å –ø—Ä–∞–≤–∞–º–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–æ–ª–µ–π/–ë–î)
authenticated	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	{statement_timeout=8s}	16481	–†–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ (–ª–∏–º–∏—Ç 8 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∑–∞–ø—Ä–æ—Å)
anon	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	{statement_timeout=3s}	16480	–†–æ–ª—å –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–ª–∏–º–∏—Ç 3 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∑–∞–ø—Ä–æ—Å)
service_role	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚úÖ True	NULL	16482	–ü—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø (–æ–±—Ö–æ–¥–∏—Ç RLS-–ø–æ–ª–∏—Ç–∏–∫–∏)
supabase_admin	‚úÖ True	‚úÖ True	‚úÖ True	‚úÖ True	‚úÖ True	‚úÖ True	-1	********	NULL	‚úÖ True	{"search_path=\"$user\", public, auth, extensions",log_statement=none}	10	–ì–ª–∞–≤–Ω–∞—è –∞–¥–º–∏–Ω—Å–∫–∞—è —Ä–æ–ª—å —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –≤—Å—ë
postgres	‚ùå False	‚úÖ True	‚úÖ True	‚úÖ True	‚úÖ True	‚úÖ True	-1	********	NULL	‚úÖ True	{"search_path=\"\\$user\", public, extensions"}	16384	–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ä–æ–ª—å postgres —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
authenticator	‚ùå False	‚ùå False	‚ùå False	‚ùå False	‚úÖ True	‚ùå False	-1	********	NULL	‚ùå False	{session_preload_libraries=safeupdate,statement_timeout=8s,lock_timeout=8s}	16483	–ü–æ—Å—Ä–µ–¥–Ω–∏–∫ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –º–µ–∂–¥—É anon/authenticated
supabase_auth_admin	‚ùå False	‚ùå False	‚úÖ True	‚ùå False	‚úÖ True	‚ùå False	-1	********	NULL	‚ùå False	{search_path=auth,idle_in_transaction_session_timeout=60000,log_statement=none}	16541	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–µ—Ä–≤–∏—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (search_path=auth)
supabase_storage_admin	‚ùå False	‚ùå False	‚úÖ True	‚ùå False	‚úÖ True	‚ùå False	-1	********	NULL	‚ùå False	{search_path=storage,log_statement=none}	16596	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (search_path=storage)
supabase_replication_admin	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚úÖ True	‚úÖ True	-1	********	NULL	‚ùå False	NULL	16427	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ (—Å –ø—Ä–∞–≤–∞–º–∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏)
supabase_etl_admin	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚úÖ True	‚úÖ True	-1	********	NULL	‚ùå False	NULL	16428	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä ETL-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤
supabase_read_only_user	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚úÖ True	‚ùå False	-1	********	NULL	‚úÖ True	{default_transaction_read_only=on}	16430	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (default_transaction_read_only=on)
pgbouncer	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚úÖ True	‚ùå False	-1	********	NULL	‚ùå False	NULL	16385	–î–ª—è –ø—É–ª–µ—Ä–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π PgBouncer
supabase_realtime_admin	‚ùå False	‚ùå False	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	17449	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä Realtime (WebSocket)
üìä –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º:
–°—Ç–æ–ª–±–µ—Ü	–ó–Ω–∞—á–µ–Ω–∏–µ	–û–ø–∏—Å–∞–Ω–∏–µ
rolsuper	True/False	–Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ä–æ–ª—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
rolinherit	True/False	–ù–∞—Å–ª–µ–¥—É–µ—Ç –ª–∏ —Ä–æ–ª—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —Ä–æ–ª–µ–π
rolcreaterole	True/False	–ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ä–æ–ª–∏
rolcreatedb	True/False	–ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
rolcanlogin	True/False	–ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≤—Ö–æ–¥–∞
rolreplication	True/False	–ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
rolconnlimit	-1 –∏–ª–∏ —á–∏—Å–ª–æ	–õ–∏–º–∏—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (-1 = –±–µ–∑ –ª–∏–º–∏—Ç–∞)
rolpassword	********	–•–µ—à –ø–∞—Ä–æ–ª—è (—Å–∫—Ä—ã—Ç)
rolvaliduntil	NULL –∏–ª–∏ –¥–∞—Ç–∞	–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ø–∞—Ä–æ–ª—è
rolbypassrls	True/False	–û–±—Ö–æ–¥–∏—Ç –ª–∏ —Ä–æ–ª—å RLS-–ø–æ–ª–∏—Ç–∏–∫–∏
rolconfig	NULL –∏–ª–∏ JSON	–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Å—Å–∏–∏
oid	—á–∏—Å–ª–æ	–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞
üîê –ö–ª—é—á–µ–≤–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Å—Å–∏–∏ (rolconfig):
–†–æ–ª—å	–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è	–ó–Ω–∞—á–µ–Ω–∏–µ
authenticated	statement_timeout=8s	–ó–∞–ø—Ä–æ—Å—ã –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ 8 —Å–µ–∫—É–Ω–¥
anon	statement_timeout=3s	–ó–∞–ø—Ä–æ—Å—ã –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
supabase_admin	log_statement=none	–ù–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å SQL-–∑–∞–ø—Ä–æ—Å—ã
authenticator	lock_timeout=8s	–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–Ω–∏–º–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 8 —Å–µ–∫—É–Ω–¥
supabase_read_only_user	default_transaction_read_only=on	–í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
–í—Å–µ —Ä–æ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã Supabase.

Rolename	Rolsuper	Rolinherit	Rolcreaterole	Rolcreatedb	Rolcanlogin	Rolreplication	Rolconnlimit	Rolpassword	Rolvaliduntil	Rolbypassrls	Rolconfig	OID	–û–ø–∏—Å–∞–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
pg_database_owner	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1 (–±–µ–∑ –ª–∏–º–∏—Ç–∞)	********	NULL	‚ùå False	NULL	6171	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å PG 15+ –¥–ª—è –≤–ª–∞–¥–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞–º–∏ –ë–î
pg_read_all_data	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	6181	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
pg_write_all_data	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	6182	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–ø–∏—Å—å –≤–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
pg_monitor	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	3373	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
pg_read_all_settings	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	3374	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
pg_read_all_stats	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	3375	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
pg_stat_scan_tables	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	3377	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
pg_read_server_files	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4569	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
pg_write_server_files	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4570	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
pg_execute_server_program	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4571	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
pg_signal_backend	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4200	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞–º
pg_checkpoint	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4544	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫
pg_maintain	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	6337	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–¥–∞—á–∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
pg_use_reserved_connections	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4550	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
pg_create_subscription	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	6304	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
dashboard_user	‚ùå False	‚úÖ True	‚úÖ True	‚úÖ True	‚ùå False	‚úÖ True	-1	********	NULL	‚ùå False	NULL	16601	–î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –¥–∞—à–±–æ—Ä–¥–æ–≤ Supabase (—Å –ø—Ä–∞–≤–∞–º–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–æ–ª–µ–π/–ë–î)
authenticated	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	{statement_timeout=8s}	16481	–†–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ (–ª–∏–º–∏—Ç 8 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∑–∞–ø—Ä–æ—Å)
anon	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	{statement_timeout=3s}	16480	–†–æ–ª—å –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–ª–∏–º–∏—Ç 3 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∑–∞–ø—Ä–æ—Å)
service_role	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚úÖ True	NULL	16482	–ü—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø (–æ–±—Ö–æ–¥–∏—Ç RLS-–ø–æ–ª–∏—Ç–∏–∫–∏)
supabase_admin	‚úÖ True	‚úÖ True	‚úÖ True	‚úÖ True	‚úÖ True	‚úÖ True	-1	********	NULL	‚úÖ True	{"search_path=\"$user\", public, auth, extensions",log_statement=none}	10	–ì–ª–∞–≤–Ω–∞—è –∞–¥–º–∏–Ω—Å–∫–∞—è —Ä–æ–ª—å —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –≤—Å—ë
postgres	‚ùå False	‚úÖ True	‚úÖ True	‚úÖ True	‚úÖ True	‚úÖ True	-1	********	NULL	‚úÖ True	{"search_path=\"\\$user\", public, extensions"}	16384	–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ä–æ–ª—å postgres —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
authenticator	‚ùå False	‚ùå False	‚ùå False	‚ùå False	‚úÖ True	‚ùå False	-1	********	NULL	‚ùå False	{session_preload_libraries=safeupdate,statement_timeout=8s,lock_timeout=8s}	16483	–ü–æ—Å—Ä–µ–¥–Ω–∏–∫ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –º–µ–∂–¥—É anon/authenticated
supabase_auth_admin	‚ùå False	‚ùå False	‚úÖ True	‚ùå False	‚úÖ True	‚ùå False	-1	********	NULL	‚ùå False	{search_path=auth,idle_in_transaction_session_timeout=60000,log_statement=none}	16541	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–µ—Ä–≤–∏—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (search_path=auth)
supabase_storage_admin	‚ùå False	‚ùå False	‚úÖ True	‚ùå False	‚úÖ True	‚ùå False	-1	********	NULL	‚ùå False	{search_path=storage,log_statement=none}	16596	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (search_path=storage)
supabase_replication_admin	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚úÖ True	‚úÖ True	-1	********	NULL	‚ùå False	NULL	16427	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ (—Å –ø—Ä–∞–≤–∞–º–∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏)
supabase_etl_admin	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚úÖ True	‚úÖ True	-1	********	NULL	‚ùå False	NULL	16428	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä ETL-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤
supabase_read_only_user	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚úÖ True	‚ùå False	-1	********	NULL	‚úÖ True	{default_transaction_read_only=on}	16430	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (default_transaction_read_only=on)
pgbouncer	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚úÖ True	‚ùå False	-1	********	NULL	‚ùå False	NULL	16385	–î–ª—è –ø—É–ª–µ—Ä–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π PgBouncer
supabase_realtime_admin	‚ùå False	‚ùå False	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	17449	–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä Realtime (WebSocket) –æ—Ñ–æ—Ä–º–∏ –≤–≤–∏–¥–µ markdown —Ç–∞–±–ª–∏—Ü—ã
–í–æ—Ç –ø–æ–ª–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö —Ä–æ–ª–µ–π PostgreSQL –≤ –≤–∞—à–µ–º Supabase –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown:

Rolename	Rolsuper	Rolinherit	Rolcreaterole	Rolcreatedb	Rolcanlogin	Rolreplication	Rolconnlimit	Rolpassword	Rolvaliduntil	Rolbypassrls	Rolconfig	OID	–û–ø–∏—Å–∞–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
pg_database_owner	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	6171	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å PG 15+ –¥–ª—è –≤–ª–∞–¥–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞–º–∏ –ë–î
pg_read_all_data	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	6181	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
pg_write_all_data	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	6182	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–ø–∏—Å—å –≤–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
pg_monitor	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	3373	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
pg_read_all_settings	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	3374	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
pg_read_all_stats	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	3375	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
pg_stat_scan_tables	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	3377	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
pg_read_server_files	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4569	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
pg_write_server_files	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4570	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
pg_execute_server_program	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4571	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
pg_signal_backend	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4200	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞–º
pg_checkpoint	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4544	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫
pg_maintain	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	6337	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–¥–∞—á–∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
pg_use_reserved_connections	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	4550	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
pg_create_subscription	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	NULL	6304	–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
dashboard_user	‚ùå False	‚úÖ True	‚úÖ True	‚úÖ True	‚ùå False	‚úÖ True	-1	********	NULL	‚ùå False	NULL	16601	–î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –¥–∞—à–±–æ—Ä–¥–æ–≤ Supabase
authenticated	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	{statement_timeout=8s}	16481	–†–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
anon	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚ùå False	{statement_timeout=3s}	16480	–†–æ–ª—å –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
service_role	‚ùå False	‚úÖ True	‚ùå False	‚ùå False	‚ùå False	‚ùå False	-1	********	NULL	‚úÖ True	NULL	16482	–ü—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø
**													
–∏ –≤–≤–∏–¥–µ —Ñ–∞–π–ª–∞
–Ø –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É –≤ –≤–∏–¥–µ —Ñ–∞–π–ª–∞. –û–¥–Ω–∞–∫–æ —è –Ω–µ –º–æ–≥—É —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ –Ω–∞–ø—Ä—è–º—É—é.

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—é –≤–∞–º:

SQL-–∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–∫—É—é —Ç–∞–±–ª–∏—Ü—É –≤ –≤–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Supabase

Markdown-–∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ

üìù SQL-–∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã —Ä–æ–ª–µ–π
–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –≤ –≤–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Supabase (—á–µ—Ä–µ–∑ Studio ‚Üí SQL Editor –∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª):

sql
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä–æ–ª–µ–π PostgreSQL
CREATE TABLE IF NOT EXISTS public.pg_roles_descriptions (
    rolename TEXT PRIMARY KEY,
    rolsuper BOOLEAN,
    rolinherit BOOLEAN,
    rolcreaterole BOOLEAN,
    rolcreatedb BOOLEAN,
    rolcanlogin BOOLEAN,
    rolreplication BOOLEAN,
    rolconnlimit INTEGER,
    rolpassword TEXT,
    rolvaliduntil TIMESTAMP,
    rolbypassrls BOOLEAN,
    rolconfig TEXT,
    oid INTEGER,
    description TEXT
);

-- –í—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Ä–æ–ª—è—Ö
INSERT INTO public.pg_roles_descriptions VALUES
('pg_database_owner', FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, -1, '********', NULL, FALSE, NULL, 6171, '–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å PG 15+ –¥–ª—è –≤–ª–∞–¥–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞–º–∏ –ë–î'),
('pg_read_all_data', FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, -1, '********', NULL, FALSE, NULL, 6181, '–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö'),
('pg_write_all_data', FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, -1, '********', NULL, FALSE, NULL, 6182, '–°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–ø–∏—Å—å –≤–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ'),
('pg_monitor', FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, -1, '
–Ω–µ—Ç —ç—Ç–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
–ü–æ–Ω–∏–º–∞—é, –≤–∞–º –Ω—É–∂–µ–Ω –∏–º–µ–Ω–Ω–æ —Ñ–∞–π–ª —Å —Ç–∞–±–ª–∏—Ü–µ–π –≤ Markdown-—Ñ–æ—Ä–º–∞—Ç–µ. –í–æ—Ç –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .md (–Ω–∞–ø—Ä–∏–º–µ—Ä, supabase_roles.md):

markdown
# –†–æ–ª–∏ PostgreSQL –≤ Supabase

| Rolename | Rolsuper | Rolinherit | Rolcreaterole | Rolcreatedb | Rolcanlogin | Rolreplication | Rolconnlimit | Rolpassword | Rolvaliduntil | Rolbypassrls | Rolconfig | OID | –û–ø–∏—Å–∞–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|------------|---------------|-------------|-------------|----------------|--------------|-------------|---------------|--------------|-----------|-----|-----------------------|
| **pg_database_owner** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 6171 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å PG 15+ –¥–ª—è –≤–ª–∞–¥–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞–º–∏ –ë–î |
| **pg_read_all_data** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 6181 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö |
| **pg_write_all_data** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 6182 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–ø–∏—Å—å –≤–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ |
| **pg_monitor** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 3373 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ |
| **pg_read_all_settings** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 3374 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |
| **pg_read_all_stats** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 3375 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ |
| **pg_stat_scan_tables** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 3377 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ |
| **pg_read_server_files** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 4569 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ |
| **pg_write_server_files** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 4570 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ |
| **pg_execute_server_program** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 4571 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ |
| **pg_signal_backend** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 4200 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞–º |
| **pg_checkpoint** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 4544 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫ |
| **pg_maintain** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 6337 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∑–∞–¥–∞—á–∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è |
| **pg_use_reserved_connections** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 4550 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π |
| **pg_create_subscription** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 6304 | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ |
| **dashboard_user** | ‚ùå False | ‚úÖ True | ‚úÖ True | ‚úÖ True | ‚ùå False | ‚úÖ True | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 16601 | –î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –¥–∞—à–±–æ—Ä–¥–æ–≤ Supabase |
| **authenticated** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `{statement_timeout=8s}` | 16481 | –†–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ |
| **anon** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `{statement_timeout=3s}` | 16480 | –†–æ–ª—å –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ |
| **service_role** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚úÖ True | `NULL` | 16482 | –ü—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø |
| **supabase_admin** | ‚úÖ True | ‚úÖ True | ‚úÖ True | ‚úÖ True | ‚úÖ True | ‚úÖ True | -1 | `********` | `NULL` | ‚úÖ True | `{"search_path=\"$user\", public, auth, extensions",log_statement=none}` | 10 | –ì–ª–∞–≤–Ω–∞—è –∞–¥–º–∏–Ω—Å–∫–∞—è —Ä–æ–ª—å —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –≤—Å—ë |
| **postgres** | ‚ùå False | ‚úÖ True | ‚úÖ True | ‚úÖ True | ‚úÖ True | ‚úÖ True | -1 | `********` | `NULL` | ‚úÖ True | `{"search_path=\"\\$user\", public, extensions"}` | 16384 | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ä–æ–ª—å postgres —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ |
| **authenticator** | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | ‚úÖ True | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `{session_preload_libraries=safeupdate,statement_timeout=8s,lock_timeout=8s}` | 16483 | –ü–æ—Å—Ä–µ–¥–Ω–∏–∫ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –º–µ–∂–¥—É anon/authenticated |
| **supabase_auth_admin** | ‚ùå False | ‚ùå False | ‚úÖ True | ‚ùå False | ‚úÖ True | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `{search_path=auth,idle_in_transaction_session_timeout=60000,log_statement=none}` | 16541 | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–µ—Ä–≤–∏—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (search_path=auth) |
| **supabase_storage_admin** | ‚ùå False | ‚ùå False | ‚úÖ True | ‚ùå False | ‚úÖ True | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `{search_path=storage,log_statement=none}` | 16596 | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (search_path=storage) |
| **supabase_replication_admin** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚úÖ True | ‚úÖ True | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 16427 | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ (—Å –ø—Ä–∞–≤–∞–º–∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏) |
| **supabase_etl_admin** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚úÖ True | ‚úÖ True | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 16428 | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä ETL-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ |
| **supabase_read_only_user** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚úÖ True | ‚ùå False | -1 | `********` | `NULL` | ‚úÖ True | `{default_transaction_read_only=on}` | 16430 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (default_transaction_read_only=on) |
| **pgbouncer** | ‚ùå False | ‚úÖ True | ‚ùå False | ‚ùå False | ‚úÖ True | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 16385 | –î–ª—è –ø—É–ª–µ—Ä–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π PgBouncer |
| **supabase_realtime_admin** | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | ‚ùå False | -1 | `********` | `NULL` | ‚ùå False | `NULL` | 17449 | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä Realtime (WebSocket) |

## –ö–ª—é—á–µ–≤—ã–µ —Ä–æ–ª–∏ Supabase

### –î–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:
- **`anon`** - –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **`authenticated`** - –¥–ª—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –î–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:
- **`service_role`** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø, –æ–±—Ö–æ–¥–∏—Ç RLS-–ø–æ–ª–∏—Ç–∏–∫–∏
- **`authenticator`** - –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ —Ä–æ–ª—è–º–∏ anon/authenticated

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ä–æ–ª–∏:
- **`supabase_admin`** - —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
- **`supabase_auth_admin`** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- **`supabase_storage_admin`** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º

## –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–æ–ª–∏ PostgreSQL
–†–æ–ª–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `pg_` - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–æ–ª–∏ PostgreSQL 14+, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞:
- –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –î–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—é
üí° –ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª:
–°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ –≤—ã—à–µ (–æ—Ç # –†–æ–ª–∏ PostgreSQL... –¥–æ ...—Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é)
# –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
cat > supabase_roles.md << 'EOF'
# –í—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ –≤–µ—Å—å Markdown-–∫–æ–¥
# –ù–∞–∂–º–∏—Ç–µ Ctrl+D –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
EOF
–°–ø–æ—Å–æ–± 2: –°–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª supabase_roles.md –≤ –ª—é–±–æ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –≤—ã—à–µ

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –±—É–¥–µ—Ç –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä–æ–ª—è–º PostgreSQL –≤ –≤–∞—à–µ–º self-hosted Supabase –≤ —É–¥–æ–±–Ω–æ–º Markdown-—Ñ–æ—Ä–º–∞—Ç–µ.

üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
–†–æ–ª–∏ —Å rolsuper=False –Ω–æ rolbypassrls=True –º–æ–≥—É—Ç –æ–±—Ö–æ–¥–∏—Ç—å RLS

search_path –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ö–µ–º—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–æ–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤

statement_timeout –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

–í—Å–µ —Ä–æ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚Äî –≤–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ.

üìä –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º:
–°—Ç–æ–ª–±–µ—Ü	–ó–Ω–∞—á–µ–Ω–∏–µ	–û–ø–∏—Å–∞–Ω–∏–µ
rolsuper	True/False	–Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ä–æ–ª—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
rolinherit	True/False	–ù–∞—Å–ª–µ–¥—É–µ—Ç –ª–∏ —Ä–æ–ª—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —Ä–æ–ª–µ–π
rolcreaterole	True/False	–ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ä–æ–ª–∏
rolcreatedb	True/False	–ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
rolcanlogin	True/False	–ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≤—Ö–æ–¥–∞
rolreplication	True/False	–ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
rolconnlimit	-1 –∏–ª–∏ —á–∏—Å–ª–æ	–õ–∏–º–∏—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (-1 = –±–µ–∑ –ª–∏–º–∏—Ç–∞)
rolpassword	********	–•–µ—à –ø–∞—Ä–æ–ª—è (—Å–∫—Ä—ã—Ç)
rolvaliduntil	NULL –∏–ª–∏ –¥–∞—Ç–∞	–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ø–∞—Ä–æ–ª—è
rolbypassrls	True/False	–û–±—Ö–æ–¥–∏—Ç –ª–∏ —Ä–æ–ª—å RLS-–ø–æ–ª–∏—Ç–∏–∫–∏
rolconfig	NULL –∏–ª–∏ JSON	–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Å—Å–∏–∏
oid	—á–∏—Å–ª–æ	–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞

üîê –ö–ª—é—á–µ–≤–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Å—Å–∏–∏ (rolconfig):
–†–æ–ª—å	–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è	–ó–Ω–∞—á–µ–Ω–∏–µ
authenticated	statement_timeout=8s	–ó–∞–ø—Ä–æ—Å—ã –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ 8 —Å–µ–∫—É–Ω–¥
anon	statement_timeout=3s	–ó–∞–ø—Ä–æ—Å—ã –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
supabase_admin	log_statement=none	–ù–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å SQL-–∑–∞–ø—Ä–æ—Å—ã
authenticator	lock_timeout=8s	–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–Ω–∏–º–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 8 —Å–µ–∫—É–Ω–¥
supabase_read_only_user	default_transaction_read_only=on	–í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è


–æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π –≤ markdown
Read 10 web pages
–í–æ—Ç –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ Markdown, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏.

üìù –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ —Ä–æ–ª—è–º
–û–±—Ö–æ–¥ RLS: –†–æ–ª–∏ —Å rolsuper=False, –Ω–æ rolbypassrls=True –º–æ–≥—É—Ç –æ–±—Ö–æ–¥–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ Row Level Security, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –≤–∞–∂–Ω–æ–π –ø—Ä–∏–≤–∏–ª–µ–≥–∏–µ–π –¥–ª—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –∑–∞–¥–∞—á.

–ü–æ–∏—Å–∫ –ø–æ —Å—Ö–µ–º–∞–º: –ü–∞—Ä–∞–º–µ—Ç—Ä search_path –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ö–µ–º—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤ –∫–æ—Ç–æ—Ä–æ–π PostgreSQL –∏—â–µ—Ç –æ–±—ä–µ–∫—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–±–ª–∏—Ü—ã), –µ—Å–ª–∏ —Å—Ö–µ–º–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ —è–≤–Ω–æ.

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏: –ü–∞—Ä–∞–º–µ—Ç—Ä statement_timeout –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª—é–±–æ–≥–æ SQL-–∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Ä–æ–ª–∏. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å "–ø–æ–¥–≤–∏—Å–∞–Ω–∏–µ" –∑–∞–ø—Ä–æ—Å–æ–≤.

–í—Å–µ —Ä–æ–ª–∏ –≤ –≤–∞—à–µ–º self-hosted Supabase –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚Äî –≤–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ.

üìä –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º pg_roles
–í —Ç–∞–±–ª–∏—Ü–µ pg_roles –∫–∞–∂–¥—ã–π —Å—Ç–æ–ª–±–µ—Ü –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –∏–ª–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—é —Ä–æ–ª–∏.

–°—Ç–æ–ª–±–µ—Ü	–ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è	–û–ø–∏—Å–∞–Ω–∏–µ
rolsuper	True / False	–Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ä–æ–ª—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏).
rolinherit	True / False	–ù–∞—Å–ª–µ–¥—É–µ—Ç –ª–∏ —Ä–æ–ª—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –æ—Ç —Ä–æ–ª–µ–π, —á–ª–µ–Ω–æ–º –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω–∞ —è–≤–ª—è–µ—Ç—Å—è.
rolcreaterole	True / False	–ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ä–æ–ª–∏.
rolcreatedb	True / False	–ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
rolcanlogin	True / False	–ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É (–¥–µ–ª–∞–µ—Ç —Ä–æ–ª—å "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º").
rolreplication	True / False	–ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è) –¥–∞–Ω–Ω—ã—Ö.
rolconnlimit	-1 –∏–ª–∏ —á–∏—Å–ª–æ	–õ–∏–º–∏—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (-1 –æ–∑–Ω–∞—á–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–∏–º–∏—Ç–∞).
rolpassword	********	–•–µ—à –ø–∞—Ä–æ–ª—è (–≤ –≤—ã–≤–æ–¥–µ —Å–∫—Ä—ã—Ç).
rolvaliduntil	NULL –∏–ª–∏ –¥–∞—Ç–∞	–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ø–∞—Ä–æ–ª—è.
rolbypassrls	True / False	–û–±—Ö–æ–¥–∏—Ç –ª–∏ —Ä–æ–ª—å –ø–æ–ª–∏—Ç–∏–∫–∏ Row Level Security (RLS).
rolconfig	NULL –∏–ª–∏ JSON	–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Å—Å–∏–∏ –¥–ª—è —ç—Ç–æ–π —Ä–æ–ª–∏ (–∑–∞–¥–∞—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö).
oid	—á–∏—Å–ª–æ	–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —á–∏—Å–ª–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞ –≤ PostgreSQL.
üîê –ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Å—Å–∏–∏ (rolconfig)
–ü–∞—Ä–∞–º–µ—Ç—Ä rolconfig –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π. –í–æ—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π:

–†–æ–ª—å	–ù–∞—Å—Ç—Ä–æ–π–∫–∞ (rolconfig)	–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ
authenticated	statement_timeout=8s	–õ—é–±–æ–π SQL-–∑–∞–ø—Ä–æ—Å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, –µ—Å–ª–∏ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–æ–ª—å—à–µ 8 —Å–µ–∫—É–Ω–¥.
anon	statement_timeout=3s	–õ—é–±–æ–π SQL-–∑–∞–ø—Ä–æ—Å –æ—Ç –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, –µ—Å–ª–∏ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–æ–ª—å—à–µ 3 —Å–µ–∫—É–Ω–¥.
supabase_admin	log_statement=none	SQL-–∑–∞–ø—Ä–æ—Å—ã, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ —ç—Ç–æ–π —Ä–æ–ª—å—é, –Ω–µ –±—É–¥—É—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –≤ –∂—É—Ä–Ω–∞–ª (–ª–æ–≥–∏) –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
authenticator	lock_timeout=8s	–ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è —ç—Ç–æ–π —Ä–æ–ª–∏ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç –ë–î, –æ–Ω–∞ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç –æ–∂–∏–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ 8 —Å–µ–∫—É–Ω–¥.
supabase_read_only_user	default_transaction_read_only=on	–í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ —ç—Ç–æ–π —Ä–æ–ª—å—é, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—É–¥—É—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è.
–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –∫–ª—é—á–µ–≤—ã—Ö —Ä–æ–ª—è—Ö: –†–æ–ª—å anon –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ, –Ω–µ–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ API, –∞ authenticated ‚Äî –¥–ª—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –†–æ–ª—å service_role –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –∑–∞–¥–∞—á –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ö–æ–¥–∏—Ç RLS.

–ù–∞–¥–µ—é—Å—å, —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç –¥–µ–ª–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è! –ï—Å–ª–∏ —É –≤–∞—Å –æ—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º —Ä–æ–ª—è–º –∏–ª–∏ –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—é, –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å.

—Ç–µ–ø–µ—Ä–± —Å–¥–µ–ª–∞–π —á—Ç–æ–± –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å —Ä–∞–∑–º–µ—Ç–∫–æ–π
text
# üìù –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ —Ä–æ–ª—è–º

*   **–û–±—Ö–æ–¥ RLS**: –†–æ–ª–∏ —Å `rolsuper=False`, –Ω–æ `rolbypassrls=True` –º–æ–≥—É—Ç –æ–±—Ö–æ–¥–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ Row Level Security, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –≤–∞–∂–Ω–æ–π –ø—Ä–∏–≤–∏–ª–µ–≥–∏–µ–π –¥–ª—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –∑–∞–¥–∞—á.
*   **–ü–æ–∏—Å–∫ –ø–æ —Å—Ö–µ–º–∞–º**: –ü–∞—Ä–∞–º–µ—Ç—Ä `search_path` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ö–µ–º—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤ –∫–æ—Ç–æ—Ä–æ–π PostgreSQL –∏—â–µ—Ç –æ–±—ä–µ–∫—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–±–ª–∏—Ü—ã), –µ—Å–ª–∏ —Å—Ö–µ–º–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ —è–≤–Ω–æ.
*   **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏**: –ü–∞—Ä–∞–º–µ—Ç—Ä `statement_timeout` –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª—é–±–æ–≥–æ SQL-–∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Ä–æ–ª–∏. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å "–ø–æ–¥–≤–∏—Å–∞–Ω–∏–µ" –∑–∞–ø—Ä–æ—Å–æ–≤.

–í—Å–µ —Ä–æ–ª–∏ –≤ –≤–∞—à–µ–º self-hosted Supabase –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚Äî –≤–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ.

---

# üìä –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º `pg_roles`

–í —Ç–∞–±–ª–∏—Ü–µ `pg_roles` –∫–∞–∂–¥—ã–π —Å—Ç–æ–ª–±–µ—Ü –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –∏–ª–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—é —Ä–æ–ª–∏.

| –°—Ç–æ–ª–±–µ—Ü | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **rolsuper** | `True` / `False` | –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ä–æ–ª—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏). |
| **rolinherit** | `True` / `False` | –ù–∞—Å–ª–µ–¥—É–µ—Ç –ª–∏ —Ä–æ–ª—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –æ—Ç —Ä–æ–ª–µ–π, —á–ª–µ–Ω–æ–º –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω–∞ —è–≤–ª—è–µ—Ç—Å—è. |
| **rolcreaterole** | `True` / `False` | –ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ä–æ–ª–∏. |
| **rolcreatedb** | `True` / `False` | –ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. |
| **rolcanlogin** | `True` / `False` | –ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É (–¥–µ–ª–∞–µ—Ç —Ä–æ–ª—å "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º"). |
| **rolreplication** | `True` / `False` | –ú–æ–∂–µ—Ç –ª–∏ —Ä–æ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è) –¥–∞–Ω–Ω—ã—Ö. |
| **rolconnlimit** | `-1` –∏–ª–∏ —á–∏—Å–ª–æ | –õ–∏–º–∏—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (`-1` –æ–∑–Ω–∞—á–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–∏–º–∏—Ç–∞). |
| **rolpassword** | `********` | –•–µ—à –ø–∞—Ä–æ–ª—è (–≤ –≤—ã–≤–æ–¥–µ —Å–∫—Ä—ã—Ç). |
| **rolvaliduntil** | `NULL` –∏–ª–∏ –¥–∞—Ç–∞ | –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ø–∞—Ä–æ–ª—è. |
| **rolbypassrls** | `True` / `False` | –û–±—Ö–æ–¥–∏—Ç –ª–∏ —Ä–æ–ª—å –ø–æ–ª–∏—Ç–∏–∫–∏ Row Level Security (RLS). |
| **rolconfig** | `NULL` –∏–ª–∏ JSON | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Å—Å–∏–∏ –¥–ª—è —ç—Ç–æ–π —Ä–æ–ª–∏ (–∑–∞–¥–∞—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö). |
| **oid** | —á–∏—Å–ª–æ | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —á–∏—Å–ª–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞ –≤ PostgreSQL. |

---

# üîê –ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Å—Å–∏–∏ (rolconfig)

–ü–∞—Ä–∞–º–µ—Ç—Ä `rolconfig` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π. –í–æ—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π:

| –†–æ–ª—å | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (rolconfig) | –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ |
| :--- | :--- | :--- |
| **authenticated** | `statement_timeout=8s` | –õ—é–±–æ–π SQL-–∑–∞–ø—Ä–æ—Å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, –µ—Å–ª–∏ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–æ–ª—å—à–µ **8 —Å–µ–∫—É–Ω–¥**. |
| **anon** | `statement_timeout=3s` | –õ—é–±–æ–π SQL-–∑–∞–ø—Ä–æ—Å –æ—Ç –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, –µ—Å–ª–∏ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–æ–ª—å—à–µ **3 —Å–µ–∫—É–Ω–¥**. |
| **supabase_admin** | `log_statement=none` | SQL-–∑–∞–ø—Ä–æ—Å—ã, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ —ç—Ç–æ–π —Ä–æ–ª—å—é, **–Ω–µ –±—É–¥—É—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è** –≤ –∂—É—Ä–Ω–∞–ª (–ª–æ–≥–∏) –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. |
| **authenticator** | `lock_timeout=8s` | –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è —ç—Ç–æ–π —Ä–æ–ª–∏ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç –ë–î, –æ–Ω–∞ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç –æ–∂–∏–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ **8 —Å–µ–∫—É–Ω–¥**. |
| **supabase_read_only_user** | `default_transaction_read_only=on` | –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ —ç—Ç–æ–π —Ä–æ–ª—å—é, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—É–¥—É—Ç **—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è**. |

> **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –∫–ª—é—á–µ–≤—ã—Ö —Ä–æ–ª—è—Ö**: –†–æ–ª—å `anon` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ, –Ω–µ–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ API, –∞ `authenticated` ‚Äî –¥–ª—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –†–æ–ª—å `service_role` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –∑–∞–¥–∞—á –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ö–æ–¥–∏—Ç RLS.
–ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å —Ç–µ–∫—Å—Ç –∏–∑ –±–ª–æ–∫–∞ –≤—ã—à–µ ‚Äî –æ–Ω –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—é Markdown-—Ä–∞–∑–º–µ—Ç–∫—É (–∑–∞–≥–æ–ª–æ–≤–∫–∏ #, —Ç–∞–±–ª–∏—Ü—ã | | |, —Å–ø–∏—Å–∫–∏ * –∏ —Ç.–¥.). –≠—Ç–æ—Ç –∫–æ–¥ –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –ø—Ä—è–º–æ –≤ —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .md –∏–ª–∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Markdown (–Ω–∞–ø—Ä–∏–º–µ—Ä, Obsidian, Notion, GitHub, VS Code —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º).

—Å—Ö–µ–º–∞ Public "table_catalog","table_schema","table_name","table_type","self_referencing_column_name","reference_generation","user_defined_type_catalog","user_defined_type_schema","user_defined_type_name","is_insertable_into","is_typed","commit_action"
"postgres","public","project_create_requests","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","branches","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","project_invitations","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","projects","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","project_settings","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","legacy_subscriptions","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","products","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","rate_limits","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","subscriptions","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","user_projects","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","usage_records","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","user_settings","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","users","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","user_canvases","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","project_custom_domains","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","prices","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","canvas","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","frames","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","deployments","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","conversations","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","messages","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","custom_domains","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","custom_domain_verification","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","preview_domains","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","public","feedbacks","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
supabase –°–¥–µ–ª–∞–π markdown —Ç–∞–±–ª–∏—Ü—É —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü. –¢–∞–∫ –∂–µ —Å–¥–µ–ª–∞–π –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π —Ç–∞–±–ª–∏—Ü—ã. –°–¥–µ–ª–∞–π —Ç–∞–∫ —á—Ç–æ–± –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å —Ä–∞–∑–º–µ—Ç–∫–æ–π
markdown
# üìä –¢–∞–±–ª–∏—Ü—ã —Å—Ö–µ–º—ã Public –≤ Supabase

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü –≤ —Å—Ö–µ–º–µ `public` –≤–∞—à–µ–≥–æ self-hosted Supabase.

| –¢–∞–±–ª–∏—Ü–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- |
| **project_create_requests** | –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤. |
| **branches** | –í–µ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, staging, production). |
| **project_invitations** | –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ø—Ä–æ–µ–∫—Ç—ã. |
| **projects** | –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–∞—Ö. |
| **project_settings** | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤. |
| **legacy_subscriptions** | –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∑–∞–ø–∏—Å–∏ –æ –ø–æ–¥–ø–∏—Å–∫–∞—Ö (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ). |
| **products** | –¢–æ–≤–∞—Ä—ã –∏–ª–∏ —É—Å–ª—É–≥–∏, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏. |
| **rate_limits** | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–≤–æ—Ç—ã –ª–∏–º–∏—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (Rate Limiting). |
| **subscriptions** | –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç—ã/—É—Å–ª—É–≥–∏. |
| **user_projects** | –°–≤—è–∑—å –º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ (—á–ª–µ–Ω—Å—Ç–≤–æ). |
| **usage_records** | –ó–∞–ø–∏—Å–∏ –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —É—Å–ª—É–≥ (–¥–ª—è –±–∏–ª–ª–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏). |
| **user_settings** | –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. |
| **users** | –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö. |
| **user_canvases** | –°–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–∞–±–æ—á–∏–º–∏ –æ–±–ª–∞—Å—Ç—è–º–∏ ("—Ö–æ–ª—Å—Ç–∞–º–∏"). |
| **project_custom_domains** | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–æ–º–µ–Ω—ã, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ –ø—Ä–æ–µ–∫—Ç–∞–º. |
| **prices** | –¶–µ–Ω—ã –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç—ã/—É—Å–ª—É–≥–∏ (—Ç–∞—Ä–∏—Ñ—ã). |
| **canvas** | –†–∞–±–æ—á–∏–µ –æ–±–ª–∞—Å—Ç–∏ –∏–ª–∏ "—Ö–æ–ª—Å—Ç—ã" (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞). |
| **frames** | –ö–∞–¥—Ä—ã –∏–ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ —Ö–æ–ª—Å—Ç–∞ (canvas). |
| **deployments** | –ó–∞–ø–∏—Å–∏ –æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è—Ö (–¥–µ–ø–ª–æ—è—Ö) –ø—Ä–æ–µ–∫—Ç–æ–≤. |
| **conversations** | –î–∏–∞–ª–æ–≥–∏ –∏–ª–∏ —Ç—Ä–µ–¥—ã —Å–æ–æ–±—â–µ–Ω–∏–π. |
| **messages** | –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –¥–∏–∞–ª–æ–≥–æ–≤. |
| **custom_domains** | –û–±—â–∏–π —Ä–µ–µ—Å—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–æ–º–µ–Ω–æ–≤. |
| **custom_domain_verification** | –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤–ª–∞–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –¥–æ–º–µ–Ω–∞–º–∏. |
| **preview_domains** | –î–æ–º–µ–Ω—ã –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤. |
| **feedbacks** | –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. |

---

# üìù –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π —Ç–∞–±–ª–∏—Ü

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π —Å–¥–µ–ª–∞–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∏—á–Ω–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü –≤ —Å–∏—Å—Ç–µ–º–∞—Ö —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –±–∏–ª–ª–∏–Ω–≥–∞. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–∏–º–µ–Ω –∏ —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π) –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å `\d+ "table_name"` –≤ `psql` –∏–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É "Table Editor" –≤ Studio.

### **–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏: –ü—Ä–æ–µ–∫—Ç—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**
*   **`projects`, `users`**: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã. –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∞—Ç –±–∞–∑–æ–≤—ã–µ –ø–æ–ª—è: `id` (–ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á), `name`, `created_at`, `updated_at`, `status`. –í `users` —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å `email`, `encrypted_password`.
*   **`user_projects`**: –°–≤—è–∑—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞. –ü–æ–ª—è: `user_id` (–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ `users.id`), `project_id` (–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ `projects.id`), `role` (—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø—Ä–æ–µ–∫—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, 'owner', 'member').

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏**
*   **`project_invitations`**: –ü–æ–ª—è: `email`, `project_id`, `token` (–¥–ª—è —Å—Å—ã–ª–∫–∏-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è), `invited_by_user_id`, `status` ('pending', 'accepted'), `expires_at`.
*   **`project_settings`, `user_settings`**: –ü–æ–ª—è –≤–∏–¥–∞ `entity_id` (—Å—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è) –∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (`key`/`value` –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏).

### **–ë–∏–ª–ª–∏–Ω–≥ –∏ –ø–æ–¥–ø–∏—Å–∫–∏ (Stripe-like –º–æ–¥–µ–ª—å)**
*   **`products`**: `name`, `description`, `active` (boolean).
*   **`prices`**: `product_id` (—Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä), `unit_amount` (—Ü–µ–Ω–∞), `currency`, `interval` ('month', 'year' –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏), `active`.
*   **`subscriptions`**: `user_id` –∏–ª–∏ `project_id`, `price_id`, `status` ('active', 'canceled', 'past_due'), `current_period_start`, `current_period_end`, `cancel_at_period_end`.
*   **`usage_records`**: `subscription_id`, `quantity` (–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã), `timestamp`.

### **–î–æ–º–µ–Ω—ã –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**
*   **`custom_domains`, `project_custom_domains`**, **`preview_domains`**: –ü–æ–ª—è: `domain` (–∏–º—è –¥–æ–º–µ–Ω–∞), `project_id`, `status` ('pending', 'active', 'error'), `verified_at`.
*   **`custom_domain_verification`**: –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å `domain_id` –∏ `verification_token` –∏–ª–∏ `dns_record`.
*   **`deployments`**: `project_id`, `branch` (–∏–º—è –≤–µ—Ç–∫–∏), `status` ('building', 'live', 'failed'), `log_url`, `created_at`.

### **–í–µ—Ç–∫–∏ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç (Canvas)**
*   **`branches`**: `project_id`, `name` (–∏–º—è –≤–µ—Ç–∫–∏), `is_default` (boolean).
*   **`canvas`, `user_canvases`, `frames`**: –ü–æ–ª—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–∑—É–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º. –í `canvas` –º–æ–∂–µ—Ç –±—ã—Ç—å `project_id`, `name`; –≤ `frames` - `canvas_id`, `type`, `properties` (JSON).

### **–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**
*   **`conversations`**: `title`, `created_by`, `status`.
*   **`messages`**: `conversation_id`, `author_id`, `content`, `created_at`.
*   **`feedbacks`**: `user_id`, `subject`, `message`, `category`.

### **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã**
*   **`project_create_requests`**: –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å `user_id`, `project_name`, `specifications`, `status`.
*   **`rate_limits`**: `project_id`, `feature` (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'api_calls'), `limit`, `period`.
*   **`legacy_subscriptions`**: –ü–æ–ª—è, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ `subscriptions`, –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç–∞—Ä–æ–π —Å–∏—Å—Ç–µ–º—ã.
–í—ã –º–æ–∂–µ—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –±–ª–æ–∫ –∫–æ–¥–∞ –≤—ã—à–µ. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é Markdown-—Ä–∞–∑–º–µ—Ç–∫—É –∏ –≥–æ—Ç–æ–≤ –∫ –≤—Å—Ç–∞–≤–∫–µ –≤ –ª—é–±–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π Markdown. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ–ª–µ–π –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è SQL-–∑–∞–ø—Ä–æ—Å–æ–º \d+ "–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ç–∞–±–ª–∏—Ü—ã" –∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º Supabase Studio.

–°–¥–µ–ª–∞–π —Ç–æ–∂–µ —Å–∞–º–æ–µ –¥–ª—è auth "table_catalog","table_schema","table_name","table_type","self_referencing_column_name","reference_generation","user_defined_type_catalog","user_defined_type_schema","user_defined_type_name","is_insertable_into","is_typed","commit_action"
"postgres","auth","sso_domains","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","saml_providers","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","sso_providers","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","oauth_consents","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","instances","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","schema_migrations","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","mfa_factors","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","refresh_tokens","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","users","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","audit_log_entries","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","saml_relay_states","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","flow_state","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","oauth_clients","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","identities","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","sessions","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","one_time_tokens","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","oauth_authorizations","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","mfa_challenges","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","mfa_amr_claims","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","auth","oauth_client_states","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
markdown
# üîê –¢–∞–±–ª–∏—Ü—ã —Å—Ö–µ–º—ã Auth –≤ Supabase

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü –≤ —Å—Ö–µ–º–µ `auth` –≤–∞—à–µ–≥–æ self-hosted Supabase (—Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ GoTrue).

| –¢–∞–±–ª–∏—Ü–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- |
| **users** | –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –•—Ä–∞–Ω–∏—Ç —è–¥—Ä–æ –ø—Ä–æ—Ñ–∏–ª—è. |
| **identities** | –°–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –≤–Ω–µ—à–Ω–∏–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ (OAuth, SAML, email/password). |
| **sessions** | –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –≤—Ö–æ–¥–∞. |
| **refresh_tokens** | –¢–æ–∫–µ–Ω—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–π (JWT refresh tokens). |
| **audit_log_entries** | –ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞ –≤—Å–µ—Ö –∑–Ω–∞—á–∏–º—ã—Ö —Å–æ–±—ã—Ç–∏–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. |
| **sso_providers** | –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ Single Sign-On (OAuth, SAML). |
| **sso_domains** | –ü—Ä–∏–≤—è–∑–∫–∞ –¥–æ–º–µ–Ω–æ–≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º SSO-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º. |
| **saml_providers** | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ SAML 2.0 Identity Provider (IdP) –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –≤—Ö–æ–¥–∞. |
| **saml_relay_states** | –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–æ—Ç–æ–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ SAML. |
| **oauth_clients** | –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ OAuth 2.0 / OpenID Connect –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. |
| **oauth_authorizations** | –í—ã–¥–∞–Ω–Ω—ã–µ –∫–æ–¥—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ access tokens –¥–ª—è OAuth-–∫–ª–∏–µ–Ω—Ç–æ–≤. |
| **oauth_consents** | –ó–∞–ø–∏—Å—å —Å–æ–≥–ª–∞—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ OAuth-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. |
| **oauth_client_states** | –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è CSRF-–∞—Ç–∞–∫ –≤ OAuth-–ø–æ—Ç–æ–∫–µ. |
| **mfa_factors** | –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ñ–∞–∫—Ç–æ—Ä—ã –º–Ω–æ–≥–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (TOTP, SMS –∏ —Ç.–¥.). |
| **mfa_challenges** | –ê–∫—Ç–∏–≤–Ω—ã–µ –≤—ã–∑–æ–≤—ã (challenges) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ MFA-—Ñ–∞–∫—Ç–æ—Ä–∞. |
| **mfa_amr_claims** | –ó–∞–ø–∏—Å–∏ –æ –º–µ—Ç–æ–¥–∞—Ö –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (Authentication Method Reference), –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –≤ —Å–µ—Å—Å–∏–∏. |
| **flow_state** | –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è). |
| **one_time_tokens** | –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –≤—Ä–æ–¥–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email, —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è. |
| **instances** | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ GoTrue (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏). |
| **schema_migrations** | –°–ª—É–∂–µ–±–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. |

---

# üìù –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–ª–µ–π —Ç–∞–±–ª–∏—Ü Auth

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –û–ø–∏—Å–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ —Ç–∏–ø–∏—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ GoTrue/Supabase Auth. –î–ª—è —Ç–æ—á–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `\d+ auth."table_name"` –≤ `psql` –∏–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å—Ö–µ–º—É –≤ Studio ‚Üí SQL Editor.

### **–Ø–¥—Ä–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–µ—Å—Å–∏–π**
*   **`auth.users`**: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞.
    *   `id` (UUID, PK): –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    *   `email`, `phone`: –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –≤—Ö–æ–¥–∞.
    *   `encrypted_password`: –•–µ—à –ø–∞—Ä–æ–ª—è.
    *   `email_confirmed_at`, `phone_confirmed_at`: –í—Ä–µ–º—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤.
    *   `confirmed_at`: –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞.
    *   `last_sign_in_at`: –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞.
    *   `banned_until`: –î–æ –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (—Å—Ç–æ–ª–±–µ—Ü, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ä–∞–Ω–µ–µ –¥–æ–±–∞–≤–ª—è–ª–∏).
    *   `raw_app_meta_data`, `raw_user_meta_data` (JSONB): –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
*   **`auth.sessions`**:
    *   `id` (UUID, PK): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏.
    *   `user_id` (UUID, FK ‚Üí `users.id`): –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    *   `not_after`: –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Å—Å–∏–∏.
*   **`auth.refresh_tokens`**:
    *   `id` (BIGINT, PK): –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–∫–µ–Ω–∞.
    *   `session_id` (UUID, FK ‚Üí `sessions.id`): –°–≤—è–∑–∞–Ω–Ω–∞—è —Å–µ—Å—Å–∏—è.
    *   `token`: –ó–Ω–∞—á–µ–Ω–∏–µ —Å–∞–º–æ–≥–æ refresh-—Ç–æ–∫–µ–Ω–∞ (—Ö–µ—à).
    *   `revoked`: –§–ª–∞–≥ –æ—Ç–∑—ã–≤–∞ —Ç–æ–∫–µ–Ω–∞.

### **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (SSO/OAuth)**
*   **`auth.identities`**:
    *   `id` (TEXT): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É –≤–Ω–µ—à–Ω–µ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ–≥–æ Google ID).
    *   `user_id` (UUID, FK ‚Üí `users.id`): –°–≤—è–∑—å —Å –ª–æ–∫–∞–ª—å–Ω–æ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å—å—é.
    *   `provider` (TEXT): –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ ('google', 'github', 'email', 'saml' –∏ —Ç.–¥.).
    *   `identity_data` (JSONB): –ü—Ä–æ—Ñ–∏–ª—å, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.
*   **`auth.sso_providers`**:
    *   `id` (UUID, PK): –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ —Å–∏—Å—Ç–µ–º–µ.
    *   `resource_id` (TEXT): –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–∏–ø–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ ('google', 'saml', 'email' –∏ —Ç.–¥.).
*   **`auth.sso_domains`**:
    *   `sso_provider_id` (UUID, FK ‚Üí `sso_providers.id`): –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.
    *   `domain` (TEXT): –î–æ–º–µ–Ω email (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'company.com'), –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.

### **–ú–Ω–æ–≥–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (MFA)**
*   **`auth.mfa_factors`**:
    *   `id` (UUID, PK): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ñ–∞–∫—Ç–æ—Ä–∞.
    *   `user_id` (UUID, FK ‚Üí `users.id`): –í–ª–∞–¥–µ–ª–µ—Ü —Ñ–∞–∫—Ç–æ—Ä–∞.
    *   `status` (TEXT): –°–æ—Å—Ç–æ—è–Ω–∏–µ ('unverified', 'verified').
    *   `factor_type` (TEXT): –¢–∏–ø ('totp', 'phone' –∏ —Ç.–¥.).
    *   `secret`: –°–µ–∫—Ä–µ—Ç –¥–ª—è TOTP –∏–ª–∏ —Ç–æ–∫–µ–Ω –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤.
*   **`auth.mfa_challenges`**:
    *   `factor_id` (UUID, FK ‚Üí `mfa_factors.id`): –§–∞–∫—Ç–æ—Ä, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω –≤—ã–∑–æ–≤.
    *   `ip_address`: IP, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ—Å—Ç—É–ø–∏–ª –∑–∞–ø—Ä–æ—Å.
    *   `verified_at`: –í—Ä–µ–º—è —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

### **–ê—É–¥–∏—Ç –∏ —Å–ª—É–∂–µ–±–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**
*   **`auth.audit_log_entries`**:
    *   `id` (UUID, PK): –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏.
    *   `payload` (JSONB): –î–µ—Ç–∞–ª–∏ —Å–æ–±—ã—Ç–∏—è (—Ç–∏–ø —Å–æ–±—ã—Ç–∏—è, IP, user_agent, ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).
    *   `created_at`: –í—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**.
*   **`auth.flow_state`**:
    *   `id` (UUID, PK): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Ç–æ–∫–∞.
    *   `authentication_method` (TEXT): –ú–µ—Ç–æ–¥ ('password', 'otp', 'oauth').
    *   `code_challenge`, `code_challenge_method`: –î–ª—è PKCE –≤ OAuth.
*   **`auth.one_time_tokens`**:
    *   `user_id` (UUID, FK ‚Üí `users.id`): –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
    *   `token_hash`: –•–µ—à –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞.
    *   `token_type` (TEXT): –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ ('recovery', 'invite', 'magiclink', 'email_change').
    *   `relates_to`: –°–≤—è–∑–∞–Ω–Ω—ã–π email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω.
–í—ã –º–æ–∂–µ—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –±–ª–æ–∫ –∫–æ–¥–∞ –≤—ã—à–µ. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é Markdown-—Ä–∞–∑–º–µ—Ç–∫—É –∏ –≥–æ—Ç–æ–≤ –∫ –≤—Å—Ç–∞–≤–∫–µ –≤ –ª—é–±–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π Markdown.

—Ä–∞—Å–∫—Ä–æ–π –ø–æ–Ω—è—Ç–∏–µ CSRF
markdown
# üîê CSRF (–ü–æ–¥–º–µ–Ω–∞ –ú–µ–∂—Å–∞–π—Ç–æ–≤—ã—Ö –ó–∞–ø—Ä–æ—Å–æ–≤)

**CSRF (Cross-Site Request Forgery)** ‚Äî —ç—Ç–æ —Ç–∏–ø –∞—Ç–∞–∫–∏ –Ω–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –±—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–º —Å–∞–π—Ç–µ –±–µ–∑ –≤–µ–¥–æ–º–∞ –∏ —Å–æ–≥–ª–∞—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç CSRF-–∞—Ç–∞–∫–∞ (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä)

1.  **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –≤—Ö–æ–¥–∏—Ç –≤ —Å–≤–æ–π –±–∞–Ω–∫–æ–≤—Å–∫–∏–π –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ —Å–∞–π—Ç–µ `bank.com`. –°–µ—Å—Å–∏—è (cookie) —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–µ.
2.  **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**, –æ—Å—Ç–∞–≤–∞—è—Å—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ –∏–ª–∏ –ø–æ—Å–µ—â–∞–µ—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π —Å–∞–π—Ç.
3.  **–í—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π —Å–∞–π—Ç** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ —Ñ–æ–Ω–µ —Å–∫—Ä—ã—Ç—É—é —Ñ–æ—Ä–º—É –∏–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–∞ `bank.com` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥ –¥–µ–Ω–µ–≥).
4.  **–ë—Ä–∞—É–∑–µ—Ä** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ cookie –æ—Ç `bank.com` –∫ —ç—Ç–æ–º—É –∑–∞–ø—Ä–æ—Å—É.
5.  **–°–µ—Ä–≤–µ—Ä `bank.com`** –≤–∏–¥–∏—Ç –≤–∞–ª–∏–¥–Ω—É—é —Å–µ—Å—Å–∏—é –∏ **–≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–ø–∞—Å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ** (–ø–µ—Ä–µ–≤–æ–¥), —Å—á–∏—Ç–∞—è, —á—Ç–æ –∑–∞–ø—Ä–æ—Å —Å–¥–µ–ª–∞–ª —Å–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

## üõ°Ô∏è –ö–∞–∫ –∑–∞—â–∏—â–∞—é—Ç—Å—è –æ—Ç CSRF

### 1. **CSRF-—Ç–æ–∫–µ–Ω—ã (–Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥)**
*   –°–µ—Ä–≤–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π, –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏ –∏–ª–∏ —Ñ–æ—Ä–º—ã.
*   –≠—Ç–æ—Ç —Ç–æ–∫–µ–Ω –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º—ã –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞–∫ —Å–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ (`<input type="hidden" name="csrf_token" value="abc123...">`) –∏–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `X-CSRF-Token`).
*   –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã —Å–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–≤–ø–∞–¥–∞–µ—Ç –ª–∏ —Ç–æ–∫–µ–Ω –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ —Å —Ç–æ–∫–µ–Ω–æ–º –≤ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
*   **–ü–æ—á–µ–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç:** –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –Ω–µ –º–æ–∂–µ—Ç —É–∑–Ω–∞—Ç—å –∏–ª–∏ –ø–æ–¥–¥–µ–ª–∞—Ç—å —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ç–∞–∫ –∫–∞–∫ –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π `bank.com`.

**–ü—Ä–∏–º–µ—Ä –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Supabase/OAuth:**
–¢–∞–±–ª–∏—Ü–∞ **`auth.oauth_client_states`** –∫–∞–∫ —Ä–∞–∑ –∏ —Å–ª—É–∂–∏—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º —Ç–∞–∫–∏—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö CSRF-—Ç–æ–∫–µ–Ω–æ–≤ (—á–∞—Å—Ç–æ –Ω–∞–∑—ã–≤–∞–µ–º—ã—Ö `state`). –û–Ω–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ –ø–æ—Ç–æ–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ OAuth, –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É, –∞ –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ—Ç–≤–µ—Ç –ø—Ä–∏—à–µ–ª –Ω–∞ –Ω–∞—à –∏—Å—Ö–æ–¥–Ω—ã–π –∑–∞–ø—Ä–æ—Å.

### 2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Origin` / `Referer`**
*   –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å –∫–∞–∫–æ–≥–æ —Å–∞–π—Ç–∞ (`Origin`) –∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`Referer`) –ø—Ä–∏—à–µ–ª –∑–∞–ø—Ä–æ—Å.
*   –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–∏—à–µ–ª –Ω–µ —Å –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –¥–æ–º–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ —Å `bank.com`), –æ–Ω –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è.
*   **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:** –ù–µ –≤—Å–µ–≥–¥–∞ –Ω–∞–¥–µ–∂–µ–Ω, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –º–æ–≥—É—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∏–ª–∏ –±—ã—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω—ã —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### 3. **SameSite Cookies (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)**
*   –ê—Ç—Ä–∏–±—É—Ç `SameSite` –¥–ª—è cookie –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è:
    *   `Strict`: –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫—É–∫–∏ **—Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Ç–æ–≥–æ –∂–µ —Å–∞–π—Ç–∞**. –ù–∞–¥–µ–∂–Ω–µ–µ –≤—Å–µ–≥–æ.
    *   `Lax` (—Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö): –ö—É–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö (GET) –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ —Å –¥—Ä—É–≥–æ–≥–æ —Å–∞–π—Ç–∞, –Ω–æ –Ω–µ –ø—Ä–∏ –æ–ø–∞—Å–Ω—ã—Ö (POST).
    *   `None`: –ö—É–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤—Å–µ–≥–¥–∞ (—Ç—Ä–µ–±—É–µ—Ç —Ç–∞–∫–∂–µ –∞—Ç—Ä–∏–±—É—Ç–∞ `Secure` –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–æ HTTPS). –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∏–∂–µ.
*   **–ü–æ—á–µ–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç:** –ë—Ä–∞—É–∑–µ—Ä —Å–∞–º –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É –∫—É–∫ –≤ –º–µ–∂—Å–∞–π—Ç–æ–≤—ã—Ö (cross-site) –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö, —Ç–µ–º —Å–∞–º—ã–º –ª–∏—à–∞—è CSRF-–∑–∞–ø—Ä–æ—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

### 4. **–î–≤–æ–π–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–æ–∫–µ–Ω–∞ (Double Submit Cookie)**
*   –í–∞—Ä–∏–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ CSRF-—Ç–æ–∫–µ–Ω–∞. –¢–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –≤ —Å–µ—Å—Å–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –Ω–æ —Ç–∞–∫–∂–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è cookie –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
*   –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –∂–µ —Ç–æ–∫–µ–Ω –∏ –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ (–∫–∞–∫ –ø–æ–ª–µ), –∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ (–∏–∑ cookie).
*   –°–µ—Ä–≤–µ—Ä —Å–≤–µ—Ä—è–µ—Ç –æ–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è. –ê—Ç–∞–∫—É—é—â–∏–π –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å cookie –¥–ª—è —á—É–∂–æ–≥–æ –¥–æ–º–µ–Ω–∞, –ø–æ—ç—Ç–æ–º—É –Ω–µ —Å–º–æ–∂–µ—Ç –ø–æ–¥–¥–µ–ª–∞—Ç—å –æ–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è.

## üíé –ö–ª—é—á–µ–≤–æ–π –≤—ã–≤–æ–¥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

**CSRF —ç–∫—Å–ø–ª—É–∞—Ç–∏—Ä—É–µ—Ç "—Å–ª–µ–ø–æ–µ –¥–æ–≤–µ—Ä–∏–µ" –±—Ä–∞—É–∑–µ—Ä–∞ –∫ cookie.** –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ —Ç–æ–º, —á—Ç–æ–±—ã **–¥–æ–±–∞–≤–∏—Ç—å –≤ –∑–∞–ø—Ä–æ—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç (—Ç–æ–∫–µ–Ω)**, –∫–æ—Ç–æ—Ä—ã–π –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –Ω–µ –º–æ–∂–µ—Ç –Ω–∏ —É–∑–Ω–∞—Ç—å, –Ω–∏ –ø–æ–¥–¥–µ–ª–∞—Ç—å –¥–ª—è —Å–≤–æ–µ–π –∂–µ—Ä—Ç–≤—ã. –°–æ—á–µ—Ç–∞–Ω–∏–µ CSRF-—Ç–æ–∫–µ–Ω–æ–≤ –∏ –∞—Ç—Ä–∏–±—É—Ç–∞ `SameSite` –¥–ª—è cookie —è–≤–ª—è–µ—Ç—Å—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏ –Ω–∞–¥–µ–∂–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –∑–∞—â–∏—Ç—ã.

–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –≤–∞—à–µ–π —Ä–∞–±–æ—Ç—ã —Å Supabase Auth –º–µ—Ö–∞–Ω–∏–∑–º CSRF-–∑–∞—â–∏—Ç—ã —É–∂–µ –≤—Å—Ç—Ä–æ–µ–Ω, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –ø–æ—Ç–æ–∫–∏ OAuth —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `oauth_client_states`.
This response is AI-generated, for reference only.
–°–¥–µ–ª–∞–π —Ç–æ–∂–µ —Å–∞–º–æ–µ –¥–ª—è drizzle "table_catalog","table_schema","table_name","table_type","self_referencing_column_name","reference_generation","user_defined_type_catalog","user_defined_type_schema","user_defined_type_name","is_insertable_into","is_typed","commit_action"
"postgres","drizzle","__drizzle_migrations","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
markdown
# üóÑÔ∏è –¢–∞–±–ª–∏—Ü–∞ —Å—Ö–µ–º—ã Drizzle –≤ Supabase

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Å—Ö–µ–º–µ `drizzle` –≤–∞—à–µ–≥–æ self-hosted Supabase.

| –¢–∞–±–ª–∏—Ü–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- |
| **`__drizzle_migrations`** | **–°–∏—Å—Ç–µ–º–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ ORM Drizzle.** –û–Ω–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±—ã–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫ —Ç–µ–∫—É—â–µ–π —Å—Ö–µ–º–µ. |

---

# üìù –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π —Ç–∞–±–ª–∏—Ü—ã `__drizzle_migrations`

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º **Drizzle Kit/ORM** –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π. –¢—Ä–æ–≥–∞—Ç—å –µ—ë –≤—Ä—É—á–Ω—É—é –æ–±—ã—á–Ω–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

–≠—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å–ª—É–∂–∏—Ç **–∂—É—Ä–Ω–∞–ª–æ–º –º–∏–≥—Ä–∞—Ü–∏–π**. –ï—ë —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –¥–ª—è Drizzle ORM –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏.

| –ü–æ–ª–µ (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ) | –¢–∏–ø (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π) | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **`id`** | `SERIAL` / `INTEGER` | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ –≤ –∂—É—Ä–Ω–∞–ª–µ. |
| **`hash`** | `VARCHAR` / `TEXT` | **–£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ö—ç—à-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ñ–∞–π–ª–∞ –º–∏–≥—Ä–∞—Ü–∏–∏.** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–µ –ø–æ–ª–µ. Drizzle –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ö—ç—à –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞ SQL-–º–∏–≥—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `a1b2c3d4...`). –ü–æ —ç—Ç–æ–º—É —Ö—ç—à—É –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, –±—ã–ª–∞ –ª–∏ —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è. |
| **`created_at`** | `BIGINT` –∏–ª–∏ `TIMESTAMP` | –í—Ä–µ–º—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏. –û–±—ã—á–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ Unix-epoch –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1717677105000`). |
| **`drizzle_version`** | `VARCHAR` / `TEXT` | –í–µ—Ä—Å–∏—è Drizzle ORM, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω–∏–ª–∞ —ç—Ç—É –º–∏–≥—Ä–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `0.30.0`). –ü–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. |

### üõ†Ô∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ (–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –º–∏–≥—Ä–∞—Ü–∏–∏):
1.  **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫** —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `0001_initial_schema.sql`).
2.  **Drizzle Kit** –≤—ã—á–∏—Å–ª—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `hash` –æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞.
3.  **–ü–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º** Drizzle –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤ `__drizzle_migrations`, –Ω–µ—Ç –ª–∏ —É–∂–µ –∑–∞–ø–∏—Å–∏ —Å —Ç–∞–∫–∏–º `hash`.
4.  **–ï—Å–ª–∏ –∑–∞–ø–∏—Å–∏ –Ω–µ—Ç:** Drizzle –≤—ã–ø–æ–ª–Ω—è–µ—Ç SQL-—Å–∫—Ä–∏–ø—Ç –∏–∑ —Ñ–∞–π–ª–∞ –º–∏–≥—Ä–∞—Ü–∏–∏, –∞ –∑–∞—Ç–µ–º **–≤—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É** –≤ `__drizzle_migrations` —Å `hash`, –≤—Ä–µ–º–µ–Ω–µ–º (`created_at`) –∏ –≤–µ—Ä—Å–∏–µ–π.
5.  **–ï—Å–ª–∏ –∑–∞–ø–∏—Å—å –µ—Å—Ç—å:** Drizzle –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —ç—Ç—É –º–∏–≥—Ä–∞—Ü–∏—é, —Å—á–∏—Ç–∞—è –µ—ë —É–∂–µ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω–æ–π.

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –≤—ã–≤–æ–¥—ã:
*   **–ù–µ —É–¥–∞–ª—è–π—Ç–µ –∏ –Ω–µ –º–µ–Ω—è–π—Ç–µ —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É –≤—Ä—É—á–Ω—É—é**, –µ—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã –Ω–∞ 100% –≤ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è—Ö. –≠—Ç–æ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–π.
*   **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏:** –ù–∞–ª–∏—á–∏–µ —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü—ã –≤ –≤–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Drizzle ORM** –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ **Drizzle Kit**.
*   **–ü—É—Å—Ç–∞—è —Ç–∞–±–ª–∏—Ü–∞?** –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –ø—É—Å—Ç–∞, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –º–∏–≥—Ä–∞—Ü–∏–π Drizzle –±—ã–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω (—Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞), –Ω–æ **–Ω–∏ –æ–¥–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –µ—â—ë –Ω–µ –±—ã–ª–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞** –∫ —ç—Ç–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é `drizzle-kit migrate`.
*   –ï—Å–ª–∏ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Drizzle ORM –≤ —Å–≤–æ—ë–º –ø—Ä–æ–µ–∫—Ç–µ, –Ω–∞–ª–∏—á–∏–µ —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü—ã –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–µ–¥—Å—Ç–≤–∏–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–¥–∞ –∏–ª–∏ –æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–º. –ï—ë –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å (`DROP TABLE drizzle.__drizzle_migrations;`), –µ—Å–ª–∏ –≤—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –æ–Ω–∞ –Ω–µ –Ω—É–∂–Ω–∞.
—Å–¥–µ–ª–∞–π —Ç–æ–∂–µ —Å–∞–º–æ–µ –¥–ª—è realtime "table_catalog","table_schema","table_name","table_type","self_referencing_column_name","reference_generation","user_defined_type_catalog","user_defined_type_schema","user_defined_type_name","is_insertable_into","is_typed","commit_action"
"postgres","realtime","schema_migrations","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","realtime","subscription","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","realtime","messages","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
markdown
# üîÅ –¢–∞–±–ª–∏—Ü—ã —Å—Ö–µ–º—ã Realtime –≤ Supabase

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–∞–±–ª–∏—Ü –≤ —Å—Ö–µ–º–µ `realtime`, –∫–æ—Ç–æ—Ä–∞—è —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é **Supabase Realtime** ‚Äî —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ WebSocket.

| –¢–∞–±–ª–∏—Ü–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- |
| **`subscription`** | –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã–º–∏ WebSocket-–ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. |
| **`messages`** | –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–∏–∑–º–µ–Ω–µ–Ω–∏–π), –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º. |
| **`schema_migrations`** | –°–ª—É–∂–µ–±–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–∞–º–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ Realtime. |

---

# üìù –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π —Ç–∞–±–ª–∏—Ü Realtime

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã —è–≤–ª—è—é—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞ Realtime. –ò—Ö –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å–µ—Ä–≤–∏—Å–æ–º, –∏ –≤—Ä—É—á–Ω—É—é –∏—Ö –∏–∑–º–µ–Ω—è—Ç—å –æ–±—ã—á–Ω–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

### **`realtime.subscription` (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏)**
–≠—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –∫–ª–∏–µ–Ω—Ç—ã (—á–µ—Ä–µ–∑ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è) –Ω–∞ —á—Ç–æ –ø–æ–¥–ø–∏—Å–∞–Ω—ã.

| –ü–æ–ª–µ (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ) | –¢–∏–ø (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π) | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **`id`** | `BIGINT` –∏–ª–∏ `UUID` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ –æ –ø–æ–¥–ø–∏—Å–∫–µ. |
| **`subscription_id`** | `TEXT` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–¥–ø–∏—Å–∫–∏, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏). |
| **`entity`** | `TEXT` | –°—É—â–Ω–æ—Å—Ç—å, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –ø–æ–¥–ø–∏—Å–∞–Ω –∫–ª–∏–µ–Ω—Ç. –ß–∞—Å—Ç–æ —ç—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Å—Ö–µ–º—ã –∏ —Ç–∞–±–ª–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"public.posts"`). |
| **`filters`** | `JSONB` | –£—Å–ª–æ–≤–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞ –∫–∞–∫–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `{"column": "id", "value": "123"}`). |
| **`claims`** | `JSONB` | JWT-claims (—É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —É—Å—Ç–∞–Ω–æ–≤–∏–≤—à–µ–≥–æ –ø–æ–¥–ø–∏—Å–∫—É. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ RLS. |
| **`created_at`** | `TIMESTAMPTZ` | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏. |

### **`realtime.messages` (–û—á–µ—Ä–µ–¥—å –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π)**
–≠—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –æ—á–µ—Ä–µ–¥—å –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º.

| –ü–æ–ª–µ (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ) | –¢–∏–ø (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π) | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **`id`** | `BIGINT` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è. |
| **`topic`** | `TEXT` | –¢–µ–º–∞ (–∫–∞–Ω–∞–ª) —Å–æ–æ–±—â–µ–Ω–∏—è. –û–±—ã—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª—é `entity` –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `subscription`. |
| **`event`** | `TEXT` | –¢–∏–ø —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –≤ –ë–î: **`INSERT`**, **`UPDATE`** –∏–ª–∏ **`DELETE`**. |
| **`payload`** | `JSONB` | **–°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –ø–æ–ª–µ.** –°–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏, –≤–∫–ª—é—á–∞—è –Ω–æ–≤—ã–µ (`record`) –∏ —Å—Ç–∞—Ä—ã–µ (`old_record`) –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç—Ä–æ–∫. |
| **`metadata`** | `JSONB` | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ —Å–æ–±—ã—Ç–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Ä–µ–º—è –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏). |
| **`created_at`** | `TIMESTAMPTZ` | –í—Ä–µ–º—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –æ—á–µ—Ä–µ–¥—å. |

### **`realtime.schema_migrations` (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏)**
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –¥–ª—è –º–Ω–æ–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å–ª—É–∂–µ–±–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞.

| –ü–æ–ª–µ (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ) | –¢–∏–ø (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π) | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **`version`** | `VARCHAR` –∏–ª–∏ `BIGINT` | –ù–æ–º–µ—Ä –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—Ö–µ–º—ã. |
| **`inserted_at`** | `TIMESTAMPTZ` | –í—Ä–µ–º—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏. |

---

# ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –≤ Realtime

1.  **–¢—Ä–∏–≥–≥–µ—Ä –≤ –≤–∞—à–µ–π —Ç–∞–±–ª–∏—Ü–µ:** –ö–æ–≥–¥–∞ –≤ –ª—é–±–æ–π —Ç–∞–±–ª–∏—Ü–µ –≤–∞—à–µ–π –ë–î (–Ω–∞–ø—Ä–∏–º–µ—Ä, `public.posts`) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ (INSERT/UPDATE/DELETE), —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç—Ä–∏–≥–≥–µ—Ä **`realtime`** —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —ç—Ç–æ.
2.  **–ó–∞–ø–∏—Å—å –≤ `messages`:** –≠—Ç–æ—Ç —Ç—Ä–∏–≥–≥–µ—Ä –≤—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤ `realtime.messages` —Å —Ç–µ–º–æ–π (`topic="public.posts"`), —Ç–∏–ø–æ–º —Å–æ–±—ã—Ç–∏—è –∏ –¥–∞–Ω–Ω—ã–º–∏ (`payload`).
3.  **–†–∞—Å—Å—ã–ª–∫–∞ –ø–æ –ø–æ–¥–ø–∏—Å–∫–∞–º:** –°–µ—Ä–≤–∏—Å Realtime —Å—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ `realtime.messages`, –Ω–∞—Ö–æ–¥–∏—Ç –≤ `realtime.subscription` –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤, –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö –Ω–∞ —Ç–µ–º—É `"public.posts"`, –∏ —á—å–∏ `filters` —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ `payload`.
4.  **–û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ WebSocket:** –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É WebSocket-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—é –∫–∞–∂–¥–æ–º—É –ø–æ–¥—Ö–æ–¥—è—â–µ–º—É –∫–ª–∏–µ–Ω—Ç—É.
5.  **–ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ:** –í–∞—à–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–∏—Å–ø–æ–ª—å–∑—É—é—â–µ–µ Supabase Realtime client) –ø–æ–ª—É—á–∞–µ—Ç —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

### üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
*   **–ù–µ –∏–∑–º–µ–Ω—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —ç—Ç–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö –≤—Ä—É—á–Ω—É—é**, –µ—Å–ª–∏ –≤—ã –Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å –≥–ª—É–±–æ–∫–æ–π –æ—Ç–ª–∞–¥–∫–æ–π –∏–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π —Å–∞–º–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ Realtime.
*   –ï—Å–ª–∏ Realtime –ø–µ—Ä–µ—Å—Ç–∞–ª –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–±—ã—Ç–∏—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `supabase-realtime` –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç—Ä–∏–≥–≥–µ—Ä—ã `realtime` —Å—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–∞ –Ω—É–∂–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö.
*   –¢–∞–±–ª–∏—Ü—ã –≤ —ç—Ç–æ–π —Å—Ö–µ–º–µ ‚Äî —ç—Ç–æ **"–¥–≤–∏–∂–æ–∫"** Realtime. –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –ª–µ–∂–∞—Ç –≤ —Å–≤–æ–∏—Ö —Å—Ö–µ–º–∞—Ö (`public`, `auth` –∏ –¥—Ä.), –∞ Realtime –ª–∏—à—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏ —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è.
—Å–¥–µ–ª–∞–π —Ç–æ–∂–µ —Å–∞–º–æ–µ –¥–ª—è storage "table_catalog","table_schema","table_name","table_type","self_referencing_column_name","reference_generation","user_defined_type_catalog","user_defined_type_schema","user_defined_type_name","is_insertable_into","is_typed","commit_action"
"postgres","storage","migrations","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","storage","buckets","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","storage","s3_multipart_uploads","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","storage","s3_multipart_uploads_parts","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","storage","objects","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","storage","prefixes","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","storage","buckets_vectors","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","storage","vector_indexes","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
"postgres","storage","buckets_analytics","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
markdown
# üóÇÔ∏è –¢–∞–±–ª–∏—Ü—ã —Å—Ö–µ–º—ã Storage –≤ Supabase

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–∞–±–ª–∏—Ü –≤ —Å—Ö–µ–º–µ `storage`, –∫–æ—Ç–æ—Ä–∞—è —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é **Supabase Storage** ‚Äî —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞–º–∏ (–æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ).

| –¢–∞–±–ª–∏—Ü–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- |
| **`buckets`** | –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è "–≤–µ–¥—Ä–∞–º–∏" (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏/–ø–∞–ø–∫–∞–º–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤. |
| **`objects`** | –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤. |
| **`prefixes`** | –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è "–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –ø–∞–ø–∫–∞–º–∏" –≤–Ω—É—Ç—Ä–∏ `buckets`, –æ—Ä–≥–∞–Ω–∏–∑—É—é—â–∏–º–∏ –æ–±—ä–µ–∫—Ç—ã –≤ –∏–µ—Ä–∞—Ä—Ö–∏—é. |
| **`s3_multipart_uploads`** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ –º–Ω–æ–≥–æ–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–π (multipart) –∑–∞–≥—Ä—É–∑–∫–∏ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π —Å S3 API. |
| **`s3_multipart_uploads_parts`** | –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —á–∞—Å—Ç—è—Ö (chunks) –≤ —Ä–∞–º–∫–∞—Ö —Å–µ—Å—Å–∏–∏ `multipart_upload`. |
| **`migrations`** | –°–ª—É–∂–µ–±–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞ Storage. |
| **`buckets_vectors`** | –¢–∞–±–ª–∏—Ü–∞, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º–∏ (—ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤—ã–º–∏) —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏ –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É –±–∞–∫–µ—Ç–æ–≤ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ). |
| **`vector_indexes`** | –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –¥–∞–Ω–Ω—ã–º –≤ `buckets_vectors`. |
| **`buckets_analytics`** | –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å–±–æ—Ä–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∞–∫–µ—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π, –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö). |

---

# üìù –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π –∫–ª—é—á–µ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü Storage

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã —è–≤–ª—è—é—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞ Storage. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –Ω–∏–º–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Storage API, –∞ –Ω–µ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ SQL.

### **`storage.buckets` (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏)**
"–í–µ–¥—Ä–æ" (bucket) ‚Äî —ç—Ç–æ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ñ–∞–π–ª–æ–≤, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–∞–ø–∫–µ –∏–ª–∏ S3 Bucket.

| –ü–æ–ª–µ (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ) | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **`id`** | `TEXT` | **–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–Ω–∞–∑–≤–∞–Ω–∏–µ) –≤–µ–¥—Ä–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"avatars"`, `"project-documents"`). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—É—Ç—è—Ö –∫ —Ñ–∞–π–ª–∞–º. |
| **`name`** | `TEXT` | –ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è. |
| **`owner`** | `UUID` | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–ª–∞–¥–µ–ª—å—Ü–∞ (`auth.users.id`). –ú–æ–∂–µ—Ç –±—ã—Ç—å `NULL` –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –±–∞–∫–µ—Ç–æ–≤. |
| **`created_at`** | `TIMESTAMPTZ` | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è. |
| **`updated_at`** | `TIMESTAMPTZ` | –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è. |
| **`public`** | `BOOLEAN` | **–ö–ª—é—á–µ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞.** –ï—Å–ª–∏ `true`, —Ñ–∞–π–ª—ã –≤ —ç—Ç–æ–º –±–∞–∫–µ—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ø—É–±–ª–∏—á–Ω–æ –ø–æ URL –±–µ–∑ —Ç–æ–∫–µ–Ω–∞. |
| **`avif_autodetection`** | `BOOLEAN` | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç AVIF. |
| **`file_size_limit`** | `BIGINT` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –±–∞–π—Ç–∞—Ö. |
| **`allowed_mime_types`** | `TEXT[]` | –ú–∞—Å—Å–∏–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö MIME-—Ç–∏–ø–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `{'image/jpeg', 'image/png'}`). –ï—Å–ª–∏ `NULL` ‚Äî –≤—Å–µ —Ç–∏–ø—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã. |

### **`storage.objects` (–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–æ–≤)**
–≠—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞ —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ, **–Ω–æ –Ω–µ —Å–∞–º–∏ —Ñ–∞–π–ª—ã**. –§–∞–π–ª—ã —Ñ–∏–∑–∏—á–µ—Å–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–º –±—ç–∫–µ–Ω–¥–µ –∏–ª–∏ –Ω–∞ –¥–∏—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞.

| –ü–æ–ª–µ (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ) | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **`id`** | `UUID` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞ (—Ñ–∞–π–ª–∞) –≤ —Å–∏—Å—Ç–µ–º–µ. |
| **`bucket_id`** | `TEXT` | **–°—Å—ã–ª–∫–∞ –Ω–∞ –≤–µ–¥—Ä–æ.** –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –≤ `storage.buckets(id)`. |
| **`name`** | `TEXT` | **–ü–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –≤–Ω—É—Ç—Ä–∏ –≤–µ–¥—Ä–∞**, –≤–∫–ª—é—á–∞—è –ø—Ä–µ—Ñ–∏–∫—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"users/avatar_123.png"`). |
| **`owner`** | `UUID` | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ñ–∞–π–ª–∞ (`auth.users.id`). |
| **`created_at`** | `TIMESTAMPTZ` | –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞. |
| **`updated_at`** | `TIMESTAMPTZ` | –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö. |
| **`last_accessed_at`** | `TIMESTAMPTZ` | –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞ (–º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –Ω–µ –≤—Å–µ–≥–¥–∞). |
| **`metadata`** | `JSONB` | **–ì–∏–±–∫–æ–µ –ø–æ–ª–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.** –°—é–¥–∞ –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∞–≤—Ç–æ—Ä—Å—Ç–≤–æ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–µ–≥–∏ –∏ —Ç.–¥. |
| **`path_tokens`** | `TEXT[]` | **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–µ.** –ú–∞—Å—Å–∏–≤, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–∞–∑–±–∏–µ–Ω–∏–µ–º `name` –ø–æ `/` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `{"users", "avatar_123.png"}`). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –ø—É—Ç—è–º. |
| **`version`** | `TEXT` | –í–µ—Ä—Å–∏—è –æ–±—ä–µ–∫—Ç–∞ (–¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π —Ñ–∞–π–ª–æ–≤, –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞). |
| **`mime_type`** | `TEXT` | MIME-—Ç–∏–ø —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"image/png"`), –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ. |
| **`size`** | `BIGINT` | –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ –±–∞–π—Ç–∞—Ö. |

### **`storage.prefixes` (–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–∞–ø–æ–∫)**
–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –ø–∞–ø–∫–∏, –≤—ã–≤–µ–¥–µ–Ω–Ω—ã–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞.

| –ü–æ–ª–µ (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ) | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **`id`** | `UUID` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–µ—Ñ–∏–∫—Å–∞ (–ø–∞–ø–∫–∏). |
| **`bucket_id`** | `TEXT` | –í–µ–¥—Ä–æ, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –ø–∞–ø–∫–∞. |
| **`name`** | `TEXT` | –ò–º—è –ø–∞–ø–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"documents"`). –ü–æ–ª–Ω—ã–π –ø—É—Ç—å —Å—Ç—Ä–æ–∏—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ. |
| **`owner`** | `UUID` | –í–ª–∞–¥–µ–ª–µ—Ü –ø–∞–ø–∫–∏. |
| **`created_at`** | `TIMESTAMPTZ` | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è. |
| **`parent_id`** | `UUID` | **–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –ø–∞–ø–∫—É** (–≤ —ç—Ç–æ–π –∂–µ —Ç–∞–±–ª–∏—Ü–µ). –î–ª—è –∫–æ—Ä–Ω–µ–≤—ã—Ö –ø–∞–ø–æ–∫ –≤ –±–∞–∫–µ—Ç–µ ‚Äî `NULL`. |

### **`storage.s3_multipart_uploads` & `_parts` (–ó–∞–≥—Ä—É–∑–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤)**
–¢–∞–±–ª–∏—Ü—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ—Ç–æ–∫–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –ø–æ —á–∞—Å—Ç—è–º (–∫–∞–∫ –≤ Amazon S3).

| –¢–∞–±–ª–∏—Ü–∞ / –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| **`s3_multipart_uploads`** | –•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ **—Å–µ—Å—Å–∏–∏** –∑–∞–≥—Ä—É–∑–∫–∏. –ü–æ–ª—è: `id` (–∫–ª—é—á —Å–µ—Å—Å–∏–∏), `bucket_id`, `object_path`, `upload_id`, `created_at`, `in_progress`. |
| **`s3_multipart_uploads_parts`** | –•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ **–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —á–∞—Å—Ç—è—Ö**. –ü–æ–ª—è: `upload_id` (—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–µ—Å—Å–∏—é), `part_number`, `etag` (—Ö–µ—à —á–∞—Å—Ç–∏), `size`. –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö —á–∞—Å—Ç–µ–π —Å–∏—Å—Ç–µ–º–∞ —Å–æ–±–∏—Ä–∞–µ—Ç –∏–∑ –Ω–∏—Ö –∏—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª. |

---

# ‚öôÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ: –ø—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞

1.  **–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∫–µ—Ç–∞:** –ß–µ—Ä–µ–∑ API –∏–ª–∏ Studio —Å–æ–∑–¥–∞–µ—Ç—Å—è –±–∞–∫–µ—Ç `storage.buckets` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `id: "projects"`).
2.  **–ó–∞–ø—Ä–æ—Å –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É:** –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª –≤ –±–∞–∫–µ—Ç `"projects"` –ø–æ –ø—É—Ç–∏ `"blueprints/final-v1.pdf"`.
3.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤:** Storage API –ø—Ä–æ–≤–µ—Ä—è–µ—Ç RLS-–ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è `buckets` –∏ `objects`.
4.  **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏:** –ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø –µ—Å—Ç—å, –≤ `storage.objects` –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞:
    *   `bucket_id: "projects"`
    *   `name: "blueprints/final-v1.pdf"`
    *   `owner: [user_uuid]`
    *   `metadata: {"author": "Alice", "version": "1.0"}`
5.  **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞:** –ë–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –±—ç–∫–µ–Ω–¥ (–¥–∏—Å–∫, S3).
6.  **–î–æ—Å—Ç—É–ø –ø–æ URL:** –§–∞–π–ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ URL –≤–∏–¥–∞: `https://[project-ref].supabase.co/storage/v1/object/public/projects/blueprints/final-v1.pdf` (–µ—Å–ª–∏ –±–∞–∫–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π).

### üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
*   **RLS (Row Level Security) –¥–µ–π—Å—Ç–≤—É–µ—Ç –∏ –∑–¥–µ—Å—å.** –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ API –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–æ–ª–∏—Ç–∏–∫–∏, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–∞–±–ª–∏—Ü `storage.buckets` –∏ `storage.objects`.
*   **`storage.objects.name` ‚Äî —ç—Ç–æ –∫–ª—é—á.** –ò–º–µ–Ω–Ω–æ —ç—Ç–æ –ø–æ–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è URL –∏ –ø–æ–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤.
*   **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (`metadata`)** ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ —Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å–ª–æ–∂–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞.
*   –î–ª—è –ø—Ä—è–º–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ **–≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Storage API –∏–ª–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Supabase**, –∞ –Ω–µ –ø—Ä—è–º—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã –∫ —ç—Ç–∏–º —Ç–∞–±–ª–∏—Ü–∞–º.
c–¥–µ–ª–∞–π —Ç–æ–∂–µ —Å–∞–º–æ–µ –¥–ª—è vault "table_catalog","table_schema","table_name","table_type","self_referencing_column_name","reference_generation","user_defined_type_catalog","user_defined_type_schema","user_defined_type_name","is_insertable_into","is_typed","commit_action"
"postgres","vault","secrets","BASE TABLE",NULL,NULL,NULL,NULL,NULL,"YES","NO",NULL
markdown
# üîê –¢–∞–±–ª–∏—Ü–∞ —Å—Ö–µ–º—ã Vault –≤ Supabase

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Å—Ö–µ–º–µ `vault` –≤–∞—à–µ–≥–æ self-hosted Supabase.

| –¢–∞–±–ª–∏—Ü–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- |
| **`secrets`** | **–°–∏—Å—Ç–µ–º–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –∑–∞—â–∏—â—ë–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤**, —É–ø—Ä–∞–≤–ª—è–µ–º–∞—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `pgsodium`. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. |

---

# üìù –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π —Ç–∞–±–ª–∏—Ü—ã `vault.secrets`

> **‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã **pgsodium**. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –Ω–µ–π –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ **—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ pgsodium**, –∞ –Ω–µ —á–µ—Ä–µ–∑ –æ–±—ã—á–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã INSERT/UPDATE. –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `pgsodium` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ (`CREATE EXTENSION pgsodium;`).

–≠—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å–ª—É–∂–∏—Ç –∑–∞—â–∏—â—ë–Ω–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º. –ï—ë —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º.

| –ü–æ–ª–µ (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ) | –¢–∏–ø (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π) | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **`id`** | `UUID` | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ —Å–µ–∫—Ä–µ—Ç–∞. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. |
| **`secret`** | `BYTEA` | **–û—Å–Ω–æ–≤–Ω–æ–µ –ø–æ–ª–µ.** –°–æ–¥–µ—Ä–∂–∏—Ç **–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ** –¥–∞–Ω–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, API-–∫–ª—é—á–∏, —Ç–æ–∫–µ–Ω—ã, —à–∏—Ñ—Ä–æ–≤–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏). **–í —ç—Ç–æ–º –ø–æ–ª–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–∞–π—Ç—ã.** |
| **`nonce`** | `BYTEA` | **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è.** –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ (number used once), –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ `secret`. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–ª—é—á–∞. |
| **`key_id`** | `BIGINT` –∏–ª–∏ `UUID` | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (`pgsodium.crypto_key`), –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–æ–≥–æ —Å–µ–∫—Ä–µ—Ç–∞. –°–≤—è–∑—ã–≤–∞–µ—Ç —Å–µ–∫—Ä–µ—Ç —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º. |
| **`associated_data`** | `BYTEA` –∏–ª–∏ `TEXT` | (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∏–ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ (AAD), –∫–æ—Ç–æ—Ä—ã–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–∏, –Ω–æ –Ω–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏. |
| **`created_at`** | `TIMESTAMPTZ` | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ —Å–µ–∫—Ä–µ—Ç–∞. |

### üõ†Ô∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ (–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã)
**–•—Ä–∞–Ω–µ–Ω–∏–µ (Encryption):**
1.  –°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `pgsodium.crypto_key` –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è.
2.  –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Å–µ–∫—Ä–µ—Ç–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `nonce`.
3.  –§—É–Ω–∫—Ü–∏—è `pgsodium.crypto_aead_det_encrypt()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å:
    *   **–û—Ç–∫—Ä—ã—Ç—ã–º —Ç–µ–∫—Å—Ç–æ–º** (–≤–∞—à —Å–µ–∫—Ä–µ—Ç)
    *   **`nonce`**
    *   **`key_id`** (–∏–ª–∏ —Å–∞–º –∫–ª—é—á)
    *   (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `associated_data`
4.  –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç (ciphertext)**, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–æ–ª–µ `secret`.

**–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ (Decryption):**
1.  –°–∏—Å—Ç–µ–º–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `vault.secrets` —Å—Ç—Ä–æ–∫—É —Å –Ω—É–∂–Ω—ã–º `id`.
2.  –§—É–Ω–∫—Ü–∏—è `pgsodium.crypto_aead_det_decrypt()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å:
    *   **`secret`** (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç)
    *   **`nonce`** (–∏–∑ —ç—Ç–æ–π –∂–µ —Å—Ç—Ä–æ–∫–∏)
    *   **`key_id`** (–∏–∑ —ç—Ç–æ–π –∂–µ —Å—Ç—Ä–æ–∫–∏, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á)
    *   (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `associated_data`
3.  –ï—Å–ª–∏ –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–µ—Ä–Ω—ã –∏ –∫–ª—é—á –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω, —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç**.

### üîê –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–∏—è
1.  **"–ü—Ä–∏–Ω–µ—Å–∏ —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–ª—é—á–∏" (BYOK):** `pgsodium` –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á–∏ —Å–∞–º –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ. –ö–æ—Ä–Ω–µ–≤–æ–π –∫–ª—é—á —á–∞—Å—Ç–æ –∑–∞—â–∏—â—ë–Ω –ø–∞—Ä–æ–ª—å–Ω–æ–π —Ñ—Ä–∞–∑–æ–π. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤—Å–µ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞—â–∏—Ç—ã —ç—Ç–æ–≥–æ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –∫–ª—é—á–∞.**
2.  **`nonce` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è:** –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `nonce` —Å –æ–¥–Ω–∏–º –∫–ª—é—á–æ–º –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –æ—Å–ª–∞–±–ª—è–µ—Ç –∑–∞—â–∏—Ç—É**. –°–∏—Å—Ç–µ–º–∞ `pgsodium` –∑–∞ —ç—Ç–∏–º —Å—Ç—Ä–æ–≥–æ —Å–ª–µ–¥–∏—Ç.
3.  **–ù–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö:** –¢–∞–∫–æ–µ —Å—Ö–µ–º–∞ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **–∫–ª—é—á–µ–π, —Ç–æ–∫–µ–Ω–æ–≤, –Ω–µ–±–æ–ª—å—à–∏—Ö –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–æ–∫**. –î–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –±–æ–ª—å—à–∏—Ö –ø–æ–ª–µ–π –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã pgsodium.
4.  **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω:** –ï—Å–ª–∏ –≤—ã –≤—Å—Ç–∞–≤–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ `vault.secrets` –æ–±—ã—á–Ω—ã–º `INSERT`, –æ–Ω–∏ **–Ω–µ –±—É–¥—É—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã**. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ `pgsodium.create_secret()`.

### üíé –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
–¢–∞–±–ª–∏—Ü–∞ `vault.secrets` ‚Äî —ç—Ç–æ **–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —Å–µ–∫—Ä–µ—Ç–æ–≤** —Å–∞–º–æ–≥–æ Supabase –∏–ª–∏ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, master-–∫–ª—é—á–∏ –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–ª—é—á–∏ –≤–Ω–µ—à–Ω–∏—Ö API). –î–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ *–≤–∞—à–∏—Ö* —Ç–∞–±–ª–∏—Ü–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—è `encrypted_credit_card` –≤ `public.users`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **–¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ pgsodium**, –∞ —ç—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å–ª—É–∂–∏—Ç –∏—Ö —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–æ–º.

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∞–∫—Ç–∏–≤–Ω–æ –ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ:** `SELECT * FROM pg_extension WHERE extname = 'pgsodium';`
C–æ–∑–¥–∞–π –º–∞—Ç—Ä–∏—Ü—É –¥–æ—Å—Ç—É–ø–∞ rls —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å—Ç–æ–ª–±—Ü–æ–º –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏, –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∑ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Å—Ö–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ø–∏—Å–∫–∞ —Ä–æ–ª–µ–π "rolname","rolsuper","rolinherit","rolcreaterole","rolcreatedb","rolcanlogin","rolreplication","rolconnlimit","rolpassword","rolvaliduntil","rolbypassrls","rolconfig","oid"
"pg_database_owner",False,True,False,False,False,False,-1,"********",NULL,False,NULL,6171
"pg_read_all_data",False,True,False,False,False,False,-1,"********",NULL,False,NULL,6181
"pg_write_all_data",False,True,False,False,False,False,-1,"********",NULL,False,NULL,6182
"pg_monitor",False,True,False,False,False,False,-1,"********",NULL,False,NULL,3373
"pg_read_all_settings",False,True,False,False,False,False,-1,"********",NULL,False,NULL,3374
"pg_read_all_stats",False,True,False,False,False,False,-1,"********",NULL,False,NULL,3375
"pg_stat_scan_tables",False,True,False,False,False,False,-1,"********",NULL,False,NULL,3377
"pg_read_server_files",False,True,False,False,False,False,-1,"********",NULL,False,NULL,4569
"pg_write_server_files",False,True,False,False,False,False,-1,"********",NULL,False,NULL,4570
"pg_execute_server_program",False,True,False,False,False,False,-1,"********",NULL,False,NULL,4571
"pg_signal_backend",False,True,False,False,False,False,-1,"********",NULL,False,NULL,4200
"pg_checkpoint",False,True,False,False,False,False,-1,"********",NULL,False,NULL,4544
"pg_maintain",False,True,False,False,False,False,-1,"********",NULL,False,NULL,6337
"pg_use_reserved_connections",False,True,False,False,False,False,-1,"********",NULL,False,NULL,4550
"pg_create_subscription",False,True,False,False,False,False,-1,"********",NULL,False,NULL,6304
"dashboard_user",False,True,True,True,False,True,-1,"********",NULL,False,NULL,16601
"authenticated",False,True,False,False,False,False,-1,"********",NULL,False,"{statement_timeout=8s}",16481
"anon",False,True,False,False,False,False,-1,"********",NULL,False,"{statement_timeout=3s}",16480
"service_role",False,True,False,False,False,False,-1,"********",NULL,True,NULL,16482
"supabase_admin",True,True,True,True,True,True,-1,"********",NULL,True,"{""search_path=\""$user\"", public, auth, extensions"",log_statement=none}",10
"postgres",False,True,True,True,True,True,-1,"********",NULL,True,"{""search_path=\""\\$user\"", public, extensions""}",16384
"authenticator",False,False,False,False,True,False,-1,"********",NULL,False,"{session_preload_libraries=safeupdate,statement_timeout=8s,lock_timeout=8s}",16483
"supabase_auth_admin",False,False,True,False,True,False,-1,"********",NULL,False,"{search_path=auth,idle_in_transaction_session_timeout=60000,log_statement=none}",16541
"supabase_storage_admin",False,False,True,False,True,False,-1,"********",NULL,False,"{search_path=storage,log_statement=none}",16596
"supabase_replication_admin",False,True,False,False,True,True,-1,"********",NULL,False,NULL,16427
"supabase_etl_admin",False,True,False,False,True,True,-1,"********",NULL,False,NULL,16428
"supabase_read_only_user",False,True,False,False,True,False,-1,"********",NULL,True,"{default_transaction_read_only=on}",16430
"pgbouncer",False,True,False,False,True,False,-1,"********",NULL,False,NULL,16385
"supabase_realtime_admin",False,False,False,False,False,False,-1,"********",NULL,False,NULL,17449
—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É—è—Å—å —Å–≤–æ–∏–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏ –≤—ã—à–µ –ø–æ –¥–∏–∞–ª–æ–≥—É
markdown
# üõ°Ô∏è –ú–∞—Ç—Ä–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–∞ –∏ RLS –¥–ª—è —Å—Ö–µ–º Supabase

–ú–∞—Ç—Ä–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ —Ä–æ–ª–∏ PostgreSQL –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–∞–∫–∏–º —Å—Ö–µ–º–∞–º –∏ —Ç–∞–±–ª–∏—Ü–∞–º –≤ –≤–∞—à–µ–º self-hosted Supabase, –∞ —Ç–∞–∫–∂–µ –∫–∞–∫ –æ–Ω–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å Row Level Security (RLS).

| –†–æ–ª—å | –°—Ö–µ–º–∞ `public` (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ) | –°—Ö–µ–º–∞ `auth` (–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è) | –°—Ö–µ–º–∞ `storage` (–§–∞–π–ª—ã) | –°—Ö–µ–º–∞ `realtime` (WebSocket) | –°—Ö–µ–º–∞ `vault` (–°–µ–∫—Ä–µ—Ç—ã) | –°—Ö–µ–º–∞ `drizzle` (–ú–∏–≥—Ä–∞—Ü–∏–∏) | **–ü–æ—è—Å–Ω–µ–Ω–∏–µ / –ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã** |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **`anon`** | ‚úÖ **–ß—Ç–µ–Ω–∏–µ/–ó–∞–ø–∏—Å—å (–ø–æ RLS)** | ‚ùå –ù–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ **–ß—Ç–µ–Ω–∏–µ/–ó–∞–ø–∏—Å—å (–ø–æ RLS)** | ‚ùå –ù–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | **–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ API.** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ RLS –≤ `public` –∏ `storage`. –ù–µ –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–ª—É–∂–µ–±–Ω—ã–º —Å—Ö–µ–º–∞–º. |
| **`authenticated`** | ‚úÖ **–ß—Ç–µ–Ω–∏–µ/–ó–∞–ø–∏—Å—å (–ø–æ RLS)** | ‚ùå –ù–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ **–ß—Ç–µ–Ω–∏–µ/–ó–∞–ø–∏—Å—å (–ø–æ RLS)** | ‚ùå –ù–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.** –û—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `anon` —Ç–æ–ª—å–∫–æ JWT-—Ç–æ–∫–µ–Ω–æ–º (`role=authenticated`). –î–æ—Å—Ç—É–ø —Ç–∞–∫–∂–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è RLS. |
| **`service_role`** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS)** | **–ü—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∫–ª—é—á.** –û–±—Ö–æ–¥–∏—Ç –≤—Å–µ RLS-–ø–æ–ª–∏—Ç–∏–∫–∏ (`rolbypassrls=true`). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤, –∞–¥–º–∏–Ω—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞–±–æ—Ç—ã Supabase. **–ù–ò–ö–û–ì–î–ê –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–π—Ç–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ.** |
| **`supabase_admin`** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (SUPERUSER)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (SUPERUSER)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (SUPERUSER)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (SUPERUSER)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (SUPERUSER)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (SUPERUSER)** | **–ì–ª–∞–≤–Ω–∞—è –∞–¥–º–∏–Ω—Å–∫–∞—è —Ä–æ–ª—å (`rolsuper=true`).** –ò–º–µ–µ—Ç –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—Å—ë –≤ –ë–î (–∫–∞–∫ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π `postgres`). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è. |
| **`authenticator`** | ‚û°Ô∏è **–ü–æ—Å—Ä–µ–¥–Ω–∏–∫ (Switcher)** | ‚û°Ô∏è **–ü–æ—Å—Ä–µ–¥–Ω–∏–∫ (Switcher)** | ‚û°Ô∏è **–ü–æ—Å—Ä–µ–¥–Ω–∏–∫ (Switcher)** | ‚ùå –ù–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | **–†–æ–ª—å-–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å.** –ù–µ –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤. –ü–æ–ª—É—á–∞–µ—Ç JWT –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ–≥–æ –∏ **–ú–ï–ù–Ø–ï–¢** —Å–≤–æ—é —Ç–µ–∫—É—â—É—é —Ä–æ–ª—å –Ω–∞ `anon` –∏–ª–∏ `authenticated` –≤ —Ä–∞–º–∫–∞—Ö —Å–µ—Å—Å–∏–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –∏–º –¥–æ—Å—Ç—É–ø —Å–æ–≥–ª–∞—Å–Ω–æ RLS. |
| **`supabase_auth_admin`** | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø** | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.** –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ —Ä–∞–±–æ—Ç—É —Ç–æ–ª—å–∫–æ –≤ —Å—Ö–µ–º–µ `auth` (`search_path=auth`). –£–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–µ—Å—Å–∏–π, –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤. |
| **`supabase_storage_admin`** | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø** | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.** –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ —Ä–∞–±–æ—Ç—É —Ç–æ–ª—å–∫–æ –≤ —Å—Ö–µ–º–µ `storage` (`search_path=storage`). –£–ø—Ä–∞–≤–ª—è–µ—Ç –±–∞–∫–µ—Ç–∞–º–∏ –∏ –æ–±—ä–µ–∫—Ç–∞–º–∏. |
| **`supabase_realtime_admin`** | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø** | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ | **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä Realtime.** –£–ø—Ä–∞–≤–ª—è–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏ (`subscription`, `messages`) –¥–ª—è —Ä–∞–±–æ—Ç—ã WebSocket-—Å–µ—Ä–≤–∏—Å–∞. |
| **`postgres`** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS)** | ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS)** | **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ä–æ–ª—å.** –ò–º–µ–µ—Ç `rolbypassrls=true`, –Ω–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (`rolsuper=false`). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —Å—Ö–æ–∂–∏—Ö —Å `service_role`. |
| **`supabase_read_only_user`** | ‚úÖ **–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ (–≥–ª–æ–±–∞–ª—å–Ω–æ)** | ‚úÖ **–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ (–≥–ª–æ–±–∞–ª—å–Ω–æ)** | ‚úÖ **–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ (–≥–ª–æ–±–∞–ª—å–Ω–æ)** | ‚úÖ **–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ (–≥–ª–æ–±–∞–ª—å–Ω–æ)** | ‚ùì –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–ª–∏—Ç–∏–∫ | ‚úÖ **–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ (–≥–ª–æ–±–∞–ª—å–Ω–æ)** | **–†–æ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏/–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.** –í—Å–µ –µ—ë —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (`default_transaction_read_only=on`). –ü–æ–ª–µ–∑–Ω–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è BI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –±–µ–∑ —Ä–∏—Å–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π. |
| **`pgbouncer`** | ‚û°Ô∏è –î–ª—è –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π | ‚û°Ô∏è –î–ª—è –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π | ‚û°Ô∏è –î–ª—è –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π | ‚û°Ô∏è –î–ª—è –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π | ‚û°Ô∏è –î–ª—è –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π | ‚û°Ô∏è –î–ª—è –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π | **–†–æ–ª—å –¥–ª—è –ø—É–ª–µ—Ä–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π PgBouncer.** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –ë–î —Å —Ü–µ–ª—å—é –ø—É–ª–∏–Ω–≥–∞. –°–∞–º–∞ –ø–æ —Å–µ–±–µ –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤, –∫–æ–Ω–µ—á–Ω—ã–µ –ø—Ä–∞–≤–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Ä–æ–ª—å—é –ø–æ–¥–∫–ª—é—á–∏–≤—à–µ–≥–æ—Å—è –∫–ª–∏–µ–Ω—Ç–∞. |
| **`pg_*` (—Å–∏—Å—Ç–µ–º–Ω—ã–µ)** | ‚úÖ/‚ùå –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–æ–ª–∏ | ‚úÖ/‚ùå –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–æ–ª–∏ | ‚úÖ/‚ùå –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–æ–ª–∏ | ‚úÖ/‚ùå –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–æ–ª–∏ | ‚úÖ/‚ùå –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–æ–ª–∏ | ‚úÖ/‚ùå –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–æ–ª–∏ | **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–æ–ª–∏ PostgreSQL.** –ù–∞–ø—Ä–∏–º–µ—Ä, `pg_read_all_data` –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ —á–∏—Ç–∞—Ç—å –≤—Å–µ –≤–æ –≤—Å–µ—Ö —Å—Ö–µ–º–∞—Ö, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. |

---

## üîê –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –º–æ–¥–µ–ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Supabase

1.  **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π (SoD):** –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ä–æ–ª–∏ (`*_admin`) –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã —Å–≤–æ–∏–º–∏ —Å—Ö–µ–º–∞–º–∏. `auth_admin` –Ω–µ –º–æ–∂–µ—Ç —Ç—Ä–æ–≥–∞—Ç—å `storage`, –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.
2.  **–ü–æ—Å—Ä–µ–¥–Ω–∏–∫ (Authenticator Pattern):** –ö–ª–∏–µ–Ω—Ç—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫–∞–∫ `anon`/`authenticated`. –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ —Ä–æ–ª—å `authenticator`, –∫–æ—Ç–æ—Ä–∞—è, –ø—Ä–æ–≤–µ—Ä–∏–≤ JWT, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –≠—Ç–æ –æ—Å–Ω–æ–≤–∞ RLS.
3.  **RLS vs Bypass RLS:**
    *   **RLS (`anon`, `authenticated`):** –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–æ—Ç–∏–≤ SQL-–ø–æ–ª–∏—Ç–∏–∫ (`CREATE POLICY ...`). –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–ª—é—á–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–æ—Ç –ø—É—Ç—å.
    *   **Bypass RLS (`service_role`, `postgres`):** –ü–æ–ª–∏—Ç–∏–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è. –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∫–ª—é—á–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–æ—Ç –ø—É—Ç—å –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–Ω–µ –ø–æ–ª–∏—Ç–∏–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ `auth.users`).
4.  **–°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (`supabase_admin`):** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è DDL-–æ–ø–µ—Ä–∞—Ü–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π), –≥–ª–æ–±–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∞–≤–∞—Ä–∏–π–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–∞–±–æ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
5.  **–°—Ö–µ–º–∞ `vault`:** –î–æ—Å—Ç—É–ø –∫ `vault.secrets` –æ–±—ã—á–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ä–æ–ª—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–ø—Ä–∞–≤–ª—è—é—Ç –∫–ª—é—á–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `supabase_admin`), –∏–ª–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `pgsodium`, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –ø—Ä–∞–≤–∞ –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è. –ü—Ä—è–º–æ–π SELECT –∏–∑ –Ω–µ—ë –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —Ä–æ–ª–µ–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–µ—â—ë–Ω.

---

## üó∫Ô∏è –¢–∏–ø–∏—á–Ω—ã–π –ø—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ API Supabase
–ö–ª–∏–µ–Ω—Ç (JWT) -> API (Kong) -> PostgREST -> –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)
| | | |
| | | [1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–∫ authenticator]
| | | [2. JWT –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è]
| | | [3. –†–æ–ª—å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ anon/authenticated]
| | | [4. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å –∫ public.table]
| | | [5. RLS-–ø–æ–ª–∏—Ç–∏–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç —Å—Ç—Ä–æ–∫–∏]
| | | [6. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É]

text

**–û–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –≤ –º–∞—Ç—Ä–∏—Ü–µ:**
*   ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (bypass RLS):** –ß—Ç–µ–Ω–∏–µ, –∑–∞–ø–∏—Å—å, —É–¥–∞–ª–µ–Ω–∏–µ; –ø–æ–ª–∏—Ç–∏–∫–∏ RLS –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.
*   ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (SUPERUSER):** –ö–∞–∫ –≤—ã—à–µ, –ø–ª—é—Å DDL-–ø—Ä–∞–≤–∞ (CREATE, DROP), —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ –∏ —Ç.–¥.
*   ‚úÖ **–ß—Ç–µ–Ω–∏–µ/–ó–∞–ø–∏—Å—å (–ø–æ RLS):** –û–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã, –Ω–æ –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ RLS.
*   ‚úÖ **–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ (–≥–ª–æ–±–∞–ª—å–Ω–æ):** –õ—é–±–æ–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (`INSERT`, `UPDATE`, `DELETE`) –±—É–¥–µ—Ç –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç –°–£–ë–î.
*   ‚û°Ô∏è **–ü–æ—Å—Ä–µ–¥–Ω–∏–∫ (Switcher):** –†–æ–ª—å –Ω–µ –∏–º–µ–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∞–≤, –≤—ã—Å—Ç—É–ø–∞–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º –Ω–∞ –¥—Ä—É–≥–∏–µ —Ä–æ–ª–∏.
*   ‚ùå **–ù–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:** –£ —Ä–æ–ª–∏ –Ω–µ—Ç –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π (`GRANT`) –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –≤ –¥–∞–Ω–Ω–æ–π —Å—Ö–µ–º–µ. –ó–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –æ—à–∏–±–∫–æ–π "permission denied".
*   ‚ùì **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–ª–∏—Ç–∏–∫:** –î–æ—Å—Ç—É–ø –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏.
–î–µ—Ç–∞–ª–∏–∑–∏—Ä—É–π —Ç–µ–ø–µ—Ä—å –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∞–±–ª–∏—Ü —Å—Ö–µ–º. –°–¥–µ–ª–∞–π rls –º–∞—Ç—Ä–∏—Ü—É –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∑ 6 —Å—Ö–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ
–Ø —Å–æ–∑–¥–∞–º –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ RLS –º–∞—Ç—Ä–∏—Ü—ã –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∑ 6 —Å—Ö–µ–º –≤–∞—à–µ–≥–æ self-hosted Supabase. –ù–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Ç–∞–±–ª–∏—Ü –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ —Ä–æ–ª–µ–π, –≤–æ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞.

markdown
# üó∫Ô∏è –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ RLS –º–∞—Ç—Ä–∏—Ü—ã –ø–æ —Å—Ö–µ–º–∞–º

## üìã –£—Å–ª–æ–≤–Ω—ã–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è
- **Full-RW (Bypass)**: –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å, –æ–±—Ö–æ–¥–∏—Ç RLS (`rolbypassrls=true`)
- **Full-RW (RLS)**: –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å, –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è RLS –ø–æ–ª–∏—Ç–∏–∫–∞–º
- **Read-Only**: –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ (–≥–ª–æ–±–∞–ª—å–Ω–æ –∏–ª–∏ —á–µ—Ä–µ–∑ –ø–æ–ª–∏—Ç–∏–∫–∏)
- **Switcher**: –ü–æ—Å—Ä–µ–¥–Ω–∏–∫, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–∏–µ —Ä–æ–ª–∏
- **No Access**: –ù–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–∞–±–ª–∏—Ü–∞–º —Å—Ö–µ–º—ã
- **Svc-Only**: –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–ª—É–∂–µ–±–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏/API

---

## üè† –°–•–ï–ú–ê: `public` (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã)

| –†–æ–ª—å / –¢–∞–±–ª–∏—Ü–∞ | projects | users | subscriptions | deployments | canvas | messages | ...–¥—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã |
|----------------|:--------:|:-----:|:-------------:|:-----------:|:------:|:--------:|:-----------------:|
| **anon** | RLS-Only | RLS-Only | RLS-Only | RLS-Only | RLS-Only | RLS-Only | RLS-Only |
| **authenticated** | RLS-Only | RLS-Only | RLS-Only | RLS-Only | RLS-Only | RLS-Only | RLS-Only |
| **authenticator** | Switcher | Switcher | Switcher | Switcher | Switcher | Switcher | Switcher |
| **service_role** | Full-RW (Bypass) | Full-RW (Bypass) | Full-RW (Bypass) | Full-RW (Bypass) | Full-RW (Bypass) | Full-RW (Bypass) | Full-RW (Bypass) |
| **supabase_admin** | Full-RW (Bypass) | Full-RW (Bypass) | Full-RW (Bypass) | Full-RW (Bypass) | Full-RW (Bypass) | Full-RW (Bypass) | Full-RW (Bypass) |
| **supabase_read_only_user** | Read-Only | Read-Only | Read-Only | Read-Only | Read-Only | Read-Only | Read-Only |

**–ö–æ–Ω—Ç–µ–∫—Å—Ç RLS –¥–ª—è `public`:**
- `anon`/`authenticated`: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç—Å—è –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏. –¢–∏–ø–∏—á–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏:
  ```sql
  -- –î–ª—è projects
  CREATE POLICY "Users can view their own projects" ON projects
    FOR SELECT USING (auth.uid() = owner_id);
  
  -- –î–ª—è messages (—á–∞—Ç—ã)
  CREATE POLICY "Users can see messages in their conversations" ON messages
    FOR SELECT USING (conversation_id IN (
      SELECT id FROM conversations WHERE user_id = auth.uid()
    ));
–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç: –í—Å–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ anon/authenticated + RLS –ø–æ–ª–∏—Ç–∏–∫–∏.

üîê –°–•–ï–ú–ê: auth (–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
–†–æ–ª—å / –¢–∞–±–ª–∏—Ü–∞	users	identities	sessions	sso_providers	audit_log_entries	...–¥—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã
anon	No Access	No Access	No Access	No Access	No Access	No Access
authenticated	Limited*	Self-Only	Self-Only	Read-Only	No Access	Limited
authenticator	Switcher	Switcher	Switcher	Switcher	Switcher	Switcher
service_role	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)
supabase_admin	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)
supabase_auth_admin	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)
supabase_read_only_user	Read-Only	Read-Only	Read-Only	Read-Only	Read-Only	Read-Only
–ö–æ–Ω—Ç–µ–∫—Å—Ç RLS –¥–ª—è auth:

authenticated: –û–±—ã—á–Ω–æ –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å/–æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –°–í–û–ò –¥–∞–Ω–Ω—ã–µ:

sql
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
CREATE POLICY "Users can view own profile" ON auth.users
  FOR SELECT USING (auth.uid() = id);

-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å–µ—Å—Å–∏–∏
CREATE POLICY "Users can view own sessions" ON auth.sessions
  FOR SELECT USING (auth.uid() = user_id);
supabase_auth_admin: –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –Ω–µ-—Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Ä–æ–ª—å —Å –ø–æ–ª–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫ auth.

–í–∞–∂–Ω–æ: –ö–ª–∏–µ–Ω—Ç—ã –ù–ï –∏–º–µ—é—Ç –ø—Ä—è–º–æ–≥–æ SQL-–¥–æ—Å—Ç—É–ø–∞ –∫ auth.users. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ Auth API.

üóÇÔ∏è –°–•–ï–ú–ê: storage (–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
–†–æ–ª—å / –¢–∞–±–ª–∏—Ü–∞	buckets	objects	prefixes	s3_multipart_uploads	...–¥—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã
anon	RLS-Only	RLS-Only	RLS-Only	RLS-Only	RLS-Only
authenticated	RLS-Only	RLS-Only	RLS-Only	RLS-Only	RLS-Only
authenticator	Switcher	Switcher	Switcher	Switcher	Switcher
service_role	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)
supabase_admin	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)
supabase_storage_admin	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)
supabase_read_only_user	Read-Only	Read-Only	Read-Only	Read-Only	Read-Only
–ö–æ–Ω—Ç–µ–∫—Å—Ç RLS –¥–ª—è storage:

RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –æ–±—ã—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∫–µ—Ç–æ–≤:

sql
-- –ü—É–±–ª–∏—á–Ω—ã–π –±–∞–∫–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≤–∞—Ç–∞—Ä–∫–∏)
CREATE POLICY "Avatars are publicly accessible" ON storage.objects
  FOR SELECT USING (bucket_id = 'avatars');

-- –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –±–∞–∫–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
CREATE POLICY "Users can access own documents" ON storage.objects
  FOR ALL USING (
    bucket_id = 'documents' 
    AND (auth.role() = 'service_role' OR auth.uid() = owner)
  );
supabase_storage_admin: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–æ–ª—å —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ö–µ–º—ã storage.

üîÅ –°–•–ï–ú–ê: realtime (WebSocket –ø–æ–¥–ø–∏—Å–∫–∏)
–†–æ–ª—å / –¢–∞–±–ª–∏—Ü–∞	subscription	messages	schema_migrations
anon	No Access	No Access	No Access
authenticated	No Access	No Access	No Access
authenticator	No Access	No Access	No Access
service_role	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)
supabase_admin	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)
supabase_realtime_admin	Full-RW (Bypass)	Full-RW (Bypass)	Full-RW (Bypass)
supabase_read_only_user	Read-Only	Read-Only	Read-Only
–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è realtime:

–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–ª—É–∂–µ–±–Ω–∞—è —Å—Ö–µ–º–∞: –ù–∏–∫–∞–∫–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Ä–æ–ª–∏ –Ω–µ –∏–º–µ—é—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.

–î–æ—Å—Ç—É–ø –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–¥–ø–∏—Å–æ–∫ Realtime API.

supabase_realtime_admin: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–æ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏.

üîí –°–•–ï–ú–ê: vault (–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–µ–∫—Ä–µ—Ç—ã)
–†–æ–ª—å / –¢–∞–±–ª–∏—Ü–∞	secrets
anon	No Access
authenticated	No Access
authenticator	No Access
service_role	Svc-Only*
supabase_admin	Full-RW (Bypass)
supabase_read_only_user	No Access
–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è vault:

–ó–∞—â–∏—â—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–∞–º –∑–∞–ø—Ä–µ—â—ë–Ω.

service_role: –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏ pgsodium:

sql
-- –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ –ø—Ä—è–º–æ–π SQL
SELECT * FROM pgsodium.create_secret('my-secret-value');
–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ pgsodium –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.

üóÑÔ∏è –°–•–ï–ú–ê: drizzle (–ú–∏–≥—Ä–∞—Ü–∏–∏ ORM)
–†–æ–ª—å / –¢–∞–±–ª–∏—Ü–∞	__drizzle_migrations
anon	No Access
authenticated	No Access
authenticator	No Access
service_role	Full-RW (Bypass)
supabase_admin	Full-RW (Bypass)
supabase_read_only_user	Read-Only
–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è drizzle:

–°–ª—É–∂–µ–±–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–∏–≥—Ä–∞—Ü–∏–π: –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ Drizzle ORM.

–ß—Ç–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π.

–û–±—ã—á–Ω–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç RLS –ø–æ–ª–∏—Ç–∏–∫.

üéØ –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Ä–æ–ª–µ–π
–ê–¥–º–∏–Ω-—Ä–æ–ª—å	–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ö–µ–º–∞	–ú–æ–∂–µ—Ç –æ–±—Ö–æ–¥–∏—Ç—å RLS?	–û–ø–∏—Å–∞–Ω–∏–µ
supabase_auth_admin	auth	–î–∞ (—Ç–æ–ª—å–∫–æ –≤ auth)	–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Å–µ—Å—Å–∏—è–º–∏, –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
supabase_storage_admin	storage	–î–∞ (—Ç–æ–ª—å–∫–æ –≤ storage)	–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∫–µ—Ç–∞–º–∏ –∏ —Ñ–∞–π–ª–æ–≤—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏
supabase_realtime_admin	realtime	–î–∞ (—Ç–æ–ª—å–∫–æ –≤ realtime)	–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WebSocket –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
supabase_admin	–í—Å–µ —Å—Ö–µ–º—ã	–î–∞ (–≤–µ–∑–¥–µ)	–°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –ø–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞
service_role	–í—Å–µ —Å—Ö–µ–º—ã	–î–∞ (–≤–µ–∑–¥–µ)	–°–µ—Ä–≤–∏—Å–Ω—ã–π –∫–ª—é—á –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ RLS
–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π:

sql
-- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–ø—Ä–µ—â–∞–µ–º –≤—Å—ë
ALTER TABLE public.projects ENABLE ROW LEVEL SECURITY;

-- –ó–∞—Ç–µ–º –¥–æ–±–∞–≤–ª—è–µ–º —Ä–∞–∑—Ä–µ—à–∞—é—â–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏
CREATE POLICY "–†–∞–∑—Ä–µ—à–∞—é—â–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞" ON public.projects
  FOR ALL USING ([—É—Å–ª–æ–≤–∏–µ –¥–æ—Å—Ç—É–ø–∞]);
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Auth:

auth.uid() - ID —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

auth.role() - —Ä–æ–ª—å (anon, authenticated, service_role)

auth.jwt() - –≤–µ—Å—å JWT payload (–¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö claims)

–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø—Ä–∞–≤–∞ —á–µ—Ä–µ–∑ EXPLAIN:

sql
-- –£–≤–∏–¥–µ—Ç—å, –∫–∞–∫–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
EXPLAIN SELECT * FROM public.projects;
–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥ —Ä–∞–∑–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏:

sql
-- –í–æ–π—Ç–∏ –∫–∞–∫ service_role –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö –∑–∞–¥–∞—á
SET ROLE service_role;
SELECT * FROM auth.users;

-- –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–±—ã—á–Ω—ã–º –ø—Ä–∞–≤–∞–º
RESET ROLE;
text
–í—Å–µ –¥–µ–ª–∞–π –≤ markdown —Ç–∞–∫ —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—Ç—å —Å —Ä–∞–∑–º–µ—Ç–∫–æ–π
markdown
# üó∫Ô∏è –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ RLS –º–∞—Ç—Ä–∏—Ü—ã –ø–æ —Å—Ö–µ–º–∞–º Supabase

## üìã –£—Å–ª–æ–≤–Ω—ã–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –º–∞—Ç—Ä–∏—Ü
| –û–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- |
| **Full-RW (Bypass)** | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å, –æ–±—Ö–æ–¥–∏—Ç RLS (`rolbypassrls=true`) |
| **Full-RW (RLS)** | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å, –Ω–æ –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è RLS –ø–æ–ª–∏—Ç–∏–∫–∞–º |
| **Read-Only** | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ (–Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–æ–ª–∏ –∏–ª–∏ —á–µ—Ä–µ–∑ –ø–æ–ª–∏—Ç–∏–∫–∏) |
| **Self-Only** | –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º (—á–µ—Ä–µ–∑ `auth.uid()`) |
| **Switcher** | –†–æ–ª—å-–ø–æ—Å—Ä–µ–¥–Ω–∏–∫ (`authenticator`), –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞ `anon`/`authenticated` |
| **No Access** | –ù–µ—Ç –ø—Ä—è–º—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π (`GRANT`) –Ω–∞ –æ–±—ä–µ–∫—Ç—ã —Å—Ö–µ–º—ã |
| **Svc-Only** | –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–ª—É–∂–µ–±–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ API (–Ω–µ –ø—Ä—è–º–æ–π SQL) |
| **Limited*** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø, –æ–ø—Ä–µ–¥–µ–ª—è–µ–º—ã–π —Å—Ç—Ä–æ–≥–∏–º–∏ –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ |

---

## üè† –°–•–ï–ú–ê `public` (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

**–û–ø–∏—Å–∞–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ö–µ–º–∞ –¥–ª—è —Ç–∞–±–ª–∏—Ü –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø—Ä–æ–µ–∫—Ç—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø–æ–¥–ø–∏—Å–∫–∏ –∏ —Ç.–¥.). –î–æ—Å—Ç—É–ø –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è RLS.

| –†–æ–ª—å | projects | users | subscriptions | deployments | –í—Å–µ –¥—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã `public.*` | **–ü–æ—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è —Å—Ö–µ–º—ã `public`** |
| :--- | :---: | :---: | :---: | :---: | :---: | :--- |
| **`anon`** | RLS | RLS | RLS | RLS | RLS | **–ü—É–±–ª–∏—á–Ω—ã–π –∫–ª–∏–µ–Ω—Ç.** –î–æ—Å—Ç—É–ø —Å—Ç—Ä–æ–≥–æ –ø–æ –ø–æ–ª–∏—Ç–∏–∫–∞–º RLS (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ –∫ –ø—É–±–ª–∏—á–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–∞–º). |
| **`authenticated`** | RLS | RLS | RLS | RLS | RLS | **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç.** –î–æ—Å—Ç—É–ø –ø–æ –ø–æ–ª–∏—Ç–∏–∫–∞–º, —á–∞—Å—Ç–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `auth.uid()` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ "—Å–≤–æ–∏–º" –¥–∞–Ω–Ω—ã–º. |
| **`authenticator`** | Switcher | Switcher | Switcher | Switcher | Switcher | **–ü–æ—Å—Ä–µ–¥–Ω–∏–∫.** –ù–µ –∏–º–µ–µ—Ç —Å–≤–æ–∏—Ö –ø—Ä–∞–≤, –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç `anon`/`authenticated` –≤ —Å–µ—Å—Å–∏—é. |
| **`service_role`** | Bypass | Bypass | Bypass | Bypass | Bypass | **–°–µ—Ä–≤–∏—Å–Ω—ã–π –∫–ª—é—á.** –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è –±—ç–∫–µ–Ω–¥-–ª–æ–≥–∏–∫–∏, –æ–±—Ö–æ–¥–∏—Ç RLS. |
| **`supabase_admin`** | Bypass | Bypass | Bypass | Bypass | Bypass | **–°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.** –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è. |
| **`supabase_read_only_user`** | Read | Read | Read | Read | Read | **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞.** –ì–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (`default_transaction_read_only=on`). |

**–ü—Ä–∏–º–µ—Ä —Ç–∏–ø–∏—á–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ RLS –≤ `public`:**
```sql
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ–µ–∫—Ç—ã, –≥–¥–µ –æ–Ω —É—á–∞—Å—Ç–Ω–∏–∫
CREATE POLICY "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Å–≤–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã" ON public.projects
    FOR SELECT USING (
        EXISTS (
            SELECT 1 FROM public.user_projects
            WHERE project_id = id AND user_id = auth.uid()
        )
    );
üîê –°–•–ï–ú–ê auth (–°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ GoTrue)
–û–ø–∏—Å–∞–Ω–∏–µ: –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ü—Ä—è–º–æ–π –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π SQL-–¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ Auth API.

–†–æ–ª—å	users	identities	sessions	sso_providers	audit_log_entries	–ü–æ—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è —Å—Ö–µ–º—ã auth
anon	No	No	No	No	No	–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞. –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–ª—é—á–∏ –Ω–µ –∏–º–µ—é—Ç –ø—Ä–∞–≤ –Ω–∞ —Å—Ö–µ–º—É auth.
authenticated	Self*	Self*	Self*	Read*	No	–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø. –ú–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å/–æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ—é –∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ –ø–æ–ª–∏—Ç–∏–∫–∏ –∏–ª–∏ API.
authenticator	Switcher	Switcher	Switcher	Switcher	Switcher	–ü–æ—Å—Ä–µ–¥–Ω–∏–∫. –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
service_role	Bypass	Bypass	Bypass	Bypass	Bypass	–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Auth API –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –≤—Ö–æ–¥–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.
supabase_admin	Bypass	Bypass	Bypass	Bypass	Bypass	–°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø.
supabase_auth_admin	Bypass	Bypass	Bypass	Bypass	Bypass	–°–ø–µ—Ü. –∞–¥–º–∏–Ω. –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø, –Ω–æ —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö —Å—Ö–µ–º—ã auth.
supabase_read_only_user	Read	Read	Read	Read	Read	–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ. –î–ª—è –∞—É–¥–∏—Ç–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
–ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø—Ä—è–º—ã–µ RLS-–ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è auth.users. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏ GoTrue –∏ service_role.

üóÇÔ∏è –°–•–ï–ú–ê storage (–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
–û–ø–∏—Å–∞–Ω–∏–µ: –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–æ–≤ –∏ –±–∞–∫–µ—Ç–æ–≤. –î–æ—Å—Ç—É–ø –∫–ª–∏–µ–Ω—Ç–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è RLS, —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.

–†–æ–ª—å	buckets	objects	prefixes	s3_multipart_uploads	–ü–æ—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è —Å—Ö–µ–º—ã storage
anon	RLS	RLS	RLS	RLS	–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø. –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ RLS-–ø–æ–ª–∏—Ç–∏–∫–∞ –±–∞–∫–µ—Ç–∞ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç (public=true).
authenticated	RLS	RLS	RLS	RLS	–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø. –ü–æ –ø–æ–ª–∏—Ç–∏–∫–∞–º, —á–∞—Å—Ç–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ owner –ø–æ–ª—è.
authenticator	Switcher	Switcher	Switcher	Switcher	–ü–æ—Å—Ä–µ–¥–Ω–∏–∫.
service_role	Bypass	Bypass	Bypass	Bypass	–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø. –î–ª—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π Storage API.
supabase_admin	Bypass	Bypass	Bypass	Bypass	–°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
supabase_storage_admin	Bypass	Bypass	Bypass	Bypass	–°–ø–µ—Ü. –∞–¥–º–∏–Ω. –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –≤ —Å—Ö–µ–º–µ storage.
supabase_read_only_user	Read	Read	Read	Read	–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ.
–ü—Ä–∏–º–µ—Ä –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –±–∞–∫–µ—Ç–∞:

sql
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –≤ –±–∞–∫–µ—Ç–µ 'documents'
CREATE POLICY "–î–æ—Å—Ç—É–ø –∫ –ª–∏—á–Ω—ã–º —Ñ–∞–π–ª–∞–º" ON storage.objects
    FOR ALL USING (
        bucket_id = 'documents'
        AND (auth.role() = 'service_role' OR auth.uid() = owner)
    );
üîÅ –°–•–ï–ú–ê realtime (–î–≤–∏–∂–æ–∫ WebSocket)
–û–ø–∏—Å–∞–Ω–∏–µ: –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ë–î. –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–ª—É–∂–µ–±–Ω–∞—è —Å—Ö–µ–º–∞.

–†–æ–ª—å	subscription	messages	schema_migrations	–ü–æ—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è —Å—Ö–µ–º—ã realtime
anon	No	No	No	–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞. –ö–ª–∏–µ–Ω—Ç—ã –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ WebSocket API, –∞ –Ω–µ SQL.
authenticated	No	No	No	–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞.
authenticator	No	No	No	–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞.
service_role	Bypass	Bypass	Bypass	–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–µ—Ä–≤–∏—Å–æ–º Realtime –¥–ª—è –∑–∞–ø–∏—Å–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏.
supabase_admin	Bypass	Bypass	Bypass	–°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
supabase_realtime_admin	Bypass	Bypass	Bypass	–°–ø–µ—Ü. –∞–¥–º–∏–Ω. –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –≤ —Å—Ö–µ–º–µ realtime.
supabase_read_only_user	Read	Read	Read	–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ. –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Ä–∞–±–æ—Ç—ã –ø–æ–¥–ø–∏—Å–æ–∫.
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ö–ª–∏–µ–Ω—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å Realtime —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π WebSocket-—ç–Ω–¥–ø–æ–∏–Ω—Ç –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É. SQL-–¥–æ—Å—Ç—É–ø –∫ —ç—Ç–æ–π —Å—Ö–µ–º–µ –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω.

üîí –°–•–ï–ú–ê vault (–ó–∞—â–∏—â—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–µ–∫—Ä–µ—Ç–æ–≤)
–û–ø–∏—Å–∞–Ω–∏–µ: –•—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ pgsodium. –ü—Ä—è–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–∞–±–ª–∏—Ü–µ–π –∑–∞–ø—Ä–µ—â–µ–Ω—ã.

–†–æ–ª—å	secrets	–ü–æ—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è —Å—Ö–µ–º—ã vault
anon	No	–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞.
authenticated	No	–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞.
authenticator	No	–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞.
service_role	Svc-Only*	–¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏. –î–æ—Å—Ç—É–ø –¥–ª—è –∑–∞–ø–∏—Å–∏/—á—Ç–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–µ–Ω –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ pgsodium (–Ω–∞–ø—Ä–∏–º–µ—Ä, pgsodium.create_secret). –ü—Ä—è–º–æ–π INSERT/SELECT –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç.
supabase_admin	Bypass	–°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –ú–æ–∂–µ—Ç –≤—Å—ë, –Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ç–∞–∫–∂–µ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏.
supabase_read_only_user	No	–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞. –î–∞–∂–µ –Ω–∞ —á—Ç–µ–Ω–∏–µ, —Ç–∞–∫ –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã.
–í–∞–∂–Ω–æ: –î–ª—è —Ä–∞–±–æ—Ç—ã —Å—Ö–µ–º—ã vault –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ: CREATE EXTENSION IF NOT EXISTS pgsodium;

üóÑÔ∏è –°–•–ï–ú–ê drizzle (–ú–∏–≥—Ä–∞—Ü–∏–∏ ORM Drizzle)
–û–ø–∏—Å–∞–Ω–∏–µ: –°–ª—É–∂–µ–±–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —É—á—ë—Ç–∞ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π —Å—Ö–µ–º—ã –ë–î. –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–†–æ–ª—å	__drizzle_migrations	–ü–æ—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è —Å—Ö–µ–º—ã drizzle
anon	No	–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞.
authenticated	No	–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞.
authenticator	No	–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞.
service_role	Bypass	–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø. –ù—É–∂–µ–Ω –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ drizzle-kit.
supabase_admin	Bypass	–°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
supabase_read_only_user	Read	–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ—Ä—Å–∏–∏ —Å—Ö–µ–º—ã.
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ï—Å–ª–∏ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Drizzle ORM, —ç—Ç—É —Å—Ö–µ–º—É –º–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å.

üéØ –°–≤–æ–¥–∫–∞ –ø–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–º —Ä–æ–ª—è–º
–ê–¥–º–∏–Ω-—Ä–æ–ª—å	–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ö–µ–º–∞	–û–±—Ö–æ–¥–∏—Ç RLS?	–û–ø–∏—Å–∞–Ω–∏–µ
supabase_auth_admin	auth	–î–∞ (—Ç–æ–ª—å–∫–æ –≤ auth)	–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Å–µ—Å—Å–∏—è–º–∏, –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
supabase_storage_admin	storage	–î–∞ (—Ç–æ–ª—å–∫–æ –≤ storage)	–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∫–µ—Ç–∞–º–∏, —Ñ–∞–π–ª–∞–º–∏, –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.
supabase_realtime_admin	realtime	–î–∞ (—Ç–æ–ª—å–∫–æ –≤ realtime)	–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ WebSocket-—Å–µ—Ä–≤–∏—Å–∞.
supabase_admin	–í—Å–µ	–î–∞ (–≤–µ–∑–¥–µ)	–°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –ø–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—Å—é –ë–î.
service_role	–í—Å–µ	–î–∞ (–≤–µ–∑–¥–µ)	–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∫–ª—é—á –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ª–æ–≥–∏–∫–∏ –∏ API.
üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–≥–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã:

sql
-- –£–∑–Ω–∞—Ç—å, –∫–∞–∫–∏–º —Ä–æ–ª—è–º —á—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ
SELECT grantee, privilege_type
FROM information_schema.role_table_grants
WHERE table_schema = 'public' AND table_name = 'projects';
–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –æ—Ç –∏–º–µ–Ω–∏ –¥—Ä—É–≥–æ–π —Ä–æ–ª–∏:

sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∫–∞–∫ –±—É–¥—Ç–æ –≤—ã 'authenticated' –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID '123...'
SET LOCAL ROLE authenticated;
SET LOCAL "request.jwt.claim.sub" TO '12345678-1234-1234-1234-123456789abc';
SELECT * FROM public.projects;
RESET ROLE;
–í–∫–ª—é—á–∏—Ç—å RLS –∏ —Å–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é –ø–æ–ª–∏—Ç–∏–∫—É:

sql
-- 1. –í–∫–ª—é—á–∏—Ç—å RLS –Ω–∞ —Ç–∞–±–ª–∏—Ü–µ (–∑–∞–ø—Ä–µ—Ç–∏—Ç—å –≤—Å—ë –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
ALTER TABLE public.my_table ENABLE ROW LEVEL SECURITY;

-- 2. –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —á–∏—Ç–∞—Ç—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
CREATE POLICY "Users can view own rows" ON public.my_table
    FOR SELECT USING (auth.uid() = user_id);
    
-- 3. –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
CREATE POLICY "Users can update own rows" ON public.my_table
    FOR UPDATE USING (auth.uid() = user_id);
–ê—É–¥–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª–∏—Ç–∏–∫:

sql
-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ø–æ–ª–∏—Ç–∏–∫–∏ RLS –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
SELECT schemaname, tablename, policyname, permissive, roles, cmd, qual
FROM pg_policies
ORDER BY schemaname, tablename;
text
—Ä–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ —Ä–æ–ª—å authenticator, –ø—Ä–∏–≤–µ–¥–∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
markdown
# üîÑ –†–æ–ª—å `authenticator` –≤ Supabase: –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ `authenticator`?

**`authenticator`** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è **—Å–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å-–ø–æ—Å—Ä–µ–¥–Ω–∏–∫ (proxy role)** –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Supabase. –ï—ë –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî **–ø—Ä–æ–≤–µ—Ä–∏—Ç—å JWT-—Ç–æ–∫–µ–Ω –∫–ª–∏–µ–Ω—Ç–∞ –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–æ–Ω–µ—á–Ω—É—é —Ä–æ–ª—å** (`anon` –∏–ª–∏ `authenticated`).

### üìä –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ä–æ–ª–∏ (–∏–∑ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–±—ä—è—Å–Ω–µ–Ω–∏–µ |
| :--- | :--- | :--- |
| **`rolname`** | `authenticator` | –ò–º—è —Ä–æ–ª–∏ |
| **`rolsuper`** | `False` | –ù–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å |
| **`rolinherit`** | `False` | **–í–∞–∂–Ω–æ!** –ù–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏. –†–∞–±–æ—Ç–∞–µ—Ç "—Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞". |
| **`rolcanlogin`** | `True` | –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –ë–î (—á–µ—Ä–µ–∑ –Ω–µ–µ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –≤—Å–µ –∫–ª–∏–µ–Ω—Ç—ã) |
| **`rolbypassrls`** | `False` | **–ù–µ –æ–±—Ö–æ–¥–∏—Ç RLS.** –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω–µ—á–Ω–∞—è —Ä–æ–ª—å –±—É–¥–µ—Ç –ø–æ–¥—á–∏–Ω—è—Ç—å—Å—è –ø–æ–ª–∏—Ç–∏–∫–∞–º. |
| **`rolconfig`** | `{session_preload_libraries=safeupdate,statement_timeout=8s,lock_timeout=8s}` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤. |

---

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `authenticator`? (–ü–æ—Ç–æ–∫ –∑–∞–ø—Ä–æ—Å–∞)

1.  **–ö–ª–∏–µ–Ω—Ç** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å –∫ API Supabase (—á–µ—Ä–µ–∑ `kong`/`postgrest`) —Å JWT-—Ç–æ–∫–µ–Ω–æ–º –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer <token>`.
2.  **PostgREST** –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ **—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å PostgreSQL –ø–æ–¥ —Ä–æ–ª—å—é `authenticator`**.
3.  **–í–Ω—É—Ç—Ä–∏ —Å–µ—Å—Å–∏–∏** `authenticator` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é:
    ```sql
    -- –ü—Å–µ–≤–¥–æ–∫–æ–¥ —Ç–æ–≥–æ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏ —Å–∏—Å—Ç–µ–º—ã:
    SET LOCAL jwt.claims = –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_payload_JWT;
    SET LOCAL ROLE TO —Ä–æ–ª—å_–∏–∑_JWT; -- 'anon' –∏–ª–∏ 'authenticated'
    ```
4.  **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**: –¢–µ–ø–µ—Ä—å –≤—Å—è —Å–µ—Å—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç **–Ω–µ –æ—Ç –∏–º–µ–Ω–∏ `authenticator`**, –∞ –æ—Ç –∏–º–µ–Ω–∏ –∫–æ–Ω–µ—á–Ω–æ–π —Ä–æ–ª–∏ (`anon`/`authenticated`). –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏ –±—É–¥—É—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è **RLS-–ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –¥–ª—è —ç—Ç–æ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ä–æ–ª–∏**.
5.  **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞**: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏—Å—Ö–æ–¥–Ω—ã–π SQL-–∑–∞–ø—Ä–æ—Å –∫–ª–∏–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `SELECT * FROM projects`) —É–∂–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –Ω–æ–≤–æ–π —Ä–æ–ª–∏.

### üõ°Ô∏è –ü–æ—á–µ–º—É —Ç–∞–∫–∞—è —Å–ª–æ–∂–Ω–∞—è —Å—Ö–µ–º–∞? (–ü—Ä–∏–Ω—Ü–∏–ø –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π)
- **`authenticator` —Å–∞–º –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –¥–∞–Ω–Ω—ã–µ** (`rolinherit=False`). –û–Ω –Ω–µ –º–æ–∂–µ—Ç —Å–∞–º –ø—Ä–æ—á–∏—Ç–∞—Ç—å `public.projects`.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å RLS —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**: –ü–æ—Å–∫–æ–ª—å–∫—É `authenticator` –Ω–µ –æ–±—Ö–æ–¥–∏—Ç RLS (`rolbypassrls=False`), –∞ –∫–æ–Ω–µ—á–Ω—ã–µ —Ä–æ–ª–∏ `anon`/`authenticated` —Ç–æ–∂–µ –µ–≥–æ –Ω–µ –æ–±—Ö–æ–¥—è—Ç, **–≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤—Å–µ–≥–¥–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏**.
- **–ò–∑–æ–ª—è—Ü–∏—è**: –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å "–æ—Ç –∏–º–µ–Ω–∏" `authenticator` ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è.

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### üìç –ü—Ä–∏–º–µ—Ä 1: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Flow —á–µ—Ä–µ–∑ API)

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç email/–ø–∞—Ä–æ–ª—å –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç `supabase.auth.signInWithPassword()`.
3. –ë—ç–∫–µ–Ω–¥ `auth` (GoTrue) –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—Ä–µ–¥–µ–Ω—à–∏–∞–ª—ã –∏ **–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JWT**, –≥–¥–µ –≤ –ø–æ–ª–µ `role` —É–∫–∞–∑–∞–Ω–æ `"authenticated"`, –∞ –≤ `sub` ‚Äî UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
4. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç JWT –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ —Å –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º.
5. PostgREST, –≤–∏–¥—è JWT —Å `role="authenticated"`, —á–µ—Ä–µ–∑ `authenticator` –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–µ—Å—Å–∏—é –Ω–∞ —Ä–æ–ª—å `authenticated` –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `auth.uid()` = UUID –∏–∑ `sub`.

**–ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –≤ SQL-—Å–µ—Å—Å–∏–∏:**
```sql
-- –°–µ—Å—Å–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ç–∞–∫:
CURRENT_USER: authenticator

-- –°–∏—Å—Ç–µ–º–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç (–Ω–µ—è–≤–Ω–æ –¥–ª—è –≤–∞—Å):
SET LOCAL "request.jwt.claim.role" TO 'authenticated';
SET LOCAL "request.jwt.claim.sub" TO '12345678-1234-1234-1234-123456789abc';
SET LOCAL ROLE TO authenticated;

-- –¢–µ–ø–µ—Ä—å:
CURRENT_USER: authenticated
-- –ò —Ñ—É–Ω–∫—Ü–∏—è auth.uid() –≤–µ—Ä–Ω–µ—Ç '12345678-1234-1234-1234-123456789abc'
üìç –ü—Ä–∏–º–µ—Ä 2: –ê–Ω–æ–Ω–∏–º–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø—É–±–ª–∏—á–Ω—ã–º –¥–∞–Ω–Ω—ã–º
–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ –ø—É–±–ª–∏—á–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç anon –∫–ª—é—á (–∏–ª–∏ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç JWT).

PostgREST, –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤ –≤–∞–ª–∏–¥–Ω–æ–≥–æ JWT, —á–µ—Ä–µ–∑ authenticator –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–µ—Å—Å–∏—é –Ω–∞ —Ä–æ–ª—å anon.

–ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç:

sql
-- –°–µ—Å—Å–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è:
CURRENT_USER: authenticator

-- –°–∏—Å—Ç–µ–º–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç:
SET LOCAL ROLE TO anon; -- JWT –Ω–µ—Ç –∏–ª–∏ –Ω–µ –≤–∞–ª–∏–¥–µ–Ω

-- –¢–µ–ø–µ—Ä—å:
CURRENT_USER: anon
-- auth.uid() –≤–µ—Ä–Ω–µ—Ç NULL
üìç –ü—Ä–∏–º–µ—Ä 3: –ü—Ä—è–º–∞—è –æ—Ç–ª–∞–¥–∫–∞ –≤ psql (–∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ RLS.

sql
-- 1. –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –ë–î –∫–∞–∫ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–ª–∏ service_role
psql -U supabase_admin -d postgres

-- 2. –í—Ä—É—á–Ω—É—é –≤—ã–ø–æ–ª–Ω—è–µ–º —Ä–∞–±–æ—Ç—É authenticator'–∞:
-- –ê) –°–æ–∑–¥–∞–µ–º "—Ñ–µ–π–∫–æ–≤—ã–π" JWT payload –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏
SET "request.jwt.claim.role" TO 'authenticated';
SET "request.jwt.claim.sub" TO '12345678-1234-1234-1234-123456789abc'; -- UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

-- –ë) –ú–ï–ù–Ø–ï–ú –†–û–õ–¨ –Ω–∞ authenticator (–∏–º–∏—Ç–∏—Ä—É–µ–º –Ω–∞—á–∞–ª–æ —Å–µ—Å—Å–∏–∏)
SET ROLE authenticator;

-- –í) –¢–µ–ø–µ—Ä—å, –Ω–∞—Ö–æ–¥—è—Å—å –≤ —Ä–æ–ª–∏ authenticator, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –∫–æ–Ω–µ—á–Ω—É—é —Ä–æ–ª—å
--    (—ç—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞, –Ω–æ –º—ã —Å–¥–µ–ª–∞–µ–º –≤—Ä—É—á–Ω—É—é –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)
SET ROLE authenticated;

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º:
SELECT current_user; -- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: authenticated
SELECT auth.uid();   -- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 12345678-1234-1234-1234-123456789abc

-- –¢–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è RLS:
SELECT * FROM public.projects;
-- –ë—É–¥—É—Ç –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –ø—Ä–æ–µ–∫—Ç—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å —ç—Ç–∏–º UUID

-- 3. –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–µ–±–µ –ø—Ä–∞–≤–∞:
RESET ROLE;
‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è
‚ùå –û—à–∏–±–∫–∞ 1: –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å authenticator –Ω–∞–ø—Ä—è–º—É—é
sql
-- –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
GRANT SELECT ON public.projects TO authenticator; -- –ë–µ—Å–ø–æ–ª–µ–∑–Ω–æ!

-- authenticator –Ω–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∞ (rolinherit=False).
-- –î–∞–∂–µ –µ—Å–ª–∏ –¥–∞—Ç—å –µ–º—É –ø—Ä–∞–≤–∞, –ø–æ—Å–ª–µ SET ROLE ... –æ–Ω–∏ "–∑–∞–±—É–¥—É—Ç—Å—è".
‚ùå –û—à–∏–±–∫–∞ 2: –°–æ–∑–¥–∞–Ω–∏–µ RLS-–ø–æ–ª–∏—Ç–∏–∫ –¥–ª—è authenticator
sql
-- –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–∏ –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ):
CREATE POLICY "policy_name" ON public.projects
    FOR ALL TO authenticator USING (...);
-- –ó–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–µ –†–û–õ–¨–Æ `authenticator`, –∞ –†–û–õ–¨–Æ, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –æ–Ω –ø–µ—Ä–µ–∫–ª—é—á–∏–ª—Å—è.
-- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è `anon`, `authenticated`, `service_role`.
‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –î–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∞ –∫–æ–Ω–µ—á–Ω—ã–º —Ä–æ–ª—è–º
sql
-- –ü–†–ê–í–ò–õ–¨–ù–û:
GRANT SELECT, INSERT ON public.projects TO anon, authenticated;
-- –¢–µ–ø–µ—Ä—å, –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è, —É –∫–æ–Ω–µ—á–Ω–æ–π —Ä–æ–ª–∏ –±—É–¥—É—Ç —ç—Ç–∏ –ø—Ä–∞–≤–∞.
üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
–í–æ–ø—Ä–æ—Å: "–ü–æ—á–µ–º—É –º–æ–π –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç permission denied?"
–®–∞–≥–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:

–ü–æ–¥ –∫–∞–∫–æ–π —Ä–æ–ª—å—é –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å?

sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤ –∑–∞–ø—Ä–æ—Å–µ:
SELECT current_user; -- –ü–æ–∫–∞–∂–µ—Ç authenticator, anon –∏–ª–∏ authenticated
–ö–∞–∫–∏–µ –ø—Ä–∞–≤–∞ –µ—Å—Ç—å —É —ç—Ç–æ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ä–æ–ª–∏?

sql
-- –í–æ–π—Ç–∏ –∫–∞–∫ supabase_admin –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
SELECT grantee, privilege_type
FROM information_schema.role_table_grants
WHERE table_schema = 'public'
  AND table_name = '–≤–∞—à–∞_—Ç–∞–±–ª–∏—Ü–∞'
  AND grantee IN ('anon', 'authenticated');
–ï—Å—Ç—å –ª–∏ RLS-–ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è —ç—Ç–æ–π —Ä–æ–ª–∏?

sql
SELECT schemaname, tablename, policyname, roles, cmd, qual
FROM pg_policies
WHERE tablename = '–≤–∞—à–∞_—Ç–∞–±–ª–∏—Ü–∞'
  AND (roles @> ARRAY['anon'] OR roles @> ARRAY['authenticated']);
–í–æ–ø—Ä–æ—Å: "–ö–∞–∫ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ authenticator —Ä–∞–±–æ—Ç–∞–µ—Ç?"
–¢–µ—Å—Ç:

sql
-- 1. –°–±—Ä–æ—Å–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç
RESET ROLE;
SET "request.jwt.claim.role" TO 'authenticated';
SET "request.jwt.claim.sub" TO 'test-uuid';

-- 2. –ò–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–∫ authenticator
SET ROLE authenticator;

-- 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é auth.uid() –î–û –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
SELECT auth.uid(); -- –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å NULL, —Ç.–∫. –º—ã –µ—â–µ authenticator

-- 4. –í—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è (–∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞)
SET ROLE authenticated;

-- 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é auth.uid() –ü–û–°–õ–ï –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
SELECT auth.uid(); -- –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 'test-uuid'
üìù –ò—Ç–æ–≥: –ö–ª—é—á–µ–≤—ã–µ —Ç–µ–∑–∏—Å—ã –æ —Ä–æ–ª–∏ authenticator
–¢–µ–∑–∏—Å	–û–±—ä—è—Å–Ω–µ–Ω–∏–µ
–≠—Ç–æ —à–ª—é–∑, –∞ –Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å	authenticator ‚Äî —ç—Ç–æ –¥–≤–µ—Ä—å, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—É—é –ø—Ä–æ—Ö–æ–¥—è—Ç, –Ω–æ –Ω–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏.
–û–Ω –Ω–µ –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤ –Ω–∞ –¥–∞–Ω–Ω—ã–µ	–ï–≥–æ –ø—Ä–∞–≤–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é SET ROLE –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏.
–û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å RLS	–ë–ª–∞–≥–æ–¥–∞—Ä—è rolinherit=False –∏ rolbypassrls=False, –æ–Ω –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏.
RLS-–ø–æ–ª–∏—Ç–∏–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–µ –¥–ª—è –Ω–µ–≥–æ	–ü–æ–ª–∏—Ç–∏–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è anon, authenticated, –∏–Ω–æ–≥–¥–∞ –¥–ª—è service_role.
–ï–≥–æ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä—è–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤	–õ—é–±–∞—è –ø–æ–ø—ã—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å SELECT –æ—Ç –∏–º–µ–Ω–∏ authenticator (–±–µ–∑ SET ROLE) –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è –æ—à–∏–±–∫–æ–π –ø—Ä–∞–≤.
–≠—Ç–æ –æ—Å–Ω–æ–≤–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Supabase	–ë–µ–∑ —ç—Ç–æ–π —Ä–æ–ª–∏ –±—ã–ª–æ –±—ã –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–º–µ—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ (PostgREST).
–ü—Ä–æ—Å—Ç–∞—è –∞–Ω–∞–ª–æ–≥–∏—è:
authenticator ‚Äî —ç—Ç–æ –≤–æ–¥–∏—Ç–µ–ª—å —Ç–∞–∫—Å–∏ —Å –ø—É—Å—Ç—ã–º —Å–∞–ª–æ–Ω–æ–º.

–í—ã (–∫–ª–∏–µ–Ω—Ç) –ø—Ä–µ–¥—ä—è–≤–ª—è–µ—Ç–µ –ø—Ä–æ–ø—É—Å–∫ (JWT).

–í–æ–¥–∏—Ç–µ–ª—å (authenticator) –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–æ–ø—É—Å–∫ –∏ –≥–æ–≤–æ—Ä–∏—Ç: "–ê, –≤–∞–º –≤ —Å–∏–Ω—é—é –∑–æ–Ω—É (authenticated)".

–í—ã –º—ã—Å–ª–µ–Ω–Ω–æ –ø–µ—Ä–µ–≤–æ–ø–ª–æ—â–∞–µ—Ç–µ—Å—å –≤ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ —Å–∏–Ω–µ–π –∑–æ–Ω—ã (SET ROLE authenticated).

–¢–µ–ø–µ—Ä—å –≤—ã —Ö–æ–¥–∏—Ç–µ –ø–æ –æ—Ñ–∏—Å—É (–ë–î) –∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Ç–µ–º –∫–æ–º–Ω–∞—Ç–∞–º (—Å—Ç—Ä–æ–∫–∞–º), –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ —Å–∏–Ω–µ–π –∑–æ–Ω—ã (RLS-–ø–æ–ª–∏—Ç–∏–∫–∏).

–°–∞–º –≤–æ–¥–∏—Ç–µ–ª—å —Ç–∞–∫—Å–∏ –≤ –æ—Ñ–∏—Å –Ω–µ –∑–∞—Ö–æ–¥–∏—Ç –∏ –Ω–∏—á–µ–≥–æ –≤ –Ω–µ–º –¥–µ–ª–∞—Ç—å –Ω–µ –º–æ–∂–µ—Ç.

text
hf===—Ä–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ —Å—Ç–æ–ª–±—Ü—ã —Ç–∞–±–ª–∏—Ü—ã auth.users column_name
instance_id
id
aud
role
email
encrypted_password
email_confirmed_at
invited_at
confirmation_token
confirmation_sent_at
recovery_token
recovery_sent_at
email_change_token_new
email_change
email_change_sent_at
last_sign_in_at
raw_app_meta_data
raw_user_meta_data
is_super_admin
created_at
updated_at
phone
phone_confirmed_at
phone_change
phone_change_token
phone_change_sent_at
confirmed_at
email_change_token_current
email_change_confirm_status
banned_until
reauthentication_token
reauthentication_sent_at
is_sso_user
deleted_at
is_anonymous
markdown
# üìä –î–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º —Ç–∞–±–ª–∏—Ü—ã `auth.users`

## üìã –ì—Ä—É–ø–ø—ã —Å—Ç–æ–ª–±—Ü–æ–≤

| –ì—Ä—É–ø–ø–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä —Å—Ç–æ–ª–±—Ü–æ–≤ |
| :--- | :--- | :--- |
| **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏ –±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** | –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID, –∞—É–¥–∏—Ç–æ—Ä–∏—è, —Ä–æ–ª—å | `id`, `instance_id`, `aud`, `role` |
| **–ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ** | Email, —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è | `email`, `phone`, `*_confirmed_at` |
| **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | –•–µ—à–∏ –ø–∞—Ä–æ–ª–µ–π, —Ç–æ–∫–µ–Ω—ã —Å–±—Ä–æ—Å–∞, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ | `encrypted_password`, `*_token`, `banned_until` |
| **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Ñ–ª–∞–≥–∏** | –ö–∞—Å—Ç–æ–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–ª–∞–≥–∏, —É–¥–∞–ª–µ–Ω–∏–µ | `raw_*_meta_data`, `is_super_admin`, `deleted_at` |
| **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –∏ –∂—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** | –î–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π | `created_at`, `updated_at`, `last_sign_in_at` |

---

## üìù –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞

### **1. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏ –±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**
| –°—Ç–æ–ª–±–µ—Ü | –¢–∏–ø (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π) | –û–ø–∏—Å–∞–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- | :--- |
| **`instance_id`** | `UUID` | **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —ç–∫–∑–µ–º–ø–ª—è—Ä–∞/—Ç–µ–Ω–∞–Ω—Ç–∞.** –í self-hosted –≤–µ—Ä—Å–∏–∏ –æ–±—ã—á–Ω–æ –æ–¥–∏–Ω –Ω–∞ –≤—Å—é —É—Å—Ç–∞–Ω–æ–≤–∫—É. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–¥–µ–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö. |
| **`id`** | `UUID` | **–ì–ª–∞–≤–Ω—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (PK).** –ö–ª—é—á–µ–≤–æ–µ –ø–æ–ª–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö —Å–≤—è–∑—è—Ö (`auth.identities.user_id`, `public.users.id`). –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π. **–ù–µ –º–µ–Ω—è–π—Ç–µ!** |
| **`aud`** | `VARCHAR` | **–ê—É–¥–∏—Ç–æ—Ä–∏—è (audience).** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –¥–ª—è –∫–∞–∫–æ–≥–æ "–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è" –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Ä–∞–º–∫–∞—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `'authenticated'`. –ù—É–∂–µ–Ω –¥–ª—è JWT. |
| **`role`** | `VARCHAR` | **–ë–∞–∑–æ–≤–∞—è —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ JWT.** –û–±—ã—á–Ω–æ `'authenticated'`. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç claim `role` –≤ —Ç–æ–∫–µ–Ω–µ. –ú–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞—Å—Ç–æ–º–Ω–æ–π –¥–ª—è advanced-—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤. |

### **2. –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –∏—Ö –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**
| –°—Ç–æ–ª–±–µ—Ü | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- | :--- |
| **`email`** | `VARCHAR` | **Email-–∞–¥—Ä–µ—Å –¥–ª—è –≤—Ö–æ–¥–∞.** –£–Ω–∏–∫–∞–ª—å–Ω—ã–π (–µ—Å–ª–∏ –Ω–µ `NULL`). –û—Å–Ω–æ–≤–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ `email`. |
| **`phone`** | `VARCHAR` | **–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –≤—Ö–æ–¥–∞.** –£–Ω–∏–∫–∞–ª—å–Ω—ã–π (–µ—Å–ª–∏ –Ω–µ `NULL`). –û—Å–Ω–æ–≤–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ `phone`. |
| **`email_confirmed_at`** | `TIMESTAMPTZ` | **–í—Ä–µ–º—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email.** `NULL`, –µ—Å–ª–∏ email –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø–æ —Å—Å—ã–ª–∫–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–ª–∏ —á–µ—Ä–µ–∑ admin API. |
| **`phone_confirmed_at`** | `TIMESTAMPTZ` | **–í—Ä–µ–º—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞.** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ email. |
| **`confirmed_at`** | `TIMESTAMPTZ` | **–û–±—â–µ–µ –≤—Ä–µ–º—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞.** –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞ (email –∏–ª–∏ phone). –ì–ª–∞–≤–Ω—ã–π —Ñ–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞. |
| **`email_change`** | `VARCHAR` | **–ù–æ–≤—ã–π email, –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è.** –•—Ä–∞–Ω–∏—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω–æ, –ø–æ–∫–∞ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω —á–µ—Ä–µ–∑ `email_change_token_new`. |
| **`phone_change`** | `VARCHAR` | **–ù–æ–≤—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω, –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è.** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ email. |
| **`email_change_confirm_status`** | `SMALLINT` | **–°—Ç–∞—Ç—É—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–º–µ–Ω—ã email.** `0` - pending (–æ–∂–∏–¥–∞–µ—Ç), `1` - confirmed (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω), `2` - –≤—ã –º–æ–∂–µ—Ç–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –ø–æ–ª–µ, –æ–Ω–æ —É—Å—Ç–∞—Ä–µ–≤—à–µ–µ |

### **3. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
| –°—Ç–æ–ª–±–µ—Ü | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- | :--- |
| **`encrypted_password`** | `VARCHAR` | **–•–µ—à –ø–∞—Ä–æ–ª—è.** –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ `email`. –•—Ä–∞–Ω–∏—Ç—Å—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, bcrypt). **–ù–ò–ö–û–ì–î–ê –Ω–µ —á–∏—Ç–∞–π—Ç–µ/–Ω–µ –ª–æ–≥–≥–∏—Ä—É–π—Ç–µ!** |
| **`confirmation_token`** | `VARCHAR` | **–¢–æ–∫–µ–Ω –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.** –°—Å—ã–ª–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω. –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π, –∏–º–µ–µ—Ç —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏. |
| **`confirmation_sent_at`** | `TIMESTAMPTZ` | **–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å—å–º–∞ —Å `confirmation_token`.** |
| **`recovery_token`** | `VARCHAR` | **–¢–æ–∫–µ–Ω –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è.** –°—Å—ã–ª–∫–∞ "Forgot password" —Å–æ–¥–µ—Ä–∂–∏—Ç —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω. |
| **`recovery_sent_at`** | `TIMESTAMPTZ` | **–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å—å–º–∞ —Å `recovery_token`.** |
| **`email_change_token_new`** | `VARCHAR` | **–¢–æ–∫–µ–Ω –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ù–û–í–û–ì–û email.** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤—ã–π –∞–¥—Ä–µ—Å. |
| **`email_change_token_current`** | `VARCHAR` | **–¢–æ–∫–µ–Ω –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¢–ï–ö–£–©–ï–ì–û email.** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—ã–π –∞–¥—Ä–µ—Å –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏. |
| **`email_change_sent_at`** | `TIMESTAMPTZ` | **–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤ —Å–º–µ–Ω—ã email.** |
| **`phone_change_token`** | `VARCHAR` | **–¢–æ–∫–µ–Ω (–∫–æ–¥) –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–º–µ–Ω—ã —Ç–µ–ª–µ—Ñ–æ–Ω–∞.** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ SMS. |
| **`phone_change_sent_at`** | `TIMESTAMPTZ` | **–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ `phone_change_token`.** |
| **`reauthentication_token`** | `VARCHAR` | **–¢–æ–∫–µ–Ω –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.** –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (—Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è, –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö). |
| **`reauthentication_sent_at`** | `TIMESTAMPTZ` | **–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ `reauthentication_token`.** |
| **`banned_until`** | `TIMESTAMPTZ` | **–î–æ –∫–∞–∫–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.** `NULL` = –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω. –í—ã —Å–∞–º–∏ –¥–æ–±–∞–≤–∏–ª–∏ —ç—Ç–æ—Ç —Å—Ç–æ–ª–±–µ—Ü. –ö—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è moderation. |
| **`last_sign_in_at`** | `TIMESTAMPTZ` | **–í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞.** –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (email, OAuth, phone). |

### **4. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–ª–∞–≥–∏**
| –°—Ç–æ–ª–±–µ—Ü | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- | :--- |
| **`raw_app_meta_data`** | `JSONB` | **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.** –°—é–¥–∞ GoTrue –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö (`provider`, `providers`). **–û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, —á–µ—Ä–µ–∑ —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à—ë–ª.** –ù–∞–ø—Ä–∏–º–µ—Ä: `{"provider": "email", "providers": ["email", "google"]}`. |
| **`raw_user_meta_data`** | `JSONB` | **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.** –°—é–¥–∞ –ø–æ–ø–∞–¥–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –∏–∑ OAuth (–∏–º—è, –∞–≤–∞—Ç–∞—Ä) –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Admin API. **–ò–¥–µ–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è.** |
| **`is_super_admin`** | `BOOLEAN` | **–§–ª–∞–≥ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.** –î–∞—ë—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è GoTrue. –û–±—ã—á–Ω–æ `false` –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. |
| **`is_sso_user`** | `BOOLEAN` | **–§–ª–∞–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è SSO.** `true`, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π SSO (SAML). |
| **`is_anonymous`** | `BOOLEAN` | **–§–ª–∞–≥ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.** `true` –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `signInAnonymously()`. |
| **`deleted_at`** | `TIMESTAMPTZ` | **–ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (soft delete).** `NULL` = –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω. –î–∞—Ç–∞ = –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å "—É–¥–∞–ª—ë–Ω". –ó–∞–ø–∏—Å–∏ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏, –Ω–æ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –∏–∑ –ª–æ–≥–∏–∫–∏ Auth API. |

### **5. –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è**
| –°—Ç–æ–ª–±–µ—Ü | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- | :--- |
| **`created_at`** | `TIMESTAMPTZ` | **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏.** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ `INSERT`. |
| **`updated_at`** | `TIMESTAMPTZ` | **–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ `UPDATE`. |
| **`invited_at`** | `TIMESTAMPTZ` | **–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è.** –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Admin API —Å —Ñ–ª–∞–≥–æ–º `invite`. |

---

## üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–ª–µ–π

### **–ü—Ä–∏–º–µ—Ä 1: –ù–∞–π—Ç–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Google**
```sql
SELECT id, email, raw_app_meta_data->>'provider' as primary_provider
FROM auth.users
WHERE raw_app_meta_data->>'provider' = 'google'
   OR (raw_app_meta_data->'providers' ? 'google');
–ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω –ª–∏ –∞–∫–∫–∞—É–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sql
-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π)
SELECT id, email,
       confirmed_at IS NOT NULL as is_confirmed,
       COALESCE(email_confirmed_at, phone_confirmed_at) as first_confirmation_date
FROM auth.users;

-- –°–ø–æ—Å–æ–± —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥ –≤ JWT (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏)
-- –í JWT –±—É–¥–µ—Ç claim: `email_confirmed: true/false`
–ü—Ä–∏–º–µ—Ä 3: –†–∞—Å—à–∏—Ä–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ raw_user_meta_data)
sql
-- 1. –ó–∞–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ (—á–µ—Ä–µ–∑ Admin API) –∏–ª–∏
-- 2. –û–±–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ SQL (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ, –æ—Ç –∏–º–µ–Ω–∏ service_role!)
UPDATE auth.users
SET raw_user_meta_data = raw_user_meta_data || '{"nickname": "my_nick", "age": 30}'::jsonb
WHERE id = 'user-uuid-here';

-- 3. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
SELECT id, email,
       raw_user_meta_data->>'nickname' as nickname,
       (raw_user_meta_data->>'age')::int as age
FROM auth.users;
–ü—Ä–∏–º–µ—Ä 4: –†–∞–±–æ—Ç–∞ —Å –∞–Ω–æ–Ω–∏–º–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
sql
-- –ù–∞–π—Ç–∏ –≤—Å–µ—Ö –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –±–æ–ª–µ–µ —Å—É—Ç–æ–∫ –Ω–∞–∑–∞–¥
SELECT id, created_at
FROM auth.users
WHERE is_anonymous = true
  AND created_at < NOW() - INTERVAL '1 day';

-- –ü—Ä–∏ "–ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–∏" –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ
-- –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å email/password –∏ —Å–±—Ä–æ—Å–∏—Ç—å —Ñ–ª–∞–≥ is_anonymous
‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
–ü—Ä–∞–∫—Ç–∏–∫–∞	–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ
–ù–µ –¥–µ–ª–∞–π—Ç–µ SELECT * –≤ –ª–æ–≥–∞—Ö/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ	–°—Ç–æ–ª–±—Ü—ã –≤—Ä–æ–¥–µ encrypted_password, *_token —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã. –í—Å–µ–≥–¥–∞ –ø–µ—Ä–µ—á–∏—Å–ª—è–π—Ç–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è.
–ò–∑–º–µ–Ω—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Admin API –∏–ª–∏ service_role	–ü—Ä—è–º—ã–µ SQL-–∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –Ω–∞—Ä—É—à–∏—Ç—å –ª–æ–≥–∏–∫—É GoTrue. –î–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ raw_user_meta_data.
–ü–æ–ª–µ id ‚Äî —Å–≤—è—â–µ–Ω–Ω—ã–π –≥—Ä–∞–∞–ª—å	–≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä. Email –∏ phone –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å—Å—è, id ‚Äî –Ω–∏–∫–æ–≥–¥–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è —Å–≤—è–∑–µ–π –≤ —Å–≤–æ–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö (public.profiles.user_id).
–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ banned_until	SELECT * FROM auth.users WHERE banned_until IS NOT NULL AND banned_until > NOW()
deleted_at vs —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ	Auth API —É—á–∏—Ç—ã–≤–∞–µ—Ç deleted_at. –§–∏–∑–∏—á–µ—Å–∫–æ–µ DELETE —Å–ª–æ–º–∞–µ—Ç —Å—Å—ã–ª–∫–∏ –≤ identities, sessions.
–¢–æ–∫–µ–Ω—ã –∏–º–µ—é—Ç —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏	–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ *_sent_at + –∏–Ω—Ç–µ—Ä–≤–∞–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, 24—á). –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –Ω—É–∂–Ω–æ –æ—á–∏—â–∞—Ç—å.
üîç –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ)
‚ùì –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∞–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Google OAuth?
–û—Ç–≤–µ—Ç: –í raw_user_meta_data. –ü—Ä–∏–º–µ—Ä:

json
{
  "avatar_url": "https://lh3.googleusercontent.com/...",
  "full_name": "John Doe",
  "provider": "google"
}
‚ùì –ü–æ—á–µ–º—É —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–≤–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ raw_app_meta_data->'providers'?
–û—Ç–≤–µ—Ç: –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –ú–∞—Å—Å–∏–≤ providers –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Å–ø–æ—Å–æ–±—ã, –∫–æ—Ç–æ—Ä—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏. –û–Ω –º–æ–∂–µ—Ç –∏–º–µ—Ç—å ['email', 'google'], –µ—Å–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è —á–µ—Ä–µ–∑ email, –∑–∞—Ç–µ–º –ø—Ä–∏–≤—è–∑–∞–ª Google.

‚ùì –ö–∞–∫ –æ—Ç–ª–∏—á–∏—Ç—å "–Ω–∞—Å—Ç–æ—è—â–µ–≥–æ" –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ?
–û—Ç–≤–µ—Ç: –ü–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø–æ–ª–µ–π:

sql
-- "–ù–∞—Å—Ç–æ—è—â–∏–π" –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–∏–º–µ–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏ –Ω–µ –∞–Ω–æ–Ω–∏–º)
SELECT * FROM auth.users
WHERE (email IS NOT NULL OR phone IS NOT NULL)
  AND is_anonymous = false
  AND deleted_at IS NULL;
‚ùì –ß—Ç–æ –≤–∞–∂–Ω–µ–µ: email_confirmed_at –∏–ª–∏ confirmed_at?
–û—Ç–≤–µ—Ç: –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ "–º–æ–∂–Ω–æ –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–æ–π—Ç–∏?" ‚Äî confirmed_at. –û–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è NOT NULL –ø—Ä–∏ –ª—é–±–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏. email_confirmed_at —Å–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è email.

üéØ –ö—Ä–∞—Ç–∫–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–º –ø–æ–ª—è–º
–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å	–ö–∞–∫–∏–µ –ø–æ–ª—è —Å–º–æ—Ç—Ä–µ—Ç—å/–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
–ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–≤–æ—ë–º –∫–æ–¥–µ	id (UUID)
–ü–æ–∫–∞–∑–∞—Ç—å email/phone –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ	email, phone
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω –ª–∏ –∞–∫–∫–∞—É–Ω—Ç	confirmed_at IS NOT NULL
–£–∑–Ω–∞—Ç—å, —á–µ—Ä–µ–∑ —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—à—ë–ª	raw_app_meta_data->>'provider'
–î–æ—Å—Ç–∞—Ç—å –∏–º—è/–∞–≤–∞—Ç–∞—Ä –∏–∑ OAuth	raw_user_meta_data->>'full_name', ->>'avatar_url'
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å	banned_until > NOW()
–£–∑–Ω–∞—Ç—å, —É–¥–∞–ª—ë–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å	deleted_at IS NOT NULL
–ù–∞–π—Ç–∏ –∞–Ω–æ–Ω–∏–º–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏	is_anonymous = true + created_at
text
—á—Ç–æ —ç—Ç–æ ->>
markdown
# üéØ –û–ø–µ—Ä–∞—Ç–æ—Ä `->>` –≤ PostgreSQL (JSON/JSONB)

## üìå –ß—Ç–æ —ç—Ç–æ?
**`->>`** ‚Äî —ç—Ç–æ **–æ–ø–µ—Ä–∞—Ç–æ—Ä –¥–æ—Å—Ç—É–ø–∞ –∫ JSON/JSONB** –≤ PostgreSQL, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç **–î–í–ï –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å—Ä–∞–∑—É**:
1.  **–ò–∑–≤–ª–µ–∫–∞–µ—Ç** —ç–ª–µ–º–µ–Ω—Ç JSON –ø–æ –∫–ª—é—á—É (–∫–∞–∫ `->`).
2.  **–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç** –∏–∑–≤–ª–µ—á—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π **—Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ç–∏–ø PostgreSQL (`text`)**.

## üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø–æ—Ö–æ–∂–∏–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø | –ü—Ä–∏–º–µ—Ä (–¥–ª—è `data = '{"name": "John", "age": 30}'::jsonb`) | –†–µ–∑—É–ª—å—Ç–∞—Ç | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| :--- | :--- | :--- | :--- | :--- |
| **`->>`** (–¥–≤–∞ –∑–Ω–∞–∫–∞ "–±–æ–ª—å—à–µ") | **`text`** (—Å—Ç—Ä–æ–∫–∞) | `data ->> 'name'` | `'John'` (—Ç–∏–ø `text`) | **–û—Å–Ω–æ–≤–Ω–æ–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç—Ä–æ–∫ –∏–∑ JSON –≤ SQL** |
| **`->`** (–æ–¥–∏–Ω –∑–Ω–∞–∫ "–±–æ–ª—å—à–µ") | **`jsonb`** (–µ—Å–ª–∏ –∏—Å—Ö–æ–¥–Ω–∏–∫ `jsonb`) | `data -> 'name'` | `'"John"'` (—Ç–∏–ø `jsonb`, **–≤ –∫–∞–≤—ã—á–∫–∞—Ö!**) | –í–µ—Ä–Ω—ë—Ç JSON-—Ñ—Ä–∞–≥–º–µ–Ω—Ç. –ù—É–∂–µ–Ω –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã —Å JSON. |
| **`#>>`** | **`text`** | `data #>> '{name}'` | `'John'` (—Ç–∏–ø `text`) | –ê–Ω–∞–ª–æ–≥ `->>` –¥–ª—è –ø—É—Ç–µ–π (path), –Ω–∞–ø—Ä–∏–º–µ—Ä, `'{parent,child}'`. |

**–ö–ª—é—á–µ–≤–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ:**
```sql
-- –î–æ–ø—É—Å—Ç–∏–º, –≤ raw_user_meta_data —Ö—Ä–∞–Ω–∏—Ç—Å—è: {"profile": {"name": "–ê–ª–µ–∫—Å–µ–π", "city": "–ú–æ—Å–∫–≤–∞"}}

SELECT 
    raw_user_meta_data -> 'profile'  AS json_fragment,
    raw_user_meta_data ->> 'profile' AS text_fragment
FROM auth.users;
–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç:

json_fragment	text_fragment
{"name": "–ê–ª–µ–∫—Å–µ–π", "city": "–ú–æ—Å–∫–≤–∞"} (—Ç–∏–ø jsonb, –º–æ–∂–Ω–æ –∏–∑–≤–ª–µ—á—å –¥–∞–ª—å—à–µ ->)	'{"name": "–ê–ª–µ–∫—Å–µ–π", "city": "–ú–æ—Å–∫–≤–∞"}' (—Ç–∏–ø text, –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∞)
üí° –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ ->> —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ auth.users?
–ü–æ–ª—è raw_app_meta_data –∏ raw_user_meta_data –≤ —Ç–∞–±–ª–∏—Ü–µ auth.users –∏–º–µ—é—Ç —Ç–∏–ø jsonb. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —ç—Ç–∏—Ö JSON-–æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤ —É—Å–ª–æ–≤–∏—è—Ö WHERE –∏–ª–∏ –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ SELECT, –Ω—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∏—Ö –≤ —Å–∫–∞–ª—è—Ä–Ω—ã–µ —Ç–∏–ø—ã.

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (—Å ->>):
sql
-- –ü–æ–ª—É—á–∏—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞–∫ —Ç–µ–∫—Å—Ç
SELECT raw_user_meta_data ->> 'full_name' AS user_name FROM auth.users;

-- –ù–∞–π—Ç–∏ –≤—Å–µ—Ö, –∫—Ç–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è —á–µ—Ä–µ–∑ Google (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ WHERE!)
SELECT email FROM auth.users 
WHERE raw_app_meta_data ->> 'provider' = 'google';

-- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞–Ω–Ω—ã–º –∏–∑ JSON (–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ–∫—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç)
SELECT * FROM auth.users 
ORDER BY raw_user_meta_data ->> 'nickname';
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û / –ù–ï–£–î–û–ë–ù–û (—Å ->):
sql
-- –ü–æ–ø—ã—Ç–∫–∞ —Å—Ä–∞–≤–Ω–∏—Ç—å JSONB —Å–æ —Å—Ç—Ä–æ–∫–æ–π (—á–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞!)
SELECT email FROM auth.users 
WHERE raw_app_meta_data -> 'provider' = 'google'; 
-- –û–®–ò–ë–ö–ê: operator does not exist: jsonb = unknown
-- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å —Ç–∏–ø jsonb ('"google"') —Å–æ —Å—Ç—Ä–æ–∫–æ–π ('google')

-- –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ `->` –∏ —è–≤–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–∞ (–≥—Ä–æ–º–æ–∑–¥–∫–æ)
SELECT (raw_user_meta_data -> 'full_name')::text AS user_name FROM auth.users;
-- –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ `->>` –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ –∫–æ—Ä–æ—á–µ
üõ†Ô∏è –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –≤–∞—à–µ–≥–æ Supabase
–ü—Ä–∏–º–µ—Ä 1: –ü–æ–ª—É—á–µ–Ω–∏–µ provider –∏ providers
sql
-- –ü–æ–ª—É—á–∞–µ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∫–∞–∫ —Ç–µ–∫—Å—Ç
SELECT 
    id, 
    email,
    raw_app_meta_data ->> 'provider' as primary_auth_method, -- TEXT
    raw_app_meta_data -> 'providers' as all_providers_array  -- JSONB (–º–∞—Å—Å–∏–≤)
FROM auth.users;
–ü—Ä–∏–º–µ—Ä 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
sql
-- –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –≤ raw_user_meta_data –ª–µ–∂–∏—Ç: 
-- {"profile": {"name": "–ò–≤–∞–Ω", "social": {"twitter": "@ivan"}}}

SELECT 
    raw_user_meta_data -> 'profile' ->> 'name' AS name, -- TEXT: "–ò–≤–∞–Ω"
    raw_user_meta_data #>> '{profile, social, twitter}' AS twitter, -- TEXT: "@ivan"
    raw_user_meta_data -> 'profile' -> 'social' ->> 'twitter' AS twitter_alt -- –¢–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ –ø–æ—ç—Ç–∞–ø–Ω–æ
FROM auth.users;
–ü—Ä–∏–º–µ—Ä 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ WHERE –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
sql
-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Å–ø–æ—Å–æ–±—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
SELECT 
    raw_app_meta_data ->> 'provider' as provider,
    COUNT(*) as user_count
FROM auth.users
WHERE raw_app_meta_data ->> 'provider' IS NOT NULL
GROUP BY raw_app_meta_data ->> 'provider';

-- –ü–æ–∏—Å–∫ –ø–æ –ø–æ–ª—é –≤–Ω—É—Ç—Ä–∏ JSON (–≤–∞–∂–Ω–æ: –∫–ª—é—á —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É!)
SELECT email 
FROM auth.users 
WHERE raw_user_meta_data ->> 'city' = '–ú–æ—Å–∫–≤–∞';
‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏
–°–∏—Ç—É–∞—Ü–∏—è	–ü–æ–≤–µ–¥–µ–Ω–∏–µ ->>	–†–µ—à–µ–Ω–∏–µ
–ö–ª—é—á –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç	–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç NULL	–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ COALESCE(value ->> 'key', 'default')
–ó–Ω–∞—á–µ–Ω–∏–µ ‚Äî –Ω–µ —Å—Ç—Ä–æ–∫–∞	–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ text (—á–∏—Å–ª–æ, boolean, null)	'30', 'true', '' (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è null)
–ö–ª—é—á —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É	->> 'Name' ‚â† ->> 'name'	–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—á–Ω–æ–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–ª—é—á–∞
–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ –º–∞—Å—Å–∏–≤–∞	–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é	–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ -> –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞: data -> 0 ->> 'key'
–ü—Ä–∏–º–µ—Ä —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–ª—é—á–æ–º:

sql
-- –ï—Å–ª–∏ –∫–ª—é—á–∞ 'nickname' –Ω–µ—Ç, –≤–µ—Ä–Ω—ë—Ç—Å—è NULL
SELECT 
    email,
    raw_user_meta_data ->> 'nickname' as nickname, -- –ú–æ–∂–µ—Ç –±—ã—Ç—å NULL
    COALESCE(raw_user_meta_data ->> 'nickname', email) as display_name -- –ó–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
FROM auth.users;
üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞: –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
–í–∞—à–∞ –∑–∞–¥–∞—á–∞	–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä	–ü—Ä–∏–º–µ—Ä
–ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫ —Ç–µ–∫—Å—Ç –¥–ª—è –≤—ã–≤–æ–¥–∞ –∏–ª–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è	->>	metadata ->> 'key'
–ü–æ–ª—É—á–∏—Ç—å JSON-—Ñ—Ä–∞–≥–º–µ–Ω—Ç –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –∏–∑–≤–ª–µ—á–µ–Ω–∏–π	->	metadata -> 'profile' -> 'address'
–†–∞–±–æ—Ç–∞ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –ø—É—Ç—è–º–∏ (–±–æ–ª–µ–µ 1 —É—Ä–æ–≤–Ω—è)	#>> (path) –∏–ª–∏ —Ü–µ–ø–æ—á–∫–∞ ->	metadata #>> '{profile,address,city}'
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞	? (–¥–ª—è jsonb)	metadata ? 'key'
–ò–∑–≤–ª–µ—á—å —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞	-> —Å –∏–Ω–¥–µ–∫—Å–æ–º	metadata -> 'items' -> 0 ->> 'name'
üíé –ì–ª–∞–≤–Ω—ã–π –≤—ã–≤–æ–¥
->> ‚Äî —ç—Ç–æ –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ JSON-–ø–æ–ª–µ–π (raw_app_meta_data, raw_user_meta_data) –≤ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ:

—Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –≤ WHERE

–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ GROUP BY

–∫–æ–Ω–∫–∞—Ç–µ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏

–≤—ã–≤–æ–¥–∏—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –∑–∞–ø—Ä–æ—Å–∞

–ü—Ä–æ—Å—Ç–∞—è –º–Ω–µ–º–æ–Ω–∏–∫–∞:

-> = "–¥–∞–π –º–Ω–µ JSON" (–æ–¥–∏–Ω —à–∞–≥)

->> = "–¥–∞–π –º–Ω–µ —Ç–µ–∫—Å—Ç –∏–∑ JSON" (–¥–≤–∞ —à–∞–≥–∞: –∏–∑–≤–ª–µ–∫–∏ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–π)

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –≤—ã –≤–∏–¥–∏—Ç–µ –≤ –∑–∞–ø—Ä–æ—Å–µ raw_app_meta_data ->> 'provider', –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ, —á—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç: "–≤–æ–∑—å–º–∏ –∏–∑ JSON-–ø–æ–ª—è raw_app_meta_data –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É provider –∏ –≤–µ—Ä–Ω–∏ –µ–≥–æ –∫–∞–∫ –æ–±—ã—á–Ω—É—é —Ç–µ–∫—Å—Ç–æ–≤—É—é —Å—Ç—Ä–æ–∫—É".

text
—Å–æ—Å—Ç–∞–≤—å  RLS –ø–æ —Ç–∞–±–ª–∏—á–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ö–µ–º—ã
Read 10 web pages
–í–æ—Ç –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ RLS –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ö–µ–º—ã –≤–∞—à–µ–≥–æ self-hosted Supabase —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –ø–æ–ª–∏—Ç–∏–∫. –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–º—É –ø–∞—Ç—Ç–µ—Ä–Ω—É –æ–±–µ—Å–ø–µ—á–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –¥–æ—Å—Ç—É–ø.

üìå –ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º
–í–∞–∂–Ω–æ: RLS –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –≤ —Å—Ö–µ–º–∞—Ö, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–µ—Ä–µ–∑ API (—Ç–∞–∫–∏—Ö –∫–∞–∫ public). –ü–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è RLS –±–µ–∑ –ø–æ–ª–∏—Ç–∏–∫ –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø—Ä–µ—â–µ–Ω.

–ê–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã:

–í–∫–ª—é—á–∏—Ç—å RLS: ALTER TABLE schema.table_name ENABLE ROW LEVEL SECURITY;

–°–æ–∑–¥–∞—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏: –î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π SELECT, INSERT, UPDATE, DELETE —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ä–æ–ª–µ–π (TO authenticated, TO anon).

–ù–∞–ø–∏—Å–∞—Ç—å —É—Å–ª–æ–≤–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å USING (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç—Ä–æ–∫) –∏ WITH CHECK (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤—ã—Ö –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö).

üè† –°—Ö–µ–º–∞ public (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
–≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ö–µ–º–∞ –¥–ª—è –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–∏–º–µ—Ä—ã –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –≤–∞—à–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö (projects, users, subscriptions).

–®–∞–≥ 1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å –≤–Ω–µ—à–Ω–∏–º –∫–ª—é—á–æ–º –Ω–∞ auth.users
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ public, –∞ –Ω–µ –¥–∞–≤–∞—Ç—å –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ auth.users. –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –∏ –≥–∏–±—á–µ.

sql
-- –ü—Ä–∏–º–µ—Ä –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã public.profiles
CREATE TABLE public.profiles (
  id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE PRIMARY KEY,
  username TEXT,
  avatar_url TEXT
);
ALTER TABLE public.profiles ENABLE ROW LEVEL SECURITY;[citation:9]
–®–∞–≥ 2. –¢–∏–ø–æ–≤—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è public.profiles

sql
-- 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ø–æ–∏—Å–∫–∞)
CREATE POLICY "–ü—É–±–ª–∏—á–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –≤–∏–¥–Ω—ã –≤—Å–µ–º –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º"
ON public.profiles FOR SELECT
TO authenticated
USING (true);[citation:1][citation:10]

-- 2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –í–ò–î–ï–¢–¨ –∏ –û–ë–ù–û–í–õ–Ø–¢–¨ —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
CREATE POLICY "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å"
ON public.profiles FOR SELECT
TO authenticated
USING ( (SELECT auth.uid()) = id );[citation:1]

CREATE POLICY "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å"
ON public.profiles FOR UPDATE
TO authenticated
USING ( (SELECT auth.uid()) = id )
WITH CHECK ( (SELECT auth.uid()) = id );[citation:1]

-- 3. –ù–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç—Ä–∏–≥–≥–µ—Ä–æ–º –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏[citation:4]
–®–∞–≥ 3. –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ public.profiles, –∫–æ–≥–¥–∞ –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ auth.users.

sql
CREATE OR REPLACE FUNCTION public.handle_new_user()
RETURNS TRIGGER
LANGUAGE plpgsql
SECURITY DEFINER SET search_path = '' -- –í–∞–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
AS $$
BEGIN
  INSERT INTO public.profiles (id)
  VALUES (NEW.id);
  RETURN NEW;
END;
$$;

CREATE TRIGGER on_auth_user_created
  AFTER INSERT ON auth.users
  FOR EACH ROW
  EXECUTE FUNCTION public.handle_new_user();[citation:9]
–®–∞–≥ 4. –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü (–Ω–∞–ø—Ä–∏–º–µ—Ä, projects –∏ user_projects)
–î–ª—è —Å–≤—è–∑–∏ –º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—Å–ª–æ–≤–∏–µ —á–µ—Ä–µ–∑ —Å–≤—è–∑–∞–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É.

sql
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å –ø—Ä–æ–µ–∫—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω–∏ —Å–æ—Å—Ç–æ—è—Ç
CREATE POLICY "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Å–≤–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã"
ON public.projects FOR SELECT
TO authenticated
USING (
  id IN (
    SELECT project_id FROM public.user_projects
    WHERE user_id = (SELECT auth.uid())
  )
);
üîê –°—Ö–µ–º–∞ auth (—Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
‚ö†Ô∏è –ü—Ä—è–º–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ RLS –¥–ª—è auth.users –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:

–ù–µ –≤–∫–ª—é—á–∞–π—Ç–µ RLS –Ω–∞ —Ç–∞–±–ª–∏—Ü–∞—Ö auth (–æ–Ω–∏ –∑–∞—â–∏—â–µ–Ω—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ö–µ–º—ã).

–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Admin API –∏–ª–∏ –∫–ª—é—á service_role, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ö–æ–¥–∏—Ç RLS.

–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å SECURITY DEFINER.

–ü—Ä–∏–º–µ—Ä –∑–∞—â–∏—â–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

sql
CREATE OR REPLACE FUNCTION public.delete_user_safe(target_user_id UUID)
RETURNS void
LANGUAGE plpgsql
SECURITY DEFINER SET search_path = ''
AS $$
BEGIN
  -- –í–∞—à–∞ –∫–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ email –≤ JWT
  IF EXISTS (
    SELECT 1 FROM auth.users
    WHERE id = target_user_id
    AND email = current_setting('request.jwt.claim.email', true)
  ) THEN
    DELETE FROM auth.users WHERE id = target_user_id;
  ELSE
    RAISE EXCEPTION '–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω';
  END IF;
END;
$$;
-- –í—ã–∑—ã–≤–∞—Ç—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–æ–ª—å —Å –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏
GRANT EXECUTE ON FUNCTION public.delete_user_safe TO authenticated;
üóÇÔ∏è –°—Ö–µ–º–∞ storage (—Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
–î–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º –≤ Supabase Storage —Ç–∞–∫–∂–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è RLS-–ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü storage.objects –∏ storage.buckets.

–ü—Ä–∏–º–µ—Ä –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –±–∞–∫–µ—Ç–∞ "documents":

sql
-- 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–∞–π–ª—ã —Ç–æ–ª—å–∫–æ –≤ —Å–≤–æ–∏ –ø–∞–ø–∫–∏
CREATE POLICY "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–∞–π–ª—ã –≤ —Å–≤–æ–∏ –ø–∞–ø–∫–∏"
ON storage.objects FOR INSERT
TO authenticated
WITH CHECK (
  bucket_id = 'documents'
  AND (storage.foldername(name))[1] = (SELECT auth.uid())::text
);

-- 2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª—ã —Ç–æ–ª—å–∫–æ –∏–∑ —Å–≤–æ–∏—Ö –ø–∞–ø–æ–∫
CREATE POLICY "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å —Å–≤–æ–∏ —Ñ–∞–π–ª—ã"
ON storage.objects FOR SELECT
TO authenticated
USING (
  bucket_id = 'documents'
  AND (storage.foldername(name))[1] = (SELECT auth.uid())::text
);
üîÅ –°—Ö–µ–º—ã realtime, vault, drizzle (—Å–ª—É–∂–µ–±–Ω—ã–µ)
–î–ª—è —ç—Ç–∏—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å—Ö–µ–º –¥–µ–π—Å—Ç–≤—É–µ—Ç –æ–±—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ: –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º —Ä–æ–ª—è–º (anon, authenticated).

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥:

–ù–µ –≤–∫–ª—é—á–∞–π—Ç–µ RLS –≤ —ç—Ç–∏—Ö —Å—Ö–µ–º–∞—Ö.

–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –¥–æ—Å—Ç—É–ø–æ–º –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π (GRANT/REVOKE). –û—Å—Ç–∞–≤—å—Ç–µ –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–ª—É–∂–µ–±–Ω—ã—Ö —Ä–æ–ª–µ–π (service_role, supabase_admin, supabase_realtime_admin).

–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–π—Ç–µ —Å –∏—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ API (Realtime, Vault) –∏–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Drizzle Kit).

üéØ –®–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ª—é–±–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏
–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–∏—Ç–∏–∫ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω, –∑–∞–º–µ–Ω—è—è {...} –Ω–∞ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è:

sql
CREATE POLICY "{–ù–∞–∑–≤–∞–Ω–∏–µ: –∫—Ç–æ –∏ —á—Ç–æ –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å}"
ON {schema_name}.{table_name}
FOR {SELECT | INSERT | UPDATE | DELETE} -- –£–∫–∞–∂–∏—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—é[citation:8]
TO {authenticated | anon | authenticated, anon} -- –£–∫–∞–∂–∏—Ç–µ —Ä–æ–ª—å[citation:1]
USING ( {–≤–∞—à–µ_—É—Å–ª–æ–≤–∏–µ_–¥–ª—è_—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö_—Å—Ç—Ä–æ–∫} ); -- –î–ª—è SELECT, UPDATE, DELETE

-- –î–ª—è INSERT –∏ UPDATE —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è WITH CHECK[citation:1]
WITH CHECK ( {–≤–∞—à–µ_—É—Å–ª–æ–≤–∏–µ_–¥–ª—è_–Ω–æ–≤—ã—Ö_–¥–∞–Ω–Ω—ã—Ö} );
–ü—Ä–∏–º–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞:

sql
CREATE POLICY "–ê–≤—Ç–æ—Ä—ã –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å —Å–≤–æ–∏ —Å—Ç–∞—Ç—å–∏"
ON public.articles
FOR DELETE
TO authenticated
USING ( author_id = (SELECT auth.uid()) );
–ù–∞—á–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å —Å–∞–º–æ–π –≤–∞–∂–Ω–æ–π —Å—Ö–µ–º—ã ‚Äî public. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∏ –∂–µ–ª–∞–µ–º–∞—è –ª–æ–≥–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞, –æ–ø–∏—à–∏—Ç–µ –∏—Ö ‚Äî —è –ø–æ–º–æ–≥—É —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ—á–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–ª–∏—Ç–∏–∫.

–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏ –∫—É–¥–∞ –ø–æ–ª–æ–∂–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è self-hosting
–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π –¥–ª—è self-hosted Supabase ‚Äî –∫–ª—é—á–µ–≤–æ–π —ç—Ç–∞–ø, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –ø–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å –≤–∞—à–µ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

üìÅ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
text
your-supabase-project/
‚îú‚îÄ‚îÄ docker-compose.yml              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .env                            # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–≤ .gitignore!)
‚îú‚îÄ‚îÄ volumes/
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ init-scripts/          # –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 00-schema.sql
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 01-auth-schema.sql
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ migrations/            # –ü–æ–≤—Ç–æ—Ä—è–µ–º—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ 20240101000000_create_projects_table.sql
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ 20240102000000_add_user_settings.sql
‚îÇ   ‚îú‚îÄ‚îÄ storage/                    # –î–ª—è –¥–∞–Ω–Ω—ã—Ö storage
‚îÇ   ‚îî‚îÄ‚îÄ logs/                       # –õ–æ–≥–∏
‚îî‚îÄ‚îÄ README.md
üìù –¢–∏–ø—ã —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
1. –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (volumes/db/init-scripts/)
–°–æ–∑–¥–∞—é—Ç –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ö–µ–º, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–æ–ª–∏.

–ü—Ä–∏–º–µ—Ä: 00-schema.sql

sql
-- –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
CREATE SCHEMA IF NOT EXISTS app;
CREATE SCHEMA IF NOT EXISTS billing;

-- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS "pgcrypto";

-- –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
CREATE ROLE app_user WITH LOGIN PASSWORD 'change_me_in_prod' NOSUPERUSER;
GRANT CONNECT ON DATABASE postgres TO app_user;
GRANT USAGE ON SCHEMA public TO app_user;
GRANT USAGE ON SCHEMA app TO app_user;
2. –ü–æ–≤—Ç–æ—Ä—è–µ–º—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (volumes/db/migrations/)
–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ timestamp-based naming.

–ü—Ä–∏–º–µ—Ä: 20240101000000_create_projects_table.sql

sql
-- +migrate Up
CREATE TABLE public.projects (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name TEXT NOT NULL,
    owner_id UUID NOT NULL REFERENCES auth.users(id),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_projects_owner_id ON public.projects(owner_id);

-- –í–∫–ª—é—á–∞–µ–º RLS —Å—Ä–∞–∑—É
ALTER TABLE public.projects ENABLE ROW LEVEL SECURITY;

-- –ë–∞–∑–æ–≤–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞
CREATE POLICY "–í–ª–∞–¥–µ–ª—å—Ü—ã –≤–∏–¥—è—Ç —Å–≤–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã"
    ON public.projects FOR ALL
    TO authenticated
    USING (owner_id = auth.uid());

-- +migrate Down
DROP TABLE IF EXISTS public.projects;
3. –°–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (volumes/db/init-data/)
–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤, —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Ç–æ–ª—å–∫–æ –¥–ª—è dev/staging).

–ü—Ä–∏–º–µ—Ä: 01-seed_countries.sql

sql
INSERT INTO public.countries (code, name) VALUES
    ('US', 'United States'),
    ('RU', 'Russia')
ON CONFLICT (code) DO NOTHING;
üîÑ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞–ø–∫–∏ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π –≤ docker-compose.yml
–í –≤–∞—à–µ–º docker-compose.yml –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å volume-–º–∞—É–Ω—Ç—ã:

yaml
services:
  db:
    image: supabase/postgres:15.8.1.085
    volumes:
      # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (–≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ü–ï–†–í–û–ú –∑–∞–ø—É—Å–∫–µ)
      - ./volumes/db/init-scripts:/docker-entrypoint-initdb.d/init-scripts:Z
      # –ú–∏–≥—Ä–∞—Ü–∏–∏ (–≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ, –µ—Å–ª–∏ –µ—Å—Ç—å –Ω–æ–≤—ã–µ)
      - ./volumes/db/migrations:/docker-entrypoint-initdb.d/migrations:Z
      # –î–∞–Ω–Ω—ã–µ –ë–î
      - ./volumes/db/data:/var/lib/postgresql/data:Z
‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–∏–≥—Ä–∞—Ü–∏–π
–°–ø–æ—Å–æ–± 1: –ù–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ Supabase (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ migrate.sh, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –µ—Å—Ç—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:

bash
#!/bin/bash
# deploy.sh

# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose down

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ volumes
cp -r ./new-migrations/* ./volumes/db/migrations/

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
docker compose up -d

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –º–∏–≥—Ä–∞—Ü–∏–π
docker compose logs db | grep -A5 -B5 "migrate"
–°–ø–æ—Å–æ–± 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –º–∏–≥—Ä–∞—Ü–∏–π
–í–∞—Ä–∏–∞–Ω—Ç A: Drizzle ORM (–µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –µ–≥–æ)

bash
# 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ö–µ–º—ã
npx drizzle-kit generate

# 2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npx drizzle-kit migrate

# 3. –í–∞—à–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–æ–ø–∞–¥—É—Ç –≤ —Å—Ö–µ–º—É drizzle.__drizzle_migrations
–í–∞—Ä–∏–∞–Ω—Ç B: Flyway/Liquibase

bash
# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è Flyway
volumes/db/migrations/
‚îú‚îÄ‚îÄ V1__Initial_schema.sql
‚îú‚îÄ‚îÄ V2__Add_user_roles.sql
‚îî‚îÄ‚îÄ R__Seed_data.sql
üöÄ –ü–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
–®–∞–≥ 1: –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
bash
# 1. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
echo "-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã" > ./volumes/db/migrations/$(date +%Y%m%d%H%M%S)_create_table.sql

# 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
docker compose down
docker compose up -d db

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
docker exec -it supabase-db psql -U postgres -c "\dt public.*"
–®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
bash
# –°–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏–≤ —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
tar -czf migrations-$(date +%Y%m%d).tar.gz \
  volumes/db/init-scripts/ \
  volumes/db/migrations/ \
  docker-compose.prod.yml \
  .env.example
–®–∞–≥ 3: –ü—Ä–æ–¥–∞–∫—à–µ–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
bash
# –ù–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Å–µ—Ä–≤–µ—Ä–µ
scp migrations-20240101.tar.gz user@production-server:/opt/supabase/

ssh user@production-server
cd /opt/supabase
tar -xzf migrations-20240101.tar.gz

# –ó–∞–ø—É—Å–∫ (–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–π, –ø—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏, –∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤—ã–π)
docker compose -f docker-compose.prod.yml down
docker compose -f docker-compose.prod.yml up -d

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–∏–≥—Ä–∞—Ü–∏–π
tail -f /opt/supabase/volumes/logs/postgres.log | grep "migrate"
üõ°Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è production
1. –í—Å–µ–≥–¥–∞ –∏–º–µ–π—Ç–µ –æ—Ç–∫–∞—Ç (down-–º–∏–≥—Ä–∞—Ü–∏–∏)
sql
-- –í –ö–ê–ñ–î–û–ô –º–∏–≥—Ä–∞—Ü–∏–∏:
-- +migrate Up
ALTER TABLE users ADD COLUMN IF NOT EXISTS phone_verified BOOLEAN DEFAULT false;

-- +migrate Down
ALTER TABLE users DROP COLUMN IF EXISTS phone_verified;
2. –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–π
sql
-- –ü–†–ê–í–ò–õ–¨–ù–û:
CREATE TABLE IF NOT EXISTS subscriptions (...);
ALTER TABLE users ADD COLUMN IF NOT EXISTS subscription_id UUID;

-- –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
CREATE TABLE subscriptions (...); -- –£–ø–∞–¥–µ—Ç –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ
3. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π
bash
# –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ—Ä—Å–∏–π
#!/bin/bash
LAST_MIGRATION=$(ls -1 volumes/db/migrations/ | tail -1)
DB_VERSION=$(docker exec supabase-db psql -U postgres -t -c "SELECT version FROM schema_migrations ORDER BY version DESC LIMIT 1")

if [[ "$LAST_MIGRATION" > "$DB_VERSION" ]]; then
    echo "–ï—Å—Ç—å –Ω–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è"
    exit 1
fi
4. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
bash
#!/bin/bash
# backup-before-migrate.sh
BACKUP_FILE="backup-$(date +%Y%m%d-%H%M%S).sql"
docker exec supabase-db pg_dumpall -U postgres > ./backups/${BACKUP_FILE}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–∞–ø–∞
if [ $(wc -l < ./backups/${BACKUP_FILE}) -gt 100 ]; then
    echo "Backup —É—Å–ø–µ—à–µ–Ω"
else
    echo "Backup FAILED!"
    exit 1
fi
üìä –¢–∞–±–ª–∏—Ü–∞: –ì–¥–µ —á—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å
–¢–∏–ø —Å–∫—Ä–∏–ø—Ç–∞	–ü–∞–ø–∫–∞	–ö–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è	–ü—Ä–∏–º–µ—Ä
–†–∞—Å—à–∏—Ä–µ–Ω–∏—è, —Å—Ö–µ–º—ã, —Ä–æ–ª–∏	init-scripts/	–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ë–î	CREATE EXTENSION "uuid-ossp";
–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã	migrations/	–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ, –µ—Å–ª–∏ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è	ALTER TABLE ... ADD COLUMN ...
–¢–µ—Å—Ç–æ–≤—ã–µ/–Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ	init-data/	–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–π (—Ç–æ–ª—å–∫–æ dev)	INSERT INTO countries ...
–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏	backups/	–ü–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –≤ prod	pg_dumpall
üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º
–î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤:
–ü–∞–ø–∫–∞ migrations/ + —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞

–î–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
Drizzle ORM ‚Äî –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ TypeScript

Sqitch ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

Flyway ‚Äî Java-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –Ω–æ –º–æ—â–Ω—ã–π

–î–ª—è enterprise:
–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π CI/CD –ø–∞–π–ø–ª–∞–π–Ω —Å —ç—Ç–∞–ø–∞–º–∏:

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –Ω–∞ staging

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø

–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (blue-green)

üö® –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–µ
–û—à–∏–±–∫–∞	–ü—Ä–∏—á–∏–Ω–∞	–†–µ—à–µ–Ω–∏–µ
–ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è	–§–∞–π–ª—ã –≤ wrong encoding / BOM	dos2unix migrations/*.sql
"Permission denied"	–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ volumes	chmod -R 755 volumes/db/
–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π	–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ init-—Å–∫—Ä–∏–ø—Ç–æ–≤	–†–∞–∑–¥–µ–ª–∏—Ç–µ init-scripts –∏ migrations
RLS –±–ª–æ–∫–∏—Ä—É–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏	–ú–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–µ –æ—Ç service_role	–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SET ROLE service_role; –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö
üéØ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä
docker-compose.yml:

yaml
version: '3.8'
services:
  db:
    image: supabase/postgres:15.8.1.085
    volumes:
      - ./db/init-scripts:/docker-entrypoint-initdb.d/init-scripts:ro
      - ./db/migrations:/docker-entrypoint-initdb.d/migrations:ro
      - db_data:/var/lib/postgresql/data
    environment:
      POSTGRES_PASSWORD: ${DB_PASSWORD}

volumes:
  db_data:
–ü–µ—Ä–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è db/migrations/001_init.sql:

sql
-- –í–∫–ª—é—á–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS "pgcrypto";

-- –ë–∞–∑–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
CREATE TABLE IF NOT EXISTS public.profiles (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID UNIQUE REFERENCES auth.users(id) ON DELETE CASCADE,
    username TEXT UNIQUE,
    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- –í–∫–ª—é—á–∏—Ç—å RLS
ALTER TABLE public.profiles ENABLE ROW LEVEL SECURITY;

-- –ü—Ä–æ—Å—Ç–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞
CREATE POLICY "Users can read all profiles"
    ON public.profiles FOR SELECT
    TO authenticated
    USING (true);

CREATE POLICY "Users can update own profile"
    ON public.profiles FOR UPDATE
    TO authenticated
    USING (user_id = auth.uid());
–ù–∞—á–Ω–∏—Ç–µ —Å —ç—Ç–æ–π –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ –º–µ—Ä–µ —Ä–æ—Å—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞.

–í –∫–∞–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö https://supabase.com/dashboard/project/jjobfmtteiratyicsjfn/auth/providers
Read 10 web pages
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–≤—Ä–æ–¥–µ Google –∏–ª–∏ GitHub) –≤ –≤–∞—à–µ–º self-hosted Supabase —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö —Å—Ö–µ–º—ã auth: auth.users –∏ auth.identities.

üîç –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö
–¢–∞–±–ª–∏—Ü–∞	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ	–ö–ª—é—á–µ–≤–æ–µ –ø–æ–ª–µ / –û–ø–∏—Å–∞–Ω–∏–µ
auth.users	–û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.	app_metadata (raw_app_meta_data –≤ –ë–î): —Ö—Ä–∞–Ω–∏—Ç –æ—Å–Ω–æ–≤–Ω–æ–π (provider) –∏ —Å–ø–∏—Å–æ–∫ (providers) –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∞–∫–∫–∞—É–Ω—Ç–æ–º.
auth.identities	–¢–∞–±–ª–∏—Ü–∞ —Å–≤—è–∑–µ–π "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-–ø—Ä–æ–≤–∞–π–¥–µ—Ä". –•—Ä–∞–Ω–∏—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–π —Å–≤—è–∑–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º–µ Google).	provider: —Ç–∏–ø –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'google', 'github', 'email').
identity_data: –ø—Ä–æ—Ñ–∏–ª—å, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–≤ —Ñ–æ—Ä–º–∞—Ç–µ JSONB).
üìù –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö
–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á–µ—Ä–µ–∑ –∫–∞–∫–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏:

sql
-- –í SQL Editor Studio –∏–ª–∏ —á–µ—Ä–µ–∑ psql
SELECT id, email, raw_app_meta_data -> 'providers' AS providers
FROM auth.users;
–†–µ–∑—É–ª—å—Ç–∞—Ç (–ø—Ä–∏–º–µ—Ä):

text
id | email               | providers
---|---------------------|---------------------------
...| user@example.com    | ["email", "google"]
–≠—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ email/–ø–∞—Ä–æ–ª—å –∏ Google.

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∫–∞–∂–¥–æ–π —Å–≤—è–∑–∏:

sql
-- –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã identities
SELECT user_id, provider, identity_data
FROM auth.identities
ORDER BY user_id;
–†–µ–∑—É–ª—å—Ç–∞—Ç (–ø—Ä–∏–º–µ—Ä):

text
user_id | provider | identity_data
--------|----------|-------------------------------------------------------
...     | email    | {"sub": "...", "email": "user@example.com"}
...     | google   | {"sub": "1134...", "email": "...", "full_name": "..."}
–ù–∞–π—Ç–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä:

sql
-- –í—Å–µ, –∫—Ç–æ –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google
SELECT id, email
FROM auth.users
WHERE raw_app_meta_data -> 'providers' ? 'google';
üí° –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å vs. –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å
–û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (auth.users) –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–µ–π (auth.identities). –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—Ö–æ–¥–∏—Ç—å –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∞–∫–∫–∞—É–Ω—Ç —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏.

–ü–µ—Ä–≤—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è, –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ raw_app_meta_data->>'provider'.

–í—Å–µ —Å–ø–æ—Å–æ–±—ã –≤—Ö–æ–¥–∞ (–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤–µ raw_app_meta_data->'providers'.

‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
–ù–µ –ø—É—Ç–∞–π—Ç–µ auth.users —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ –≤ —Å—Ö–µ–º–µ public. auth.users ‚Äî —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–∏—Å—Ç–µ–º–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞.

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å RLS-–ø–æ–ª–∏—Ç–∏–∫–∏ –∏ –Ω–µ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ auth.users –∏–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Admin API –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É –ø—Ä–æ—Ñ–∏–ª–µ–π –≤ —Å—Ö–µ–º–µ public, —Å–≤—è–∑–∞–≤ –µ—ë –ø–æ id.

–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Studio (–≤–∫–ª–∞–¥–∫–∞ Providers) –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ auth –∏ –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ. –ò—Ö —Å–ø–∏—Å–æ–∫ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ –∫–∞–∫ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –∑–∞–ø—Ä–æ—Å–æ–º –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —É–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç.

–≠—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö(–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö) –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö. –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–±–æ –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã, –Ω–æ –µ—â–µ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã ?
Read 10 web pages
–í –≤–∞—à–µ–º self-hosted Supabase –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Email, Google, GitHub) —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö, –∞ –Ω–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç –µ—ë –æ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É–∂–µ –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö.

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫:

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—á—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ): –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª docker-compose.yml –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞ auth (GoTrue).

–°–æ—Å—Ç–æ—è–Ω–∏–µ (–∫—Ç–æ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª): –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö auth.users –∏ auth.identities.

üìÅ –ì–¥–µ –∏ –∫–∞–∫ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ö–∞–Ω–∏–∑–º ‚Äî —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ supabase-auth. –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤ docker-compose.yml –≤—ã —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é GOTRUE_EXTERNAL_ANONYMOUS_USERS_ENABLED=true.

–î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (OAuth, SMS) –Ω—É–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã. –í–æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMS —á–µ—Ä–µ–∑ Twilio:

text
[auth.sms.twilio]       # –ë–ª–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
enabled = true          # –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
account_sid = "..."     # ID –∞–∫–∫–∞—É–Ω—Ç–∞ Twilio
auth_token = "..."      # –°–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω (—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è!)
–î–ª—è OAuth-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (Google, GitHub) –≤ docker-compose.yml —Ç–∞–∫–∂–µ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è CLIENT_ID, CLIENT_SECRET –∏ REDIRECT_URI. –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Auth.

–í–∞–∂–Ω—ã–π –Ω—é–∞–Ω—Å –¥–ª—è self-hosted: –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±–ª–∞—á–Ω–æ–≥–æ Supabase, –≥–¥–µ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Dashboard), –≤ –≤–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –ø—É—Ç—ë–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

üóÉÔ∏è –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –≤ –ë–î —Ç–∞–±–ª–∏—Ü–∞ auth.sso_providers
–í –≤–∞—à–µ–π –±–∞–∑–µ –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ auth.sso_providers, –∫–æ—Ç–æ—Ä–∞—è –≤ self-hosted –æ–∫—Ä—É–∂–µ–Ω–∏–∏ —á–∞—â–µ –≤—Å–µ–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ø—Ä–∞–≤–æ—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é. –ï—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ–±—ã—á–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–∏ (—Ç–µ —Å–∞–º—ã–µ 7 –∑–∞–ø–∏—Å–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –≤–∏–¥–µ–ª–∏). –û–Ω–∞ —Å–ª—É–∂–∏—Ç —Å–∫–æ—Ä–µ–µ –∫–∞–∫ –∫–∞—Ç–∞–ª–æ–≥ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –Ω–æ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∏—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:

sql
SELECT * FROM auth.sso_providers ORDER BY resource_id;
üíé –ö—Ä–∞—Ç–∫–∏–π –∏—Ç–æ–≥
–ß—Ç–æ	–ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è	–ö–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å
–°–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤	1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ docker-compose.yml
2. (–°–ø—Ä–∞–≤–æ—á–Ω–æ) –¢–∞–±–ª–∏—Ü–∞ auth.sso_providers	–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å YAML-–∫–æ–Ω—Ñ–∏–≥ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å auth
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–º, –∫–∞–∫–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∫–∞–∫–∏–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å	–¢–∞–±–ª–∏—Ü—ã auth.users (–ø–æ–ª–µ raw_app_meta_data) –∏ auth.identities	–ß–µ—Ä–µ–∑ –ø—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ –≤–∞—à self-hosted –ø—Ä–æ–µ–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, Apple Sign-In), –≤–∞–º –Ω—É–∂–Ω–æ:

–î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–µ–∫—Ü–∏–∏ —Å CLIENT_ID –∏ SECRET –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ auth –≤ docker-compose.yml.

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (docker-compose up -d auth).

–ï—Å–ª–∏ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –∫–∞–∫–æ–π-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä, —Å–æ–æ–±—â–∏—Ç–µ, –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ ‚Äî —è –ø–æ–º–æ–≥—É —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ö–∞–Ω–∏–∑–º ‚Äî —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ supabase-auth. –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤ docker-compose.yml –≤—ã —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é GOTRUE_EXTERNAL_ANONYMOUS_USERS_ENABLED=true.

–î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (OAuth, SMS) –Ω—É–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã. –í–æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMS —á–µ—Ä–µ–∑ Twilio:

text
[auth.sms.twilio]       # –ë–ª–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
enabled = true          # –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
account_sid = "..."     # ID –∞–∫–∫–∞—É–Ω—Ç–∞ Twilio
auth_token = "..."      # –°–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω (—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è!) –∏ —á—Ç–æ –º–Ω–µ —Å —ç—Ç–∏–º –¥–µ–ª–∞—Ç—å ? –ö —á–µ–º—É —ç—Ç–æ ? –ö–∞–∫ —ç—Ç–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è ? —É—â–µ—Å—Ç–≤—É—é—â–∞—è –≤ –ë–î —Ç–∞–±–ª–∏—Ü–∞ auth.sso_providers, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ –ø–æ—á–µ–º—É—Ç–æ –ø—É—Å—Ç–∞—è –¥–∞–∂–µ –≤ –æ–±–ª–∞—á–Ω–æ–π supabase
–í—ã –∑–∞–¥–∞–ª–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –æ—á–µ–Ω—å –≥–ª—É–±–æ–∫–∏–π –≤–æ–ø—Ä–æ—Å. –≠—Ç–æ –æ–¥–Ω–æ –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã—Ö —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –æ–±–ª–∞—á–Ω–æ–≥–æ Supabase –∏ self-hosted –≤–µ—Ä—Å–∏–∏. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è.

üß© –ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏" –∏ "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"
auth.sso_providers ‚Äî —ç—Ç–æ –°–ü–†–ê–í–û–ß–ù–ò–ö (–ß—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å?).
–≠—Ç–æ —Å—Ç–∞—Ç–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–∏—Å—Ç–µ–º–∞ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ —É–º–µ–µ—Ç –ø–æ–Ω–∏–º–∞—Ç—å: email, phone, google, github –∏ —Ç.–¥. –û–Ω –Ω—É–∂–µ–Ω –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ü–æ—á–µ–º—É –ø—É—Å—Ç –≤ –æ–±–ª–∞–∫–µ? –í –æ–±–ª–∞—á–Ω–æ–π –≤–µ—Ä—Å–∏–∏ Supabase —ç—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥, –≤–µ—Ä–æ—è—Ç–Ω–æ, –∂—ë—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω –≤ –∫–æ–¥–µ GoTrue (supabase/gotrue), –∏ –µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –≤—ã–≥—Ä—É–∂–∞—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

–ü–æ—á–µ–º—É –ø—É—Å—Ç –±—ã–ª —É –≤–∞—Å? –í self-hosted –≤–µ—Ä—Å–∏–∏ —Å–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Å–∫–∞—á–∞–ª–∏, –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –Ω–µ –∑–∞–ø–æ–ª–Ω–∏–ª–∏ —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É. –í—ã —ç—Ç–æ —É–∂–µ –∏—Å–ø—Ä–∞–≤–∏–ª–∏, –≤—Å—Ç–∞–≤–∏–≤ —Ç—É–¥–∞ –∑–∞–ø–∏—Å–∏ –≤—Ä—É—á–Ω—É—é.

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Äî —ç—Ç–æ –ü–†–ê–í–ò–õ–ê –ò –ö–õ–Æ–ß–ò (–ß—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –∏ –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è?).
–≠—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:

–í–∫–ª—é—á—ë–Ω –ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä google –¥–ª—è –º–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞? (GOTRUE_EXTERNAL_GOOGLE_ENABLED=true)

–ö–∞–∫–∏–µ CLIENT_ID –∏ SECRET –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å–≤—è–∑–∏ —Å Google? (GOTRUE_EXTERNAL_GOOGLE_CLIENT_ID=...)

–ê–Ω–∞–ª–æ–≥–∏—è:

auth.sso_providers ‚Äî —ç—Ç–æ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–ª—É–∂–±—ã –≥–æ—Ä–æ–¥–∞: "–ü–æ–∂–∞—Ä–Ω–∞—è", "–°–∫–æ—Ä–∞—è", "–¢–∞–∫—Å–∏".

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Äî —ç—Ç–æ –≤–∞—à –ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –í –∫–æ–Ω—Ç–∞–∫—Ç–∞—Ö —Å–æ—Ö—Ä–∞–Ω—ë–Ω –Ω–æ–º–µ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–ª—É–∂–±—ã —Ç–∞–∫—Å–∏ (—ç—Ç–æ CLIENT_ID/ SECRET), –∏ —É –≤–∞—Å –≤–∫–ª—é—á–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–≤–æ–Ω–∫–∞ –Ω–∞ —Ç–∞–∫—Å–∏ (—ç—Ç–æ ENABLED=true), –∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–≤–æ–Ω–∫–∞ –≤ –ø–æ–∂–∞—Ä–Ω—É—é —á–∞—Å—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∞ (ENABLED=false).

üõ†Ô∏è –ß—Ç–æ —Å —ç—Ç–∏–º –¥–µ–ª–∞—Ç—å –∏ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è (–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ)
–î–∞–≤–∞–π—Ç–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ Google OAuth. –ß—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥–ª–∏ –≤—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ Google, –≤–∞–º –Ω—É–∂–Ω–æ:

–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å/–¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ (auth.sso_providers)
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä google –µ—Å—Ç—å –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ. –í—ã —ç—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–ª–∏. –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –∑–Ω–∞–µ—Ç, —á—Ç–æ —Ç–∞–∫–æ–µ "google".

–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å "–∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞" –∏ –≤–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–í—ã —Å–æ–∑–¥–∞—ë—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Google Cloud Console, –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—Ç—Ç—É–¥–∞ Client ID –∏ Client Secret. –≠—Ç–∏ –∫–ª—é—á–∏ –Ω—É–∂–Ω–æ "–¥–∞—Ç—å" –≤–∞—à–µ–º—É —Å–µ—Ä–≤–∏—Å—É auth.

–≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –ø—É—Ç—ë–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Å–µ—Ä–≤–∏—Å auth –≤ –≤–∞—à–µ–º docker-compose.yml:

yaml
# –í —Å–µ–∫—Ü–∏–∏ services.auth.environment –¥–æ–±–∞–≤–ª—è–µ–º:
services:
  auth:
    image: supabase/gotrue:v2.183.0
    environment:
      # ... –¥—Ä—É–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ...

      # –í–ö–õ–Æ–ß–ê–ï–ú –∏ –ù–ê–°–¢–†–ê–ò–í–ê–ï–ú Google OAuth
      GOTRUE_EXTERNAL_GOOGLE_ENABLED: "true"
      GOTRUE_EXTERNAL_GOOGLE_CLIENT_ID: "–≤–∞—à_–¥–ª–∏–Ω–Ω—ã–π_id_–∏–∑_google.apps.googleusercontent.com"
      GOTRUE_EXTERNAL_GOOGLE_SECRET: "–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á_–∏–∑_google"

      # –í–∞–∂–Ω–æ: –£–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π callback URL, –∫—É–¥–∞ Google –≤–µ—Ä–Ω—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      # –û–±—ã—á–Ω–æ —ç—Ç–æ: [–≤–∞—à_—Å–∞–π—Ç]/auth/v1/callback
      GOTRUE_SITE_URL: "https://–≤–∞—à-–¥–æ–º–µ–Ω.com" # –∏–ª–∏ http://localhost:3000 –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–ò–º–µ–Ω–Ω–æ —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (ENABLED, CLIENT_ID, SECRET) –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ Google OAuth –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ.

–®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å auth

bash
docker compose up -d auth
–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ API
–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∑–∞–ø—Ä–æ—Å –∫ /auth/v1/settings –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å "google": true –≤ —Å–µ–∫—Ü–∏–∏ external.

–®–∞–≥ 5: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Studio
–ï—Å–ª–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ auth.sso_providers –µ—Å—Ç—å –∑–∞–ø–∏—Å—å google, –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –≤–∫–ª—é—á–µ–Ω —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, —Ç–æ–≥–¥–∞ –∫–Ω–æ–ø–∫–∞ –¥–ª—è –µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Studio (Authentication -> Providers). –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –≤—ã, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —Å–º–æ–∂–µ—Ç–µ —Ç–æ–ª—å–∫–æ –≤–∫–ª—é—á–∏—Ç—å/–æ—Ç–∫–ª—é—á–∏—Ç—å –µ–≥–æ, –∞ CLIENT_ID –∏ SECRET –∑–∞–¥–∞—é—Ç—Å—è –∏–º–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

‚ùì "–¢–∞–±–ª–∏—Ü–∞ auth.sso_providers –ø—É—Å—Ç–∞—è –¥–∞–∂–µ –≤ –æ–±–ª–∞—á–Ω–æ–π Supabase"
–í—ã –≤–µ—Ä–Ω–æ –ø–æ–¥–º–µ—Ç–∏–ª–∏. –≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –≥–∏–ø–æ—Ç–µ–∑—É, —á—Ç–æ –≤ –æ–±–ª–∞—á–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Supabase:

–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –≤–µ—Ä–æ—è—Ç–Ω–æ, —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–¥–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (jj...fn) –≤–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ñ–ª–∞–≥ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å–ª—É–∂–µ–±–Ω–æ–π –ë–î –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã ("–≤–∫–ª—é—á–∏ google –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ X").

–ù–µ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–æ—Ç —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ (sso_providers) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –æ—Ç–¥–µ–ª—å–Ω–æ, –ø–æ—ç—Ç–æ–º—É —Ç–∞–±–ª–∏—Ü–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –ø—É—Å—Ç–æ–π –∏–ª–∏ –¥–∞–∂–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Dashboard —á–∏—Ç–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏–∑ –¥—Ä—É–≥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (–≤–µ—Ä–æ—è—Ç–Ω–æ, –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–∞–º–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ Dashboard), –∞ –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–≤–∫–ª/–≤—ã–∫–ª) ‚Äî –∏–∑ —Å–ª—É–∂–µ–±–Ω–æ–π –ë–î –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

–í—ã–≤–æ–¥ –¥–ª—è self-hosted: –£ –≤–∞—Å –Ω–µ –æ–±–ª–∞—á–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –∞ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä. –ü–æ—ç—Ç–æ–º—É –≤–∞–º –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ (sso_providers), –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è) –≤ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.

üíé –ò—Ç–æ–≥ –∏ —á–µ–∫–ª–∏—Å—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–ß—Ç–æ–±—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, GitHub) —Ä–∞–±–æ—Ç–∞–ª –≤ –≤–∞—à–µ–º self-hosted Supabase, –Ω—É–∂–Ω—ã –í–°–ï —É—Å–ª–æ–≤–∏—è:

–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫: –ó–∞–ø–∏—Å—å —Å resource_id: 'github' —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ auth.sso_providers.

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: –í docker-compose.yml –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ auth –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –∏ –≤–∫–ª—é—á–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

yaml
GOTRUE_EXTERNAL_GITHUB_ENABLED: "true"
GOTRUE_EXTERNAL_GITHUB_CLIENT_ID: "..."
GOTRUE_EXTERNAL_GITHUB_SECRET: "..."
–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫: –°–µ—Ä–≤–∏—Å auth –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ Studio –≤ Authentication -> Providers –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –≤–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä (–ø–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É).

–í–∞—à —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥: –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π OAuth-–ø—Ä–æ–≤–∞–π–¥–µ—Ä (Google, GitHub, GitLab –∏ —Ç.–¥.), —Å–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–≤—ã–µ —Ç—Ä–∏ –ø—É–Ω–∫—Ç–∞ –∏–∑ —á–µ–∫–ª–∏—Å—Ç–∞, –Ω–∞—á–∏–Ω–∞—è —Å –ø–æ–ª—É—á–µ–Ω–∏—è CLIENT_ID –∏ SECRET –≤ –∫–æ–Ω—Å–æ–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.

–∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ self-hosting –∏–∑ pgadmin ############
# Secrets
# YOU MUST CHANGE THESE BEFORE GOING INTO PRODUCTION
############

POSTGRES_PASSWORD=1
JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters-long
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE
SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q
DASHBOARD_USERNAME=supabase
DASHBOARD_PASSWORD=this_password_is_insecure_and_should_be_updated
SECRET_KEY_BASE=UpNVntn3cDxHJpq99YMc1T1AQgQpc8kfYTuRgBiYa15BLrx8etQoXz3gZv1/u2oq
VAULT_ENC_KEY=your-32-character-encryption-key
PG_META_CRYPTO_KEY=your-encryption-key-32-chars-min


############
# Database - You can change these to any PostgreSQL database that has logical replication enabled.
############

POSTGRES_HOST=db
POSTGRES_DB=postgres
POSTGRES_PORT=5432
# default user is postgres


############
# Supavisor -- Database pooler
############
# Port Supavisor listens on for transaction pooling connections
POOLER_PROXY_PORT_TRANSACTION=6543
# Maximum number of PostgreSQL connections Supavisor opens per pool
POOLER_DEFAULT_POOL_SIZE=20
# Maximum number of client connections Supavisor accepts per pool
POOLER_MAX_CLIENT_CONN=100
# Unique tenant identifier
POOLER_TENANT_ID=your-tenant-id
# Pool size for internal metadata storage used by Supavisor
# This is separate from client connections and used only by Supavisor itself
POOLER_DB_POOL_SIZE=5


############
# API Proxy - Configuration for the Kong Reverse proxy.
############

KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443


############
# API - Configuration for PostgREST.
############

PGRST_DB_SCHEMAS=public,storage,graphql_public


############
# Auth - Configuration for the GoTrue authentication server.
############

## General
SITE_URL=http://localhost:3000
ADDITIONAL_REDIRECT_URLS=
JWT_EXPIRY=3600
DISABLE_SIGNUP=false
API_EXTERNAL_URL=http://localhost:8000

## Mailer Config
MAILER_URLPATHS_CONFIRMATION="/auth/v1/verify"
MAILER_URLPATHS_INVITE="/auth/v1/verify"
MAILER_URLPATHS_RECOVERY="/auth/v1/verify"
MAILER_URLPATHS_EMAIL_CHANGE="/auth/v1/verify"

## Email auth
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=false
SMTP_ADMIN_EMAIL=admin@example.com
SMTP_HOST=supabase-mail
SMTP_PORT=2500
SMTP_USER=fake_mail_user
SMTP_PASS=fake_mail_password
SMTP_SENDER_NAME=fake_sender
ENABLE_ANONYMOUS_USERS=false

## Phone auth
ENABLE_PHONE_SIGNUP=true
ENABLE_PHONE_AUTOCONFIRM=true


############
# Studio - Configuration for the Dashboard
############

STUDIO_DEFAULT_ORGANIZATION=Default Organization
STUDIO_DEFAULT_PROJECT=Default Project

# replace if you intend to use Studio outside of localhost
SUPABASE_PUBLIC_URL=http://localhost:8000

# Enable webp support
IMGPROXY_ENABLE_WEBP_DETECTION=true

# Add your OpenAI API key to enable SQL Editor Assistant
OPENAI_API_KEY=


############
# Functions - Configuration for Functions
############
# NOTE: VERIFY_JWT applies to all functions. Per-function VERIFY_JWT is not supported yet.
FUNCTIONS_VERIFY_JWT=false


############
# Logs - Configuration for Analytics
# Please refer to https://supabase.com/docs/reference/self-hosting-analytics/introduction
############

# Change vector.toml sinks to reflect this change
# these cannot be the same value
LOGFLARE_PUBLIC_ACCESS_TOKEN=your-super-secret-and-long-logflare-key-public
LOGFLARE_PRIVATE_ACCESS_TOKEN=your-super-secret-and-long-logflare-key-private

# Docker socket location - this value will differ depending on your OS
DOCKER_SOCKET_LOCATION=/var/run/docker.sock

# Google Cloud Project details
GOOGLE_PROJECT_ID=GOOGLE_PROJECT_ID
GOOGLE_PROJECT_NUMBER=GOOGLE_PROJECT_NUMBER
–≥–¥–µ —Ç—É—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ?
–í –≤–∞—à–µ–º .env —Ñ–∞–π–ª–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —É–∫–∞–∑–∞–Ω–æ —è–≤–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ (default) –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è PostgreSQL.

üîê –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑ pgAdmin
–ü–∞—Ä–∞–º–µ—Ç—Ä	–ó–Ω–∞—á–µ–Ω–∏–µ (–¥–ª—è –≤–∞—à–µ–≥–æ .env)	–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
Host/Address	localhost (–µ—Å–ª–∏ –Ω–∞ —Ç–æ–π –∂–µ –º–∞—à–∏–Ω–µ) –∏–ª–∏ IP —Å–µ—Ä–≤–µ—Ä–∞	–≠—Ç–æ —Ö–æ—Å—Ç, –≥–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–∞—à Docker
Port	5432	–ü–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–±—Ä–æ—à–µ–Ω –≤ docker-compose.yml (–æ–±—ã—á–Ω–æ —ç—Ç–æ –ø–æ—Ä—Ç —Å–µ—Ä–≤–∏—Å–∞ supavisor)
Maintenance Database	postgres	–£–∫–∞–∑–∞–Ω–æ –≤ POSTGRES_DB=postgres
Username	postgres	–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∏–º—è —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ PostgreSQL
Password	1	–ó–Ω–∞—á–µ–Ω–∏–µ –∏–∑ POSTGRES_PASSWORD=1 –≤ –≤–∞—à–µ–º .env
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –í Supabase –ø—É–ª–µ—Ä —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (supavisor) —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 5432, –ø–æ—ç—Ç–æ–º—É –≤—ã –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ—Å—å –Ω–µ –Ω–∞–ø—Ä—è–º—É—é –∫ –ë–î, –∞ —á–µ—Ä–µ–∑ –ø—É–ª–µ—Ä.

üñ•Ô∏è –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ pgAdmin
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞—à–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –µ—Å–ª–∏ –æ–Ω–∏ –µ—â—ë –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã:

bash
docker compose up -d
–û—Ç–∫—Ä–æ–π—Ç–µ pgAdmin –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:

–í –ø–æ–ª–µ General ‚Üí Name —É–∫–∞–∂–∏—Ç–µ –ª—é–±–æ–µ –∏–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä Supabase Local

–ù–∞ –≤–∫–ª–∞–¥–∫–µ Connection –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

Host name/address: localhost

Port: 5432

Maintenance database: postgres

Username: postgres

Password: 1 (–ø–∞—Ä–æ–ª—å –∏–∑ –≤–∞—à–µ–≥–æ .env)

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å.

‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã
–î–≤–µ —Ç–æ—á–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: –í–∞—à docker-compose.yml –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º:

–ß–µ—Ä–µ–∑ –ø—É–ª–µ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è): –ü–æ—Ä—Ç 5432 ‚Üí —Å–µ—Ä–≤–∏—Å supavisor. –ò–º–µ–Ω–Ω–æ –µ–≥–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥–ª—è pgAdmin –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—É–ª–ª–∏–Ω–≥ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

–ü—Ä—è–º–æ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –ë–î (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è): –ü–æ—Ä—Ç 5432 –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ db –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –ø—Ä–æ–±—Ä–æ—à–µ–Ω –Ω–∞—Ä—É–∂—É (—ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ). –ß—Ç–æ–±—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é –¥–ª—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –∑–∞–¥–∞—á, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

bash
# –ó–∞–π—Ç–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å psql
docker exec -it supabase-db psql -U postgres
–ü–∞—Ä–æ–ª—å –æ—á–µ–Ω—å —Å–ª–∞–±—ã–π (1) ‚Äî –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç–µ POSTGRES_PASSWORD –Ω–∞ —Å–ª–æ–∂–Ω—É—é —Å—Ç—Ä–æ–∫—É.

–ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —É–¥–∞—ë—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã:

bash
docker compose ps
–£ —Å–µ—Ä–≤–∏—Å–∞ supavisor –≤ —Å—Ç–æ–ª–±—Ü–µ PORTS –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–æ 0.0.0.0:5432->5432/tcp.

üîß –ö–∞–∫ —Å–º–µ–Ω–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è postgres (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –¥–æ–±–∞–≤—å—Ç–µ –≤ .env —Ñ–∞–π–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:

env
POSTGRES_USER=my_custom_user
–ò –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (—ç—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ –≤—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ volumes):

bash
docker compose down -v
docker compose up -d
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ my_custom_user –∏ –ø–∞—Ä–æ–ª—å –∏–∑ POSTGRES_PASSWORD.

–Ω–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è supabase-db          supabase/postgres:15.8.1.085    "docker-entrypoint.s‚Ä¶"   db          13 minutes ago   Up 13 minutes (healthy)            5432/tcp db:
    container_name: supabase-db
    image: supabase/postgres:15.8.1.085
    restart: unless-stopped
    volumes:
      - ./volumes/db/realtime.sql:/docker-entrypoint-initdb.d/migrations/99-realtime.sql:Z
      # Must be superuser to create event trigger
      - ./volumes/db/webhooks.sql:/docker-entrypoint-initdb.d/init-scripts/98-webhooks.sql:Z
      # Must be superuser to alter reserved role
      - ./volumes/db/roles.sql:/docker-entrypoint-initdb.d/init-scripts/99-roles.sql:Z
      # Initialize the database settings with JWT_SECRET and JWT_EXP
      - ./volumes/db/jwt.sql:/docker-entrypoint-initdb.d/init-scripts/99-jwt.sql:Z
      # PGDATA directory is persisted between restarts
      - ./volumes/db/data:/var/lib/postgresql/data:Z
      # Changes required for internal supabase data such as _analytics
      - ./volumes/db/_supabase.sql:/docker-entrypoint-initdb.d/migrations/97-_supabase.sql:Z
      # Changes required for Analytics support
      - ./volumes/db/logs.sql:/docker-entrypoint-initdb.d/migrations/99-logs.sql:Z
      # Changes required for Pooler support
      - ./volumes/db/pooler.sql:/docker-entrypoint-initdb.d/migrations/99-pooler.sql:Z
      # Use named volume to persist pgsodium decryption key between restarts
      - db-config:/etc/postgresql-custom
    healthcheck:
      test:
        [
        "CMD",
        "pg_isready",
        "-U",
        "postgres",
        "-h",
        "localhost"
        ]
      interval: 5s
      timeout: 5s
      retries: 10
    depends_on:
      vector:
        condition: service_healthy
    ports:
      - "5432:5432"
    environment:
      POSTGRES_HOST: /var/run/postgresql
      PGPORT: ${POSTGRES_PORT}
      POSTGRES_PORT: ${POSTGRES_PORT}
      PGPASSWORD: ${POSTGRES_PASSWORD}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      PGDATABASE: ${POSTGRES_DB}
      POSTGRES_DB: ${POSTGRES_DB}
      JWT_SECRET: ${JWT_SECRET}
      JWT_EXP: ${JWT_EXPIRY}
    command:
      [
        "postgres",
        "-c",
        "config_file=/etc/postgresql/postgresql.conf",
        "-c",
        "log_min_messages=fatal" # prevents Realtime polling queries from appearing in logs
      ]
–Ø –≤–∏–∂—É –ø—Ä–æ–±–ª–µ–º—É: –≤ –≤–∞—à–µ–º docker-compose.yml —É —Å–µ—Ä–≤–∏—Å–∞ db –¥–æ–±–∞–≤–ª–µ–Ω ports: - "5432:5432", –Ω–æ —É supavisor (–ø—É–ª–µ—Ä–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π) —Ç–æ–∂–µ –µ—Å—Ç—å —ç—Ç–æ—Ç –ø–æ—Ä—Ç. –≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç ‚Äî –¥–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–µ –º–æ–≥—É—Ç —Å–ª—É—à–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø–æ—Ä—Ç –Ω–∞ —Ö–æ—Å—Ç–µ.

üîç –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤: –¥–≤–µ —Å–ª—É–∂–±—ã —Ö–æ—Ç—è—Ç –æ–¥–∏–Ω –ø–æ—Ä—Ç
–í –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Supabase:

db ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ Docker (–ø–æ—Ä—Ç 5432 –Ω–µ –ø—Ä–æ–±—Ä–æ—à–µ–Ω –Ω–∞—Ä—É–∂—É)

supavisor ‚Üí –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç 5432 –Ω–∞—Ä—É–∂—É –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (pgAdmin, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

–£ –≤–∞—Å –∂–µ –æ–±–µ —Å–ª—É–∂–±—ã –ø—ã—Ç–∞—é—Ç—Å—è –∑–∞–Ω—è—Ç—å –ø–æ—Ä—Ç 5432 –Ω–∞ —Ö–æ—Å—Ç–µ.

üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç)
–í–∞—Ä–∏–∞–Ω—Ç 1: –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ db (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–£–¥–∞–ª–∏—Ç–µ —Å—Ç—Ä–æ–∫—É ports: –∏–∑ —Å–µ–∫—Ü–∏–∏ db –≤ docker-compose.yml:

yaml
db:
  container_name: supabase-db
  # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ...
  # –£–î–ê–õ–ò–¢–¨ –≠–¢–£ –°–¢–†–û–ö–£:
  # ports:
  #   - "5432:5432"
  environment:
    # ...
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ–¥–∫–ª—é—á–∞–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ supavisor (–ø–æ—Ä—Ç 5432).

–í–∞—Ä–∏–∞–Ω—Ç 2: –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –¥–ª—è db (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø)
–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏–º–µ—Ç—å –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –ë–î –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è:

yaml
db:
  container_name: supabase-db
  # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ...
  # –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ 5433):
  ports:
    - "5433:5432"
  environment:
    # ...
–¢–æ–≥–¥–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±—É–¥–µ—Ç:

–ß–µ—Ä–µ–∑ –ø—É–ª–µ—Ä (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, pgAdmin): localhost:5432 ‚Üí supavisor

–ü—Ä—è–º–æ –∫ –ë–î (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ): localhost:5433 ‚Üí db

–í–∞—Ä–∏–∞–Ω—Ç 3: –û—Ç–∫–ª—é—á–∏—Ç—å supavisor (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–ï—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω –ø—É–ª–µ—Ä —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, –º–æ–∂–µ—Ç–µ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∫—Ü–∏—é supavisor –∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ —É db.

üöÄ –î–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

bash
docker compose down
docker compose up -d
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–∏–µ –ø–æ—Ä—Ç—ã —Å–ª—É—à–∞—é—Ç—Å—è:

bash
docker compose ps
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:

supabase-db: 5432/tcp (–∏–ª–∏ 0.0.0.0:5433->5432/tcp –µ—Å–ª–∏ –≤—ã–±—Ä–∞–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç 2)

supabase-pooler: 0.0.0.0:5432->5432/tcp

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –≤ pgAdmin —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

Host: localhost

Port: 5432 (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—É–ª–µ—Ä) –∏–ª–∏ 5433 (–µ—Å–ª–∏ –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ)

Username: postgres

Password: 1 (–∏–∑ –≤–∞—à–µ–≥–æ .env)

‚ö†Ô∏è –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ supavisor:

bash
docker compose logs supavisor --tail=20
–ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞:

bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–ª—É—à–∞–µ—Ç –ª–∏ –ø–æ—Ä—Ç 5432
netstat -tuln | grep :5432
# –∏–ª–∏
ss -tuln | grep :5432
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ psql –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:

bash
docker exec -it supabase-db psql -U postgres -d postgres
–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –∑–Ω–∞—á–∏—Ç –ë–î –≤ –ø–æ—Ä—è–¥–∫–µ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–µ—Ç–µ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.

–†–µ–∫–æ–º–µ–Ω–¥—É—é –≤—ã–±—Ä–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 1 ‚Äî —ç—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Supabase. –ü—É–ª–µ—Ä —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (supavisor) —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π.

–∏ –∫–∞–∫–æ–µ –∂–µ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è –±—É–¥–µ—Ç —É db
–í Docker-—Å–µ—Ç–∏ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ db –±—É–¥–µ—Ç db. –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ Docker Compose, –≥–¥–µ –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –µ–≥–æ hostname –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏.

üåê –î–æ–º–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ –≤–∞—à–µ–π —Å–µ—Ç–∏ Supabase
–í –≤–∞—à–µ–π Docker-—Å–µ—Ç–∏ –∫–∞–∂–¥—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∏–º–µ–Ω–∏ —Å–≤–æ–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏–∑ docker-compose.yml:

–°–µ—Ä–≤–∏—Å (–≤ docker-compose.yml)	–î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è –≤ —Å–µ—Ç–∏ Docker	–î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
db	db	–ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL –∏–∑ –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
supavisor	supabase-pooler (—Ç–∞–∫ –∫–∞–∫ container_name: supabase-pooler)	–ü—É–ª–ª–µ—Ä —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
kong	kong	API-—à–ª—é–∑
auth	auth	–°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
studio	studio	–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
üîå –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î –∏–∑ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç
1. –ò–∑ –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, auth, rest)
–í–Ω—É—Ç—Ä–∏ Docker-—Å–µ—Ç–∏ –æ–Ω–∏ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –ø–æ –∏–º–µ–Ω–∏ db:

yaml
# –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ auth:
environment:
  GOTRUE_DB_DATABASE_URL: postgres://supabase_auth_admin:${POSTGRES_PASSWORD}@db:${POSTGRES_PORT}/${POSTGRES_DB}
  # –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ host: @db ‚Üê —ç—Ç–æ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è
2. –ò–∑ pgAdmin –Ω–∞ –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (—Ö–æ—Å—Ç–µ)
–í—ã –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ—Å—å –Ω–µ –Ω–∞–ø—Ä—è–º—É—é –∫ db, –∞ —á–µ—Ä–µ–∑ –ø—É–ª–µ—Ä supavisor, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç 5432 –Ω–∞ —Ö–æ—Å—Ç:

–•–æ—Å—Ç –≤ pgAdmin: localhost –∏–ª–∏ 127.0.0.1

–ü–æ—Ä—Ç: 5432

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: postgres

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: postgres

3. –î–ª—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –∑–∞–¥–∞—á –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ db
bash
# –ó–∞–π—Ç–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ë–î
docker exec -it supabase-db bash

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –∑–∞–ø—É—Å—Ç–∏—Ç—å psql
docker exec -it supabase-db psql -U postgres -d postgres
üñ•Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS-—Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏
–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏–º—è db —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

bash
# –ó–∞–π–¥–∏—Ç–µ –≤ –ª—é–±–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, auth) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ
docker exec -it supabase-auth nslookup db

# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
docker exec -it supabase-auth ping -c 2 db
üîß –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è
–ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω–æ–µ –∏–º—è —á–µ—Ä–µ–∑ hostname: –≤ docker-compose.yml:

yaml
db:
  container_name: supabase-db
  hostname: postgres-server  # –ù–æ–≤–æ–µ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è
  # ...
–¢–æ–≥–¥–∞ –¥—Ä—É–≥–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –±—É–¥—É—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ postgres-server:5432.

üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –∫–∞–∫ auth –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ db
–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ auth:

bash
docker inspect supabase-auth | grep -A2 -B2 "DB.*URL\|POSTGRES"
–í—ã —É–≤–∏–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ –≤–∏–¥–∞:

text
"GOTRUE_DB_DATABASE_URL=postgres://supabase_auth_admin:password@db:5432/postgres"
–ó–¥–µ—Å—å —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω–æ @db:5432 ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ë–î –≤ Docker-—Å–µ—Ç–∏.

–ò—Ç–æ–≥: –î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ db:5432, –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (pgAdmin) ‚Äî localhost:5432 (—á–µ—Ä–µ–∑ supavisor).

# Usage
#   Start:              docker compose up
#   With helpers:       docker compose -f docker-compose.yml -f ./dev/docker-compose.dev.yml up
#   Stop:               docker compose down
#   Destroy:            docker compose -f docker-compose.yml -f ./dev/docker-compose.dev.yml down -v --remove-orphans
#   Reset everything:  ./reset.sh

name: supabase

services:

  studio:
    container_name: supabase-studio
    image: supabase/studio:2025.12.09-sha-434634f
    restart: unless-stopped
    healthcheck:
      test:
        [
          "CMD",
          "node",
          "-e",
          "fetch('http://studio:3000/api/platform/profile').then((r) => {if (r.status !== 200) throw new Error(r.status)})"
        ]
      timeout: 10s
      interval: 5s
      retries: 3
    depends_on:
      analytics:
        condition: service_healthy
    ports:
      - 3000:3000
    environment:
      # Binds nestjs listener to both IPv4 and IPv6 network interfaces
      HOSTNAME: "::"

      STUDIO_PG_META_URL: http://meta:8080
      POSTGRES_PORT: ${POSTGRES_PORT}
      POSTGRES_HOST: ${POSTGRES_HOST}
      POSTGRES_DB: ${POSTGRES_DB}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      PG_META_CRYPTO_KEY: ${PG_META_CRYPTO_KEY}

      DEFAULT_ORGANIZATION_NAME: ${STUDIO_DEFAULT_ORGANIZATION}
      DEFAULT_PROJECT_NAME: ${STUDIO_DEFAULT_PROJECT}
      OPENAI_API_KEY: ${OPENAI_API_KEY:-}

      SUPABASE_URL: http://kong:8000
      SUPABASE_PUBLIC_URL: ${SUPABASE_PUBLIC_URL}
      SUPABASE_ANON_KEY: ${ANON_KEY}
      SUPABASE_SERVICE_KEY: ${SERVICE_ROLE_KEY}
      AUTH_JWT_SECRET: ${JWT_SECRET}

      # LOGFLARE_API_KEY is deprecated
      LOGFLARE_API_KEY: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
      LOGFLARE_PUBLIC_ACCESS_TOKEN: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
      LOGFLARE_PRIVATE_ACCESS_TOKEN: ${LOGFLARE_PRIVATE_ACCESS_TOKEN}

      LOGFLARE_URL: http://analytics:4000
      NEXT_PUBLIC_ENABLE_LOGS: true
      # Comment to use Big Query backend for analytics
      NEXT_ANALYTICS_BACKEND_PROVIDER: postgres
      # Uncomment to use Big Query backend for analytics
      # NEXT_ANALYTICS_BACKEND_PROVIDER: bigquery

  kong:
    container_name: supabase-kong
    image: kong:2.8.1
    restart: unless-stopped
    ports:
      - ${KONG_HTTP_PORT}:8000/tcp
      - ${KONG_HTTPS_PORT}:8443/tcp
    volumes:
      # https://github.com/supabase/supabase/issues/12661
      - ./volumes/api/kong.yml:/home/kong/temp.yml:ro,z
    depends_on:
      analytics:
        condition: service_healthy
    environment:
      KONG_DATABASE: "off"
      KONG_DECLARATIVE_CONFIG: /home/kong/kong.yml
      # https://github.com/supabase/cli/issues/14
      KONG_DNS_ORDER: LAST,A,CNAME
      KONG_PLUGINS: request-transformer,cors,key-auth,acl,basic-auth,request-termination,ip-restriction
      KONG_NGINX_PROXY_PROXY_BUFFER_SIZE: 160k
      KONG_NGINX_PROXY_PROXY_BUFFERS: 64 160k
      SUPABASE_ANON_KEY: ${ANON_KEY}
      SUPABASE_SERVICE_KEY: ${SERVICE_ROLE_KEY}
      DASHBOARD_USERNAME: ${DASHBOARD_USERNAME}
      DASHBOARD_PASSWORD: ${DASHBOARD_PASSWORD}
    # https://unix.stackexchange.com/a/294837
    entrypoint: bash -c 'eval "echo \"$$(cat ~/temp.yml)\"" > ~/kong.yml && /docker-entrypoint.sh kong docker-start'

  auth:
    container_name: supabase-auth
    image: supabase/gotrue:v2.183.0
    restart: unless-stopped
    healthcheck:
      test:
        [
          "CMD",
          "wget",
          "--no-verbose",
          "--tries=1",
          "--spider",
          "http://localhost:9999/health"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      analytics:
        condition: service_healthy
    environment:
      GOTRUE_API_HOST: 0.0.0.0
      GOTRUE_API_PORT: 9999
      API_EXTERNAL_URL: ${API_EXTERNAL_URL}

      GOTRUE_DB_DRIVER: postgres
      GOTRUE_DB_DATABASE_URL: postgres://supabase_auth_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

      GOTRUE_SITE_URL: ${SITE_URL}
      GOTRUE_URI_ALLOW_LIST: ${ADDITIONAL_REDIRECT_URLS}
      GOTRUE_DISABLE_SIGNUP: ${DISABLE_SIGNUP}

      GOTRUE_JWT_ADMIN_ROLES: service_role
      GOTRUE_JWT_AUD: authenticated
      GOTRUE_JWT_DEFAULT_GROUP_NAME: authenticated
      GOTRUE_JWT_EXP: ${JWT_EXPIRY}
      GOTRUE_JWT_SECRET: ${JWT_SECRET}

      GOTRUE_EXTERNAL_EMAIL_ENABLED: ${ENABLE_EMAIL_SIGNUP}
      GOTRUE_EXTERNAL_ANONYMOUS_USERS_ENABLED: ${ENABLE_ANONYMOUS_USERS}
      GOTRUE_MAILER_AUTOCONFIRM: ${ENABLE_EMAIL_AUTOCONFIRM}

      # Uncomment to bypass nonce check in ID Token flow. Commonly set to true when using Google Sign In on mobile.
      # GOTRUE_EXTERNAL_SKIP_NONCE_CHECK: true

      # GOTRUE_MAILER_SECURE_EMAIL_CHANGE_ENABLED: true
      # GOTRUE_SMTP_MAX_FREQUENCY: 1s
      GOTRUE_SMTP_ADMIN_EMAIL: ${SMTP_ADMIN_EMAIL}
      GOTRUE_SMTP_HOST: ${SMTP_HOST}
      GOTRUE_SMTP_PORT: ${SMTP_PORT}
      GOTRUE_SMTP_USER: ${SMTP_USER}
      GOTRUE_SMTP_PASS: ${SMTP_PASS}
      GOTRUE_SMTP_SENDER_NAME: ${SMTP_SENDER_NAME}
      GOTRUE_MAILER_URLPATHS_INVITE: ${MAILER_URLPATHS_INVITE}
      GOTRUE_MAILER_URLPATHS_CONFIRMATION: ${MAILER_URLPATHS_CONFIRMATION}
      GOTRUE_MAILER_URLPATHS_RECOVERY: ${MAILER_URLPATHS_RECOVERY}
      GOTRUE_MAILER_URLPATHS_EMAIL_CHANGE: ${MAILER_URLPATHS_EMAIL_CHANGE}

      GOTRUE_EXTERNAL_PHONE_ENABLED: ${ENABLE_PHONE_SIGNUP}
      GOTRUE_SMS_AUTOCONFIRM: ${ENABLE_PHONE_AUTOCONFIRM}
      # Uncomment to enable custom access token hook. Please see: https://supabase.com/docs/guides/auth/auth-hooks for full list of hooks and additional details about custom_access_token_hook

      # GOTRUE_HOOK_CUSTOM_ACCESS_TOKEN_ENABLED: "true"
      # GOTRUE_HOOK_CUSTOM_ACCESS_TOKEN_URI: "pg-functions://postgres/public/custom_access_token_hook"
      # GOTRUE_HOOK_CUSTOM_ACCESS_TOKEN_SECRETS: "<standard-base64-secret>"

      # GOTRUE_HOOK_MFA_VERIFICATION_ATTEMPT_ENABLED: "true"
      # GOTRUE_HOOK_MFA_VERIFICATION_ATTEMPT_URI: "pg-functions://postgres/public/mfa_verification_attempt"

      # GOTRUE_HOOK_PASSWORD_VERIFICATION_ATTEMPT_ENABLED: "true"
      # GOTRUE_HOOK_PASSWORD_VERIFICATION_ATTEMPT_URI: "pg-functions://postgres/public/password_verification_attempt"

      # GOTRUE_HOOK_SEND_SMS_ENABLED: "false"
      # GOTRUE_HOOK_SEND_SMS_URI: "pg-functions://postgres/public/custom_access_token_hook"
      # GOTRUE_HOOK_SEND_SMS_SECRETS: "v1,whsec_VGhpcyBpcyBhbiBleGFtcGxlIG9mIGEgc2hvcnRlciBCYXNlNjQgc3RyaW5n"

      # GOTRUE_HOOK_SEND_EMAIL_ENABLED: "false"
      # GOTRUE_HOOK_SEND_EMAIL_URI: "http://host.docker.internal:54321/functions/v1/email_sender"
      # GOTRUE_HOOK_SEND_EMAIL_SECRETS: "v1,whsec_VGhpcyBpcyBhbiBleGFtcGxlIG9mIGEgc2hvcnRlciBCYXNlNjQgc3RyaW5n"

  rest:
    container_name: supabase-rest
    image: postgrest/postgrest:v14.1
    restart: unless-stopped
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      analytics:
        condition: service_healthy
    environment:
      PGRST_DB_URI: postgres://authenticator:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
      PGRST_DB_SCHEMAS: ${PGRST_DB_SCHEMAS}
      PGRST_DB_ANON_ROLE: anon
      PGRST_JWT_SECRET: ${JWT_SECRET}
      PGRST_DB_USE_LEGACY_GUCS: "false"
      PGRST_APP_SETTINGS_JWT_SECRET: ${JWT_SECRET}
      PGRST_APP_SETTINGS_JWT_EXP: ${JWT_EXPIRY}
    command:
      [
        "postgrest"
      ]

  realtime:
    # This container name looks inconsistent but is correct because realtime constructs tenant id by parsing the subdomain
    container_name: realtime-dev.supabase-realtime
    image: supabase/realtime:v2.68.0
    restart: unless-stopped
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      analytics:
        condition: service_healthy
    healthcheck:
      test:
        [
          "CMD-SHELL",
          "curl -sSfL --head -o /dev/null -H \"Authorization: Bearer ${ANON_KEY}\" http://localhost:4000/api/tenants/realtime-dev/health"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    environment:
      PORT: 4000
      DB_HOST: ${POSTGRES_HOST}
      DB_PORT: ${POSTGRES_PORT}
      DB_USER: supabase_admin
      DB_PASSWORD: ${POSTGRES_PASSWORD}
      DB_NAME: ${POSTGRES_DB}
      DB_AFTER_CONNECT_QUERY: 'SET search_path TO _realtime'
      DB_ENC_KEY: supabaserealtime
      API_JWT_SECRET: ${JWT_SECRET}
      SECRET_KEY_BASE: ${SECRET_KEY_BASE}
      ERL_AFLAGS: -proto_dist inet_tcp
      DNS_NODES: "''"
      RLIMIT_NOFILE: "10000"
      APP_NAME: realtime
      SEED_SELF_HOST: "true"
      RUN_JANITOR: "true"

  # To use S3 backed storage: docker compose -f docker-compose.yml -f docker-compose.s3.yml up
  storage:
    container_name: supabase-storage
    image: supabase/storage-api:v1.33.0
    restart: unless-stopped
    volumes:
      - ./volumes/storage:/var/lib/storage:z
    healthcheck:
      test:
        [
          "CMD",
          "wget",
          "--no-verbose",
          "--tries=1",
          "--spider",
          "http://storage:5000/status"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      rest:
        condition: service_started
      imgproxy:
        condition: service_started
    environment:
      ANON_KEY: ${ANON_KEY}
      SERVICE_KEY: ${SERVICE_ROLE_KEY}
      POSTGREST_URL: http://rest:3000
      PGRST_JWT_SECRET: ${JWT_SECRET}
      DATABASE_URL: postgres://supabase_storage_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
      REQUEST_ALLOW_X_FORWARDED_PATH: "true"
      FILE_SIZE_LIMIT: 52428800
      STORAGE_BACKEND: file
      FILE_STORAGE_BACKEND_PATH: /var/lib/storage
      TENANT_ID: stub
      # TODO: https://github.com/supabase/storage-api/issues/55
      REGION: stub
      GLOBAL_S3_BUCKET: stub
      ENABLE_IMAGE_TRANSFORMATION: "true"
      IMGPROXY_URL: http://imgproxy:5001

  imgproxy:
    container_name: supabase-imgproxy
    image: darthsim/imgproxy:v3.8.0
    restart: unless-stopped
    volumes:
      - ./volumes/storage:/var/lib/storage:z
    healthcheck:
      test:
        [
          "CMD",
          "imgproxy",
          "health"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    environment:
      IMGPROXY_BIND: ":5001"
      IMGPROXY_LOCAL_FILESYSTEM_ROOT: /
      IMGPROXY_USE_ETAG: "true"
      IMGPROXY_ENABLE_WEBP_DETECTION: ${IMGPROXY_ENABLE_WEBP_DETECTION}

  meta:
    container_name: supabase-meta
    image: supabase/postgres-meta:v0.93.1
    restart: unless-stopped
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      analytics:
        condition: service_healthy
    environment:
      PG_META_PORT: 8080
      PG_META_DB_HOST: ${POSTGRES_HOST}
      PG_META_DB_PORT: ${POSTGRES_PORT}
      PG_META_DB_NAME: ${POSTGRES_DB}
      PG_META_DB_USER: supabase_admin
      PG_META_DB_PASSWORD: ${POSTGRES_PASSWORD}
      CRYPTO_KEY: ${PG_META_CRYPTO_KEY}

  functions:
    container_name: supabase-edge-functions
    image: supabase/edge-runtime:v1.69.28
    restart: unless-stopped
    volumes:
      - ./volumes/functions:/home/deno/functions:Z
    depends_on:
      analytics:
        condition: service_healthy
    environment:
      JWT_SECRET: ${JWT_SECRET}
      SUPABASE_URL: http://kong:8000
      SUPABASE_ANON_KEY: ${ANON_KEY}
      SUPABASE_SERVICE_ROLE_KEY: ${SERVICE_ROLE_KEY}
      SUPABASE_DB_URL: postgresql://postgres:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
      # TODO: Allow configuring VERIFY_JWT per function. This PR might help: https://github.com/supabase/cli/pull/786
      VERIFY_JWT: "${FUNCTIONS_VERIFY_JWT}"
    command:
      [
        "start",
        "--main-service",
        "/home/deno/functions/main"
      ]

  analytics:
    container_name: supabase-analytics
    image: supabase/logflare:1.26.25
    restart: unless-stopped
    ports:
      - 4000:4000
    # Uncomment to use Big Query backend for analytics
    # volumes:
    #   - type: bind
    #     source: ${PWD}/gcloud.json
    #     target: /opt/app/rel/logflare/bin/gcloud.json
    #     read_only: true
    healthcheck:
      test:
        [
          "CMD",
          "curl",
          "http://localhost:4000/health"
        ]
      timeout: 5s
      interval: 5s
      retries: 10
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
    environment:
      LOGFLARE_NODE_HOST: 127.0.0.1
      DB_USERNAME: supabase_admin
      DB_DATABASE: _supabase
      DB_HOSTNAME: ${POSTGRES_HOST}
      DB_PORT: ${POSTGRES_PORT}
      DB_PASSWORD: ${POSTGRES_PASSWORD}
      DB_SCHEMA: _analytics
      LOGFLARE_PUBLIC_ACCESS_TOKEN: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
      LOGFLARE_PRIVATE_ACCESS_TOKEN: ${LOGFLARE_PRIVATE_ACCESS_TOKEN}
      LOGFLARE_SINGLE_TENANT: true
      LOGFLARE_SUPABASE_MODE: true

      # Comment variables to use Big Query backend for analytics
      POSTGRES_BACKEND_URL: postgresql://supabase_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/_supabase
      POSTGRES_BACKEND_SCHEMA: _analytics
      LOGFLARE_FEATURE_FLAG_OVERRIDE: multibackend=true
      # Uncomment to use Big Query backend for analytics
      # GOOGLE_PROJECT_ID: ${GOOGLE_PROJECT_ID}
      # GOOGLE_PROJECT_NUMBER: ${GOOGLE_PROJECT_NUMBER}

  # Comment out everything below this point if you are using an external Postgres database
  db:
    container_name: supabase-db
    image: supabase/postgres:15.8.1.085
    restart: unless-stopped
    volumes:
      - ./volumes/db/realtime.sql:/docker-entrypoint-initdb.d/migrations/99-realtime.sql:Z
      # Must be superuser to create event trigger
      - ./volumes/db/webhooks.sql:/docker-entrypoint-initdb.d/init-scripts/98-webhooks.sql:Z
      # Must be superuser to alter reserved role
      - ./volumes/db/roles.sql:/docker-entrypoint-initdb.d/init-scripts/99-roles.sql:Z
      # Initialize the database settings with JWT_SECRET and JWT_EXP
      - ./volumes/db/jwt.sql:/docker-entrypoint-initdb.d/init-scripts/99-jwt.sql:Z
      # PGDATA directory is persisted between restarts
      - ./volumes/db/data:/var/lib/postgresql/data:Z
      # Changes required for internal supabase data such as _analytics
      - ./volumes/db/_supabase.sql:/docker-entrypoint-initdb.d/migrations/97-_supabase.sql:Z
      # Changes required for Analytics support
      - ./volumes/db/logs.sql:/docker-entrypoint-initdb.d/migrations/99-logs.sql:Z
      # Changes required for Pooler support
      - ./volumes/db/pooler.sql:/docker-entrypoint-initdb.d/migrations/99-pooler.sql:Z
      # Use named volume to persist pgsodium decryption key between restarts
      - db-config:/etc/postgresql-custom
    healthcheck:
      test:
        [
        "CMD",
        "pg_isready",
        "-U",
        "postgres",
        "-h",
        "localhost"
        ]
      interval: 5s
      timeout: 5s
      retries: 10
    depends_on:
      vector:
        condition: service_healthy
    environment:
      POSTGRES_HOST: /var/run/postgresql
      PGPORT: ${POSTGRES_PORT}
      POSTGRES_PORT: ${POSTGRES_PORT}
      PGPASSWORD: ${POSTGRES_PASSWORD}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      PGDATABASE: ${POSTGRES_DB}
      POSTGRES_DB: ${POSTGRES_DB}
      JWT_SECRET: ${JWT_SECRET}
      JWT_EXP: ${JWT_EXPIRY}
    command:
      [
        "postgres",
        "-c",
        "config_file=/etc/postgresql/postgresql.conf",
        "-c",
        "log_min_messages=fatal" # prevents Realtime polling queries from appearing in logs
      ]

  vector:
    container_name: supabase-vector
    image: timberio/vector:0.28.1-alpine
    restart: unless-stopped
    volumes:
      - ./volumes/logs/vector.yml:/etc/vector/vector.yml:ro,z
      - ${DOCKER_SOCKET_LOCATION}:/var/run/docker.sock:ro,z
    healthcheck:
      test:
        [
          "CMD",
          "wget",
          "--no-verbose",
          "--tries=1",
          "--spider",
          "http://vector:9001/health"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    environment:
      LOGFLARE_PUBLIC_ACCESS_TOKEN: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
    command:
      [
        "--config",
        "/etc/vector/vector.yml"
      ]
    security_opt:
      - "label=disable"

  # Update the DATABASE_URL if you are using an external Postgres database
  supavisor:
    container_name: supabase-pooler
    image: supabase/supavisor:2.7.4
    restart: unless-stopped
    ports:
      - ${POSTGRES_PORT}:5432
      - ${POOLER_PROXY_PORT_TRANSACTION}:6543
    volumes:
      - ./volumes/pooler/pooler.exs:/etc/pooler/pooler.exs:ro,z
    healthcheck:
      test:
        [
          "CMD",
          "curl",
          "-sSfL",
          "--head",
          "-o",
          "/dev/null",
          "http://127.0.0.1:4000/api/health"
        ]
      interval: 10s
      timeout: 5s
      retries: 5
    depends_on:
      db:
        condition: service_healthy
      analytics:
        condition: service_healthy
    environment:
      PORT: 4000
      POSTGRES_PORT: ${POSTGRES_PORT}
      POSTGRES_DB: ${POSTGRES_DB}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      DATABASE_URL: ecto://supabase_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/_supabase
      CLUSTER_POSTGRES: true
      SECRET_KEY_BASE: ${SECRET_KEY_BASE}
      VAULT_ENC_KEY: ${VAULT_ENC_KEY}
      API_JWT_SECRET: ${JWT_SECRET}
      METRICS_JWT_SECRET: ${JWT_SECRET}
      REGION: local
      ERL_AFLAGS: -proto_dist inet_tcp
      POOLER_TENANT_ID: ${POOLER_TENANT_ID}
      POOLER_DEFAULT_POOL_SIZE: ${POOLER_DEFAULT_POOL_SIZE}
      POOLER_MAX_CLIENT_CONN: ${POOLER_MAX_CLIENT_CONN}
      POOLER_POOL_MODE: transaction
      DB_POOL_SIZE: ${POOLER_DB_POOL_SIZE}
    command:
      [
        "/bin/sh",
        "-c",
        "/app/bin/migrate && /app/bin/supavisor eval \"$$(cat /etc/pooler/pooler.exs)\" && /app/bin/server"
      ]

volumes:
  db-config:
–Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω 3000 –ø–æ—Ä—Ç –Ω–∞ localhost
–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ Studio (–ø–æ—Ä—Ç 3000) —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ Docker-—Å–µ—Ç–∏, –Ω–æ –Ω–µ –ø—Ä–æ–±—Ä–æ—à–µ–Ω –Ω–∞ —Ö–æ—Å—Ç. –í –≤–∞—à–µ–º docker-compose.yml —É —Å–µ—Ä–≤–∏—Å–∞ studio –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–µ–∫—Ü–∏—è ports:, –ø–æ—ç—Ç–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —Å –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã.

üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–∞ –≤ docker-compose.yml
–ù–∞–π–¥–∏—Ç–µ –≤ –≤–∞—à–µ–º —Ñ–∞–π–ª–µ —Å–µ–∫—Ü–∏—é studio: –∏ –¥–æ–±–∞–≤—å—Ç–µ ports: –ø—Ä—è–º–æ –ø–æ—Å–ª–µ restart: unless-stopped:

yaml
  studio:
    container_name: supabase-studio
    image: supabase/studio:2025.12.09-sha-434634f
    restart: unless-stopped
    # ‚ñº‚ñº‚ñº –î–û–ë–ê–í–¨–¢–ï –≠–¢–ò –î–í–ï –°–¢–†–û–ö–ò ‚ñº‚ñº‚ñº
    ports:
      - "3000:3000"
    # ‚ñ≤‚ñ≤‚ñ≤ –≠–¢–û –†–ï–®–ê–ï–¢ –ü–†–û–ë–õ–ï–ú–£ ‚ñ≤‚ñ≤‚ñ≤
    healthcheck:
      test:
        [
          "CMD",
          "node",
          "-e",
          "fetch('http://studio:3000/api/platform/profile').then((r) => {if (r.status !== 200) throw new Error(r.status)})"
        ]
      timeout: 10s
      interval: 5s
      retries: 3
    depends_on:
      analytics:
        condition: service_healthy
    # –£–ë–ï–†–ò–¢–ï –°–¢–ê–†–£–Æ –°–ï–ö–¶–ò–Æ ports: –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å –Ω–∏–∂–µ (—É –≤–∞—Å –µ—ë –Ω–µ—Ç –≤ –∫–æ–¥–µ –≤—ã—à–µ)
    environment:
      # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
üöÄ –î–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

bash
docker compose up -d studio
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:

bash
docker compose ps studio
–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è 0.0.0.0:3000->3000/tcp –≤ –∫–æ–ª–æ–Ω–∫–µ PORTS.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ (–µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è):

bash
docker compose logs studio --tail=20
–û—Ç–∫—Ä–æ–π—Ç–µ Studio: http://localhost:3000

üîç –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
–ï—Å–ª–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ä—Ç –≤—Å—ë –µ—â—ë –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–ª—É—à–∞–µ—Ç –ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Ä—Ç –≤–Ω—É—Ç—Ä–∏:

bash
# –ó–∞–π–¥–∏—Ç–µ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker exec -it supabase-studio netstat -tuln | grep :3000
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –∑–∞–Ω—è—Ç –ª–∏ –ø–æ—Ä—Ç 3000 –¥—Ä—É–≥–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π:

bash
# –ù–∞ —Ö–æ—Å—Ç–µ (–≤–∞—à–µ–π –º–∞—à–∏–Ω–µ)
sudo lsof -i :3000
# –∏–ª–∏
netstat -tuln | grep :3000
–ï—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—Ä—É–≥–∏–º Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º), –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç:

yaml
ports:
  - "3001:3000"  # –¢–µ–ø–µ—Ä—å Studio –±—É–¥–µ—Ç –Ω–∞ http://localhost:3001
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å healthcheck (–µ—Å–ª–∏ –æ–Ω –º–µ—à–∞–µ—Ç):

yaml
healthcheck:
  disable: true
üìä –ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö Studio
–û—à–∏–±–∫–∞ –≤ –ª–æ–≥–∞—Ö	–†–µ—à–µ–Ω–∏–µ
Error: connect ECONNREFUSED	–°–µ—Ä–≤–∏—Å—ã kong –∏–ª–∏ analytics –Ω–µ –≥–æ—Ç–æ–≤—ã. –î–æ–∂–¥–∏—Ç–µ—Å—å (healthy) —Å—Ç–∞—Ç—É—Å–∞.
Invalid API key	–ü—Ä–æ–≤–µ—Ä—å—Ç–µ ANON_KEY –∏ SERVICE_ROLE_KEY –≤ .env —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å —Ç–µ–º–∏ –≤ studio.environment.
Failed to fetch	Network –ø—Ä–æ–±–ª–µ–º–∞ –≤–Ω—É—Ç—Ä–∏ Docker. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ç—å: docker compose down && docker compose up -d.
–î–æ–±–∞–≤—å—Ç–µ ports: –≤ —Å–µ–∫—Ü–∏—é studio: –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äî —ç—Ç–æ —Ä–µ—à–∏—Ç –ø—Ä–æ–±–ª–µ–º—É —Å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é –ø–æ—Ä—Ç–∞ 3000. –ï—Å–ª–∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥—É—Ç –æ—à–∏–±–∫–∏, –ø–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥ docker compose logs studio --tail=30.

# Usage
#   Start:              docker compose up
#   With helpers:       docker compose -f docker-compose.yml -f ./dev/docker-compose.dev.yml up
#   Stop:               docker compose down
#   Destroy:            docker compose -f docker-compose.yml -f ./dev/docker-compose.dev.yml down -v --remove-orphans
#   Reset everything:  ./reset.sh

name: supabase

services:

  studio:
    container_name: supabase-studio
    image: supabase/studio:2025.12.09-sha-434634f
    restart: unless-stopped
    ports:
      - 3000:3000
    healthcheck:
      test:
        [
          "CMD",
          "node",
          "-e",
          "fetch('http://studio:3000/api/platform/profile').then((r) => {if (r.status !== 200) throw new Error(r.status)})"
        ]
      timeout: 10s
      interval: 5s
      retries: 3
    depends_on:
      analytics:
        condition: service_healthy
    environment:
      # Binds nestjs listener to both IPv4 and IPv6 network interfaces
      HOSTNAME: "::"

      STUDIO_PG_META_URL: http://meta:8080
      POSTGRES_PORT: ${POSTGRES_PORT}
      POSTGRES_HOST: ${POSTGRES_HOST}
      POSTGRES_DB: ${POSTGRES_DB}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      PG_META_CRYPTO_KEY: ${PG_META_CRYPTO_KEY}

      DEFAULT_ORGANIZATION_NAME: ${STUDIO_DEFAULT_ORGANIZATION}
      DEFAULT_PROJECT_NAME: ${STUDIO_DEFAULT_PROJECT}
      OPENAI_API_KEY: ${OPENAI_API_KEY:-}

      SUPABASE_URL: http://kong:8000
      SUPABASE_PUBLIC_URL: ${SUPABASE_PUBLIC_URL}
      SUPABASE_ANON_KEY: ${ANON_KEY}
      SUPABASE_SERVICE_KEY: ${SERVICE_ROLE_KEY}
      AUTH_JWT_SECRET: ${JWT_SECRET}

      # LOGFLARE_API_KEY is deprecated
      LOGFLARE_API_KEY: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
      LOGFLARE_PUBLIC_ACCESS_TOKEN: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
      LOGFLARE_PRIVATE_ACCESS_TOKEN: ${LOGFLARE_PRIVATE_ACCESS_TOKEN}

      LOGFLARE_URL: http://analytics:4000
      NEXT_PUBLIC_ENABLE_LOGS: true
      # Comment to use Big Query backend for analytics
      NEXT_ANALYTICS_BACKEND_PROVIDER: postgres
      # Uncomment to use Big Query backend for analytics
      # NEXT_ANALYTICS_BACKEND_PROVIDER: bigquery

  kong:
    container_name: supabase-kong
    image: kong:2.8.1
    restart: unless-stopped
    ports:
      - ${KONG_HTTP_PORT}:8000/tcp
      - ${KONG_HTTPS_PORT}:8443/tcp
    volumes:
      # https://github.com/supabase/supabase/issues/12661
      - ./volumes/api/kong.yml:/home/kong/temp.yml:ro,z
    depends_on:
      analytics:
        condition: service_healthy
    environment:
      KONG_DATABASE: "off"
      KONG_DECLARATIVE_CONFIG: /home/kong/kong.yml
      # https://github.com/supabase/cli/issues/14
      KONG_DNS_ORDER: LAST,A,CNAME
      KONG_PLUGINS: request-transformer,cors,key-auth,acl,basic-auth,request-termination,ip-restriction
      KONG_NGINX_PROXY_PROXY_BUFFER_SIZE: 160k
      KONG_NGINX_PROXY_PROXY_BUFFERS: 64 160k
      SUPABASE_ANON_KEY: ${ANON_KEY}
      SUPABASE_SERVICE_KEY: ${SERVICE_ROLE_KEY}
      DASHBOARD_USERNAME: ${DASHBOARD_USERNAME}
      DASHBOARD_PASSWORD: ${DASHBOARD_PASSWORD}
    # https://unix.stackexchange.com/a/294837
    entrypoint: bash -c 'eval "echo \"$$(cat ~/temp.yml)\"" > ~/kong.yml && /docker-entrypoint.sh kong docker-start'

  auth:
    container_name: supabase-auth
    image: supabase/gotrue:v2.183.0
    restart: unless-stopped
    healthcheck:
      test:
        [
          "CMD",
          "wget",
          "--no-verbose",
          "--tries=1",
          "--spider",
          "http://localhost:9999/health"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      analytics:
        condition: service_healthy
    environment:
      GOTRUE_API_HOST: 0.0.0.0
      GOTRUE_API_PORT: 9999
      API_EXTERNAL_URL: ${API_EXTERNAL_URL}

      GOTRUE_DB_DRIVER: postgres
      GOTRUE_DB_DATABASE_URL: postgres://supabase_auth_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

      GOTRUE_SITE_URL: ${SITE_URL}
      GOTRUE_URI_ALLOW_LIST: ${ADDITIONAL_REDIRECT_URLS}
      GOTRUE_DISABLE_SIGNUP: ${DISABLE_SIGNUP}

      GOTRUE_JWT_ADMIN_ROLES: service_role
      GOTRUE_JWT_AUD: authenticated
      GOTRUE_JWT_DEFAULT_GROUP_NAME: authenticated
      GOTRUE_JWT_EXP: ${JWT_EXPIRY}
      GOTRUE_JWT_SECRET: ${JWT_SECRET}

      GOTRUE_EXTERNAL_EMAIL_ENABLED: ${ENABLE_EMAIL_SIGNUP}
      GOTRUE_EXTERNAL_ANONYMOUS_USERS_ENABLED: ${ENABLE_ANONYMOUS_USERS}
      GOTRUE_MAILER_AUTOCONFIRM: ${ENABLE_EMAIL_AUTOCONFIRM}

      # Uncomment to bypass nonce check in ID Token flow. Commonly set to true when using Google Sign In on mobile.
      # GOTRUE_EXTERNAL_SKIP_NONCE_CHECK: true

      # GOTRUE_MAILER_SECURE_EMAIL_CHANGE_ENABLED: true
      # GOTRUE_SMTP_MAX_FREQUENCY: 1s
      GOTRUE_SMTP_ADMIN_EMAIL: ${SMTP_ADMIN_EMAIL}
      GOTRUE_SMTP_HOST: ${SMTP_HOST}
      GOTRUE_SMTP_PORT: ${SMTP_PORT}
      GOTRUE_SMTP_USER: ${SMTP_USER}
      GOTRUE_SMTP_PASS: ${SMTP_PASS}
      GOTRUE_SMTP_SENDER_NAME: ${SMTP_SENDER_NAME}
      GOTRUE_MAILER_URLPATHS_INVITE: ${MAILER_URLPATHS_INVITE}
      GOTRUE_MAILER_URLPATHS_CONFIRMATION: ${MAILER_URLPATHS_CONFIRMATION}
      GOTRUE_MAILER_URLPATHS_RECOVERY: ${MAILER_URLPATHS_RECOVERY}
      GOTRUE_MAILER_URLPATHS_EMAIL_CHANGE: ${MAILER_URLPATHS_EMAIL_CHANGE}

      GOTRUE_EXTERNAL_PHONE_ENABLED: ${ENABLE_PHONE_SIGNUP}
      GOTRUE_SMS_AUTOCONFIRM: ${ENABLE_PHONE_AUTOCONFIRM}
      # Uncomment to enable custom access token hook. Please see: https://supabase.com/docs/guides/auth/auth-hooks for full list of hooks and additional details about custom_access_token_hook

      # GOTRUE_HOOK_CUSTOM_ACCESS_TOKEN_ENABLED: "true"
      # GOTRUE_HOOK_CUSTOM_ACCESS_TOKEN_URI: "pg-functions://postgres/public/custom_access_token_hook"
      # GOTRUE_HOOK_CUSTOM_ACCESS_TOKEN_SECRETS: "<standard-base64-secret>"

      # GOTRUE_HOOK_MFA_VERIFICATION_ATTEMPT_ENABLED: "true"
      # GOTRUE_HOOK_MFA_VERIFICATION_ATTEMPT_URI: "pg-functions://postgres/public/mfa_verification_attempt"

      # GOTRUE_HOOK_PASSWORD_VERIFICATION_ATTEMPT_ENABLED: "true"
      # GOTRUE_HOOK_PASSWORD_VERIFICATION_ATTEMPT_URI: "pg-functions://postgres/public/password_verification_attempt"

      # GOTRUE_HOOK_SEND_SMS_ENABLED: "false"
      # GOTRUE_HOOK_SEND_SMS_URI: "pg-functions://postgres/public/custom_access_token_hook"
      # GOTRUE_HOOK_SEND_SMS_SECRETS: "v1,whsec_VGhpcyBpcyBhbiBleGFtcGxlIG9mIGEgc2hvcnRlciBCYXNlNjQgc3RyaW5n"

      # GOTRUE_HOOK_SEND_EMAIL_ENABLED: "false"
      # GOTRUE_HOOK_SEND_EMAIL_URI: "http://host.docker.internal:54321/functions/v1/email_sender"
      # GOTRUE_HOOK_SEND_EMAIL_SECRETS: "v1,whsec_VGhpcyBpcyBhbiBleGFtcGxlIG9mIGEgc2hvcnRlciBCYXNlNjQgc3RyaW5n"

  rest:
    container_name: supabase-rest
    image: postgrest/postgrest:v14.1
    restart: unless-stopped
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      analytics:
        condition: service_healthy
    environment:
      PGRST_DB_URI: postgres://authenticator:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
      PGRST_DB_SCHEMAS: ${PGRST_DB_SCHEMAS}
      PGRST_DB_ANON_ROLE: anon
      PGRST_JWT_SECRET: ${JWT_SECRET}
      PGRST_DB_USE_LEGACY_GUCS: "false"
      PGRST_APP_SETTINGS_JWT_SECRET: ${JWT_SECRET}
      PGRST_APP_SETTINGS_JWT_EXP: ${JWT_EXPIRY}
    command:
      [
        "postgrest"
      ]

  realtime:
    # This container name looks inconsistent but is correct because realtime constructs tenant id by parsing the subdomain
    container_name: realtime-dev.supabase-realtime
    image: supabase/realtime:v2.68.0
    restart: unless-stopped
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      analytics:
        condition: service_healthy
    healthcheck:
      test:
        [
          "CMD-SHELL",
          "curl -sSfL --head -o /dev/null -H \"Authorization: Bearer ${ANON_KEY}\" http://localhost:4000/api/tenants/realtime-dev/health"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    environment:
      PORT: 4000
      DB_HOST: ${POSTGRES_HOST}
      DB_PORT: ${POSTGRES_PORT}
      DB_USER: supabase_admin
      DB_PASSWORD: ${POSTGRES_PASSWORD}
      DB_NAME: ${POSTGRES_DB}
      DB_AFTER_CONNECT_QUERY: 'SET search_path TO _realtime'
      DB_ENC_KEY: supabaserealtime
      API_JWT_SECRET: ${JWT_SECRET}
      SECRET_KEY_BASE: ${SECRET_KEY_BASE}
      ERL_AFLAGS: -proto_dist inet_tcp
      DNS_NODES: "''"
      RLIMIT_NOFILE: "10000"
      APP_NAME: realtime
      SEED_SELF_HOST: "true"
      RUN_JANITOR: "true"

  # To use S3 backed storage: docker compose -f docker-compose.yml -f docker-compose.s3.yml up
  storage:
    container_name: supabase-storage
    image: supabase/storage-api:v1.33.0
    restart: unless-stopped
    volumes:
      - ./volumes/storage:/var/lib/storage:z
    healthcheck:
      test:
        [
          "CMD",
          "wget",
          "--no-verbose",
          "--tries=1",
          "--spider",
          "http://storage:5000/status"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      rest:
        condition: service_started
      imgproxy:
        condition: service_started
    environment:
      ANON_KEY: ${ANON_KEY}
      SERVICE_KEY: ${SERVICE_ROLE_KEY}
      POSTGREST_URL: http://rest:3000
      PGRST_JWT_SECRET: ${JWT_SECRET}
      DATABASE_URL: postgres://supabase_storage_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
      REQUEST_ALLOW_X_FORWARDED_PATH: "true"
      FILE_SIZE_LIMIT: 52428800
      STORAGE_BACKEND: file
      FILE_STORAGE_BACKEND_PATH: /var/lib/storage
      TENANT_ID: stub
      # TODO: https://github.com/supabase/storage-api/issues/55
      REGION: stub
      GLOBAL_S3_BUCKET: stub
      ENABLE_IMAGE_TRANSFORMATION: "true"
      IMGPROXY_URL: http://imgproxy:5001

  imgproxy:
    container_name: supabase-imgproxy
    image: darthsim/imgproxy:v3.8.0
    restart: unless-stopped
    volumes:
      - ./volumes/storage:/var/lib/storage:z
    healthcheck:
      test:
        [
          "CMD",
          "imgproxy",
          "health"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    environment:
      IMGPROXY_BIND: ":5001"
      IMGPROXY_LOCAL_FILESYSTEM_ROOT: /
      IMGPROXY_USE_ETAG: "true"
      IMGPROXY_ENABLE_WEBP_DETECTION: ${IMGPROXY_ENABLE_WEBP_DETECTION}

  meta:
    container_name: supabase-meta
    image: supabase/postgres-meta:v0.93.1
    restart: unless-stopped
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
      analytics:
        condition: service_healthy
    environment:
      PG_META_PORT: 8080
      PG_META_DB_HOST: ${POSTGRES_HOST}
      PG_META_DB_PORT: ${POSTGRES_PORT}
      PG_META_DB_NAME: ${POSTGRES_DB}
      PG_META_DB_USER: supabase_admin
      PG_META_DB_PASSWORD: ${POSTGRES_PASSWORD}
      CRYPTO_KEY: ${PG_META_CRYPTO_KEY}

  functions:
    container_name: supabase-edge-functions
    image: supabase/edge-runtime:v1.69.28
    restart: unless-stopped
    volumes:
      - ./volumes/functions:/home/deno/functions:Z
    depends_on:
      analytics:
        condition: service_healthy
    environment:
      JWT_SECRET: ${JWT_SECRET}
      SUPABASE_URL: http://kong:8000
      SUPABASE_ANON_KEY: ${ANON_KEY}
      SUPABASE_SERVICE_ROLE_KEY: ${SERVICE_ROLE_KEY}
      SUPABASE_DB_URL: postgresql://postgres:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
      # TODO: Allow configuring VERIFY_JWT per function. This PR might help: https://github.com/supabase/cli/pull/786
      VERIFY_JWT: "${FUNCTIONS_VERIFY_JWT}"
    command:
      [
        "start",
        "--main-service",
        "/home/deno/functions/main"
      ]

  analytics:
    container_name: supabase-analytics
    image: supabase/logflare:1.26.25
    restart: unless-stopped
    ports:
      - 4000:4000
    # Uncomment to use Big Query backend for analytics
    # volumes:
    #   - type: bind
    #     source: ${PWD}/gcloud.json
    #     target: /opt/app/rel/logflare/bin/gcloud.json
    #     read_only: true
    healthcheck:
      test:
        [
          "CMD",
          "curl",
          "http://localhost:4000/health"
        ]
      timeout: 5s
      interval: 5s
      retries: 10
    depends_on:
      db:
        # Disable this if you are using an external Postgres database
        condition: service_healthy
    environment:
      LOGFLARE_NODE_HOST: 127.0.0.1
      DB_USERNAME: supabase_admin
      DB_DATABASE: _supabase
      DB_HOSTNAME: ${POSTGRES_HOST}
      DB_PORT: ${POSTGRES_PORT}
      DB_PASSWORD: ${POSTGRES_PASSWORD}
      DB_SCHEMA: _analytics
      LOGFLARE_PUBLIC_ACCESS_TOKEN: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
      LOGFLARE_PRIVATE_ACCESS_TOKEN: ${LOGFLARE_PRIVATE_ACCESS_TOKEN}
      LOGFLARE_SINGLE_TENANT: true
      LOGFLARE_SUPABASE_MODE: true

      # Comment variables to use Big Query backend for analytics
      POSTGRES_BACKEND_URL: postgresql://supabase_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/_supabase
      POSTGRES_BACKEND_SCHEMA: _analytics
      LOGFLARE_FEATURE_FLAG_OVERRIDE: multibackend=true
      # Uncomment to use Big Query backend for analytics
      # GOOGLE_PROJECT_ID: ${GOOGLE_PROJECT_ID}
      # GOOGLE_PROJECT_NUMBER: ${GOOGLE_PROJECT_NUMBER}

  # Comment out everything below this point if you are using an external Postgres database
  db:
    container_name: supabase-db
    image: supabase/postgres:15.8.1.085
    restart: unless-stopped
    volumes:
      - ./volumes/db/realtime.sql:/docker-entrypoint-initdb.d/migrations/99-realtime.sql:Z
      # Must be superuser to create event trigger
      - ./volumes/db/webhooks.sql:/docker-entrypoint-initdb.d/init-scripts/98-webhooks.sql:Z
      # Must be superuser to alter reserved role
      - ./volumes/db/roles.sql:/docker-entrypoint-initdb.d/init-scripts/99-roles.sql:Z
      # Initialize the database settings with JWT_SECRET and JWT_EXP
      - ./volumes/db/jwt.sql:/docker-entrypoint-initdb.d/init-scripts/99-jwt.sql:Z
      # PGDATA directory is persisted between restarts
      - ./volumes/db/data:/var/lib/postgresql/data:Z
      # Changes required for internal supabase data such as _analytics
      - ./volumes/db/_supabase.sql:/docker-entrypoint-initdb.d/migrations/97-_supabase.sql:Z
      # Changes required for Analytics support
      - ./volumes/db/logs.sql:/docker-entrypoint-initdb.d/migrations/99-logs.sql:Z
      # Changes required for Pooler support
      - ./volumes/db/pooler.sql:/docker-entrypoint-initdb.d/migrations/99-pooler.sql:Z
      # Use named volume to persist pgsodium decryption key between restarts
      - db-config:/etc/postgresql-custom
    healthcheck:
      test:
        [
        "CMD",
        "pg_isready",
        "-U",
        "postgres",
        "-h",
        "localhost"
        ]
      interval: 5s
      timeout: 5s
      retries: 10
    depends_on:
      vector:
        condition: service_healthy
    environment:
      POSTGRES_HOST: /var/run/postgresql
      PGPORT: ${POSTGRES_PORT}
      POSTGRES_PORT: ${POSTGRES_PORT}
      PGPASSWORD: ${POSTGRES_PASSWORD}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      PGDATABASE: ${POSTGRES_DB}
      POSTGRES_DB: ${POSTGRES_DB}
      JWT_SECRET: ${JWT_SECRET}
      JWT_EXP: ${JWT_EXPIRY}
    command:
      [
        "postgres",
        "-c",
        "config_file=/etc/postgresql/postgresql.conf",
        "-c",
        "log_min_messages=fatal" # prevents Realtime polling queries from appearing in logs
      ]

  vector:
    container_name: supabase-vector
    image: timberio/vector:0.28.1-alpine
    restart: unless-stopped
    volumes:
      - ./volumes/logs/vector.yml:/etc/vector/vector.yml:ro,z
      - ${DOCKER_SOCKET_LOCATION}:/var/run/docker.sock:ro,z
    healthcheck:
      test:
        [
          "CMD",
          "wget",
          "--no-verbose",
          "--tries=1",
          "--spider",
          "http://vector:9001/health"
        ]
      timeout: 5s
      interval: 5s
      retries: 3
    environment:
      LOGFLARE_PUBLIC_ACCESS_TOKEN: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}
    command:
      [
        "--config",
        "/etc/vector/vector.yml"
      ]
    security_opt:
      - "label=disable"

  # Update the DATABASE_URL if you are using an external Postgres database
  supavisor:
    container_name: supabase-pooler
    image: supabase/supavisor:2.7.4
    restart: unless-stopped
    ports:
      - ${POSTGRES_PORT}:5432
      - ${POOLER_PROXY_PORT_TRANSACTION}:6543
    volumes:
      - ./volumes/pooler/pooler.exs:/etc/pooler/pooler.exs:ro,z
    healthcheck:
      test:
        [
          "CMD",
          "curl",
          "-sSfL",
          "--head",
          "-o",
          "/dev/null",
          "http://127.0.0.1:4000/api/health"
        ]
      interval: 10s
      timeout: 5s
      retries: 5
    depends_on:
      db:
        condition: service_healthy
      analytics:
        condition: service_healthy
    environment:
      PORT: 4000
      POSTGRES_PORT: ${POSTGRES_PORT}
      POSTGRES_DB: ${POSTGRES_DB}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      DATABASE_URL: ecto://supabase_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/_supabase
      CLUSTER_POSTGRES: true
      SECRET_KEY_BASE: ${SECRET_KEY_BASE}
      VAULT_ENC_KEY: ${VAULT_ENC_KEY}
      API_JWT_SECRET: ${JWT_SECRET}
      METRICS_JWT_SECRET: ${JWT_SECRET}
      REGION: local
      ERL_AFLAGS: -proto_dist inet_tcp
      POOLER_TENANT_ID: ${POOLER_TENANT_ID}
      POOLER_DEFAULT_POOL_SIZE: ${POOLER_DEFAULT_POOL_SIZE}
      POOLER_MAX_CLIENT_CONN: ${POOLER_MAX_CLIENT_CONN}
      POOLER_POOL_MODE: transaction
      DB_POOL_SIZE: ${POOLER_DB_POOL_SIZE}
    command:
      [
        "/bin/sh",
        "-c",
        "/app/bin/migrate && /app/bin/supavisor eval \"$$(cat /etc/pooler/pooler.exs)\" && /app/bin/server"
      ]

volumes:
  db-config:
ivi@ivi-home:~/mywork/tao/taoinfra$ docker compose -f ./supabase-project/docker-compose.yml -f  pgAdmin_compose.yml down studio
[+] down 2/2
 ‚úî Container supabase-studio Removed                                                                                                                                                                  0.2s 
 ! Network supabase_default  Resource is still in use                                                                                                                                                 0.0s 
ivi@ivi-home:~/mywork/tao/taoinfra$ docker compose -f ./supabase-project/docker-compose.yml -f  pgAdmin_compose.yml up -d studio
[+] up 4/4
 ‚úî Container supabase-vector    Healthy                                                                                                                                                               0.6s 
 ‚úî Container supabase-db        Healthy                                                                                                                                                               1.1s 
 ‚úî Container supabase-analytics Healthy                                                                                                                                                               1.6s 
 ‚úî Container supabase-studio    Created                                                                                                                                                               0.1s 
ivi@ivi-home:~/mywork/tao/taoinfra$ docker compose -f ./supabase-project/docker-compose.yml -f  pgAdmin_compose.yml ps --format "table {{.ID}}\t{{.Image}}\t{{.Status}}\t{{.Ports}}" | grep studio
0ccf7b34853b   supabase/studio:2025.12.17-sha-43f4f7f   Up 5 seconds (healthy)    3000/tcp
ivi@ivi-home:~/mywork/tao/taoinfra$
–û—Ç–ª–∏—á–Ω–æ! –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Studio –∑–∞–ø—É—â–µ–Ω –∏ –∑–¥–æ—Ä–æ–≤ (Up 5 seconds (healthy)).

–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –ø–æ—Ä—Ç 3000/tcp –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∞ –Ω–µ –ø—Ä–æ–±—Ä–æ—à–µ–Ω –Ω–∞ —Ö–æ—Å—Ç (0.0.0.0:3000->3000/tcp). –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–µ–∫—Ü–∏—è ports: –≤ –≤–∞—à–µ–º docker-compose.yml –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è.

üîç –ü—Ä–∏—á–∏–Ω–∞: –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å pgAdmin_compose.yml
–í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫–æ–º–∞–Ω–¥—É —Å –¥–≤—É–º—è —Ñ–∞–π–ª–∞–º–∏: docker compose -f ./supabase-project/docker-compose.yml -f pgAdmin_compose.yml.

–ö–æ–≥–¥–∞ Docker Compose –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤, –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ñ–∞–π–ª –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç. –ï—Å–ª–∏ –≤ pgAdmin_compose.yml –Ω–µ—Ç —Å–µ–∫—Ü–∏–∏ studio –∏–ª–∏ –≤ –Ω–µ–π –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ä—Ç–æ–≤, —ç—Ç–æ –º–æ–∂–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–∞ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.

üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ
–í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ pgAdmin_compose.yml
–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, —á—Ç–æ –≤ –Ω—ë–º –Ω–∞–ø–∏—Å–∞–Ω–æ –ø—Ä–æ —Å–µ—Ä–≤–∏—Å studio:

bash
cat pgAdmin_compose.yml | grep -A10 -B2 "studio:"
–ï—Å–ª–∏ —Ç–∞–º –µ—Å—Ç—å –ø—É—Å—Ç–∞—è —Å–µ–∫—Ü–∏—è studio: –∏–ª–∏ —Å –¥—Ä—É–≥–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ—Ä—Ç–æ–≤ ‚Äî —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞.

–í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

bash
docker compose -f ./supabase-project/docker-compose.yml down studio
docker compose -f ./supabase-project/docker-compose.yml up -d studio
–ó–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã:

bash
docker compose -f ./supabase-project/docker-compose.yml ps studio
–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è 0.0.0.0:3000->3000/tcp.

–í–∞—Ä–∏–∞–Ω—Ç 3: –Ø–≤–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ—Ä—Ç—ã –≤ pgAdmin_compose.yml
–î–æ–±–∞–≤—å—Ç–µ –≤ pgAdmin_compose.yml —Å–µ–∫—Ü–∏—é:

yaml
services:
  studio:
    ports:
      - "3000:3000"
‚ö° –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –≤–∞—Ä–∏–∞–Ω—Ç 2:

bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ studio –∏–∑ –æ–±–æ–∏—Ö —Ñ–∞–π–ª–æ–≤
docker compose -f ./supabase-project/docker-compose.yml -f pgAdmin_compose.yml down studio

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¢–û–õ–¨–ö–û –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
docker compose -f ./supabase-project/docker-compose.yml up -d studio

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã
docker compose -f ./supabase-project/docker-compose.yml ps --format "table {{.Name}}\t{{.Status}}\t{{.Ports}}"
üí° –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ –≤–∏–¥–Ω–æ –ø–æ—Ä—Ç–∞
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

bash
docker compose -f ./supabase-project/docker-compose.yml up -d --force-recreate studio
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ Studio –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ http://localhost:3000. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è, –ø–æ–∫–∞–∂–∏—Ç–µ:

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ pgAdmin_compose.yml

–í—ã–≤–æ–¥ docker compose -f ./supabase-project/docker-compose.yml config | grep -A5 -B5 "studio:"

ivi@ivi-home:~/mywork/tao/taoinfra$ docker compose -f ./supabase-project/docker-compose.yml   up -d studio
WARN[0000] Found orphan containers ([supabase-pgadmin-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up. 
[+] up 4/4
 ‚úî Container supabase-vector    Healthy                                                                                                                                                               0.6s 
 ‚úî Container supabase-db        Healthy                                                                                                                                                               1.1s 
 ‚úî Container supabase-analytics Healthy                                                                                                                                                               1.6s 
 ‚úî Container supabase-studio    Created                                                                                                                                                               0.1s 
ivi@ivi-home:~/mywork/tao/taoinfra$ docker compose -f ./supabase-project/docker-compose.yml -f  ps --format "table {{.ID}}\t{{.Image}}\t{{.Status}}\t{{.Ports}}" | grep studio
unknown flag: --format
ivi@ivi-home:~/mywork/tao/taoinfra$ docker compose -f ./supabase-project/docker-compose.yml ps --format "table {{.ID}}\t{{.Image}}\t{{.Status}}\t{{.Ports}}" | grep studio
e7af83f126d7   supabase/studio:2025.12.17-sha-43f4f7f   Up 18 seconds (healthy)   3000/tcp
ivi@ivi-home:~/mywork/tao/taoinfra$
–ü—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è: –ø–æ—Ä—Ç 3000/tcp –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –¥–æ—Å—Ç—É–ø–Ω—ã–π —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∞ –Ω–µ –ø—Ä–æ–±—Ä–æ—à–µ–Ω –Ω–∞ —Ö–æ—Å—Ç (0.0.0.0:3000->3000/tcp).

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–µ–∫—Ü–∏—è ports: –≤ –≤–∞—à–µ–º docker-compose.yml –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è, –ø–æ—á–µ–º—É.

üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —à–∞–≥ –∑–∞ —à–∞–≥–æ–º
–®–∞–≥ 1. –ü—Ä–æ–≤–µ—Ä–∏–º —Ç–æ—á–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –≤–∏–¥–∏—Ç Docker Compose

bash
docker compose -f ./supabase-project/docker-compose.yml config | grep -A10 "studio:"
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∂–µ—Ç, –∫–∞–∫ Docker Compose –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç –≤–∞—à —Ñ–∞–π–ª. –ò—â–µ–º —Å–µ–∫—Ü–∏—é ports:.

–®–∞–≥ 2. –ü—Ä–æ–≤–µ—Ä–∏–º, –Ω–µ –∑–∞–Ω—è—Ç –ª–∏ –ø–æ—Ä—Ç 3000 –Ω–∞ —Ö–æ—Å—Ç–µ

bash
# –ü—Ä–æ–≤–µ—Ä–∏–º, —Å–ª—É—à–∞–µ—Ç –ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—Ä—Ç 3000
sudo lsof -i :3000
# –∏–ª–∏
ss -tuln | grep :3000
–ï—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º, Docker –Ω–µ —Å–º–æ–∂–µ—Ç –µ–≥–æ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å.

–®–∞–≥ 3. –ü—Ä–æ–≤–µ—Ä–∏–º –ª–æ–≥–∏ Studio –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫ –∑–∞–ø—É—Å–∫–∞

bash
docker compose -f ./supabase-project/docker-compose.yml logs studio --tail=30
–®–∞–≥ 4. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–¥–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —è–≤–Ω—ã–º —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ—Ä—Ç–æ–≤

bash
# –û—Å—Ç–∞–Ω–æ–≤–∏–º –∏ —É–¥–∞–ª–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker compose -f ./supabase-project/docker-compose.yml rm -f studio

# –ó–∞–ø—É—Å—Ç–∏–º –∑–∞–Ω–æ–≤–æ —Å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–º –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ–º
docker compose -f ./supabase-project/docker-compose.yml up -d --force-recreate studio

# –ü—Ä–æ–≤–µ—Ä–∏–º –ø–æ—Ä—Ç—ã –µ—â—ë —Ä–∞–∑
docker compose -f ./supabase-project/docker-compose.yml ps studio
üö® –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è
–ü–æ—Ä—Ç –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º (—Å–∞–º–∞—è –≤–µ—Ä–æ—è—Ç–Ω–∞—è)

–ï—Å–ª–∏ lsof –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥—Ä—É–≥–æ–π –ø—Ä–æ—Ü–µ—Å—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—Ä—É–≥–æ–π Node.js —Å–µ—Ä–≤–µ—Ä), –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ docker-compose.yml:

yaml
ports:
  - "3001:3000"  # –¢–µ–ø–µ—Ä—å Studio –±—É–¥–µ—Ç –Ω–∞ http://localhost:3001
–£—Å—Ç–∞—Ä–µ–≤—à–∏–π –æ–±—Ä–∞–∑ –∏–ª–∏ –∫–µ—à

bash
# –û–±–Ω–æ–≤–∏–º –æ–±—Ä–∞–∑ Studio
docker compose -f ./supabase-project/docker-compose.yml pull studio
docker compose -f ./supabase-project/docker-compose.yml up -d --force-recreate studio
–ü—Ä–æ–±–ª–µ–º–∞ —Å Docker Compose –≤–µ—Ä—Å–∏–µ–π
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é:

bash
docker compose version
–ï—Å–ª–∏ —É –≤–∞—Å –æ—á–µ–Ω—å —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è, –æ–±–Ω–æ–≤–∏—Ç–µ –µ—ë.

‚ö° –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –∑–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é
–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç, –∑–∞–ø—É—Å—Ç–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—Ä—É—á–Ω—É—é —Å —è–≤–Ω—ã–º –ø—Ä–æ–±—Ä–æ—Å–æ–º –ø–æ—Ä—Ç–∞:

bash
# –£–¥–∞–ª—è–µ–º —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker rm -f supabase-studio

# –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Ä—É—á–Ω—É—é
docker run -d \
  --name supabase-studio \
  --network supabase_default \
  -p 3000:3000 \
  -e STUDIO_PG_META_URL=http://meta:8080 \
  -e POSTGRES_HOST=db \
  -e POSTGRES_PORT=5432 \
  -e POSTGRES_DB=postgres \
  -e POSTGRES_PASSWORD=1 \
  -e SUPABASE_URL=http://kong:8000 \
  -e SUPABASE_PUBLIC_URL=http://localhost:8000 \
  -e SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE \
  -e SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q \
  supabase/studio:2025.12.17-sha-43f4f7f
üìä –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –∏—Ç–æ–≥–µ
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥–∞ docker ps –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:

text
CONTAINER ID   IMAGE                                      PORTS                    NAMES
e7af83f126d7   supabase/studio:2025.12.17-sha-43f4f7f    0.0.0.0:3000->3000/tcp   supabase-studio
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –®–∞–≥ 1 –∏ –®–∞–≥ 2 –∏ –ø–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —ç—Ç–æ –¥–∞—Å—Ç –∫–ª—é—á–µ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã.

$ sudo lsof -i :3000
[sudo] password for ivi: 
ivi@ivi-home:~/mywork/tao/taoinfra$ ss -tuln | grep :3000
ivi@ivi-home:~/mywork/tao/taoinfra$ docker compose -f ./supabase-project/docker-compose.yml logs studio --tail=30
supabase-studio  |    ‚ñ≤ Next.js 16.0.10
supabase-studio  |    - Local:         http://[::1]:3000
supabase-studio  |    - Network:       http://[::]:3000
supabase-studio  | 
supabase-studio  |  ‚úì Starting...
supabase-studio  |  ‚úì Ready in 185ms
ivi@ivi-home:~/mywork/tao/taoinfra$
–û—Ç–ª–∏—á–Ω–æ! –ü–æ—Ä—Ç 3000 —Å–≤–æ–±–æ–¥–µ–Ω (–Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ lsof –∏ ss), –∏ Studio —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ ("Ready in 185ms").

–ü—Ä–æ–±–ª–µ–º–∞ —Ç–æ—á–Ω–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Docker Compose. –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.

üîç –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏–º –ø–æ–ª–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Studio
bash
docker compose -f ./supabase-project/docker-compose.yml config | yq '.services.studio'
–ï—Å–ª–∏ –Ω–µ—Ç yq, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

bash
docker compose -f ./supabase-project/docker-compose.yml config | grep -A30 "studio:"
–ò—â–µ–º —Å–µ–∫—Ü–∏—é ports: –≤ –≤—ã–≤–æ–¥–µ. –û–Ω–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

yaml
ports:
  - published: 3000
    target: 3000
üîß –®–∞–≥ 2: –í—Ä–µ–º–µ–Ω–Ω–æ–µ –ø—Ä—è–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ
–ü–æ–∫–∞ —Ä–∞–∑–±–∏—Ä–∞–µ–º—Å—è —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π, –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–±—Ä–æ—Å–∏–º –ø–æ—Ä—Ç –≤—Ä—É—á–Ω—É—é:

bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏–º —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker stop supabase-studio

# 2. –£–¥–∞–ª–∏–º –µ–≥–æ
docker rm supabase-studio

# 3. –ó–∞–ø—É—Å—Ç–∏–º —Å —è–≤–Ω—ã–º –ø—Ä–æ–±—Ä–æ—Å–æ–º –ø–æ—Ä—Ç–∞
docker run -d \
  --name supabase-studio \
  --network supabase_default \
  -p 3000:3000 \
  -e STUDIO_PG_META_URL=http://meta:8080 \
  -e POSTGRES_HOST=db \
  -e POSTGRES_PORT=5432 \
  -e POSTGRES_DB=postgres \
  -e POSTGRES_PASSWORD=1 \
  -e SUPABASE_URL=http://kong:8000 \
  -e SUPABASE_PUBLIC_URL=http://localhost:8000 \
  -e SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE \
  -e SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q \
  supabase/studio:2025.12.17-sha-43f4f7f

# 4. –ü—Ä–æ–≤–µ—Ä–∏–º
docker ps | grep studio
–¢–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è 0.0.0.0:3000->3000/tcp.

üìù –®–∞–≥ 3: –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ docker-compose.yml
–°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Å–µ–∫—Ü–∏–∏ ports: –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω –≤ –≤–∞—à–µ–º —Ñ–∞–π–ª–µ. –î–∞–≤–∞–π—Ç–µ —Å—Ä–∞–≤–Ω–∏–º:

‚ùå –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:

yaml
# –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ—Ç –∫–∞–≤—ã—á–µ–∫ —É —á–∏—Å–µ–ª
ports:
  - 3000:3000  # –ú–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö

# –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
ports: "3000:3000"  # –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!

# –ü—Ä–æ–±–ª–µ–º–∞ 3: –ü—Ä–æ–±–µ–ª—ã –≤–æ–∫—Ä—É–≥ –¥–≤–æ–µ—Ç–æ—á–∏—è
ports:
  - 3000 : 3000  # –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:

yaml
ports:
  - "3000:3000"
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à —Ñ–∞–π–ª: –æ—Ç–∫—Ä–æ–π—Ç–µ ./supabase-project/docker-compose.yml –∏ –Ω–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é studio:. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ports: –≤—ã–≥–ª—è–¥–∏—Ç —Ç–æ—á–Ω–æ —Ç–∞–∫:

yaml
studio:
  container_name: supabase-studio
  image: supabase/studio:2025.12.09-sha-434634f
  restart: unless-stopped
  ports:
    - "3000:3000"  # ‚Üê –î–û–õ–ñ–ù–´ –ë–´–¢–¨ –ö–ê–í–´–ß–ö–ò!
  healthcheck:
    # ...
üöÄ –®–∞–≥ 4: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
–ï—Å–ª–∏ –Ω–∞—à–ª–∏ –ø—Ä–æ–±–ª–µ–º—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

–ò—Å–ø—Ä–∞–≤—å—Ç–µ docker-compose.yml

–ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

bash
docker compose -f ./supabase-project/docker-compose.yml up -d --force-recreate studio
docker compose -f ./supabase-project/docker-compose.yml ps studio
üìä –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É:

bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Å—å —Ñ–∞–π–ª –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ–∫—Ü–∏–∏ studio
grep -n "studio:" ./supabase-project/docker-compose.yml

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ
grep -B5 -A5 "3000" ./supabase-project/docker-compose.yml

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Docker Compose –≤–µ—Ä—Å–∏—é
docker compose version

# 4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
# –í—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ ports –Ω–∞:
ports:
  - target: 3000
    published: 3000
    protocol: tcp
–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –ø—É—Ç—å —Å–µ–π—á–∞—Å: –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –®–∞–≥ 2 (—Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫), —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ Studio, –∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Ä–∞–∑–±–µ—Ä–∏—Ç–µ—Å—å —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π —Ñ–∞–π–ª–∞.

–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–∞–Ω–¥—ã –∏–∑ –®–∞–≥–∞ 1 ‚Äî —ç—Ç–æ —Å—Ä–∞–∑—É –ø—Ä–æ—è—Å–Ω–∏—Ç, –≤–∏–¥–∏—Ç –ª–∏ Docker Compose —Å–µ–∫—Ü–∏—é ports: –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

a$ docker compose -f ./supabase-project/docker-compose.yml config | grep -A30 "studio:"
  studio:
    container_name: supabase-studio
    depends_on:
      analytics:
        condition: service_healthy
        required: true
    environment:
      AUTH_JWT_SECRET: your-super-secret-jwt-token-with-at-least-32-characters-long
      DEFAULT_ORGANIZATION_NAME: Default Organization
      DEFAULT_PROJECT_NAME: Default Project
      HOSTNAME: '::'
      LOGFLARE_API_KEY: your-super-secret-and-long-logflare-key-public
      LOGFLARE_PRIVATE_ACCESS_TOKEN: your-super-secret-and-long-logflare-key-private
      LOGFLARE_PUBLIC_ACCESS_TOKEN: your-super-secret-and-long-logflare-key-public
      LOGFLARE_URL: http://analytics:4000
      NEXT_ANALYTICS_BACKEND_PROVIDER: postgres
      NEXT_PUBLIC_ENABLE_LOGS: "true"
      OPENAI_API_KEY: ""
      PG_META_CRYPTO_KEY: your-encryption-key-32-chars-min
      POSTGRES_DB: postgres
      POSTGRES_HOST: db
      POSTGRES_PASSWORD: qwerty
      POSTGRES_PORT: "5432"
      STUDIO_PG_META_URL: http://meta:8080
      SUPABASE_ANON_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE
      SUPABASE_PUBLIC_URL: http://localhost:8000
      SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q
      SUPABASE_URL: http://kong:8000
    healthcheck:
      test:
        - CMD
--
        - fetch('http://studio:3000/api/platform/profile').then((r) => {if (r.status !== 200) throw new Error(r.status)})
      timeout: 10s
      interval: 5s
      retries: 3
    image: supabase/studio:2025.12.17-sha-43f4f7f
    networks:
      default: null
    restart: unless-stopped
  supavisor:
    command:
      - /bin/sh
      - -c
      - /app/bin/migrate && /app/bin/supavisor eval "$$(cat /etc/pooler/pooler.exs)" && /app/bin/server
    container_name: supabase-pooler
    depends_on:
      analytics:
        condition: service_healthy
        required: true
      db:
        condition: service_healthy
        required: true
    environment:
      API_JWT_SECRET: your-super-secret-jwt-token-with-at-least-32-characters-long
      CLUSTER_POSTGRES: "true"
      DATABASE_URL: ecto://supabase_admin:qwerty@db:5432/_supabase
      DB_POOL_SIZE: "5"
      ERL_AFLAGS: -proto_dist inet_tcp
      METRICS_JWT_SECRET: your-super-secret-jwt-token-with-at-least-32-characters-long
      POOLER_DEFAULT_POOL_SIZE: "20"
      POOLER_MAX_CLIENT_CONN: "100"
      POOLER_POOL_MODE: transaction
      POOLER_TENANT_ID: your-tenant-id
      PORT: "4000"
      POSTGRES_DB: postgres
      POSTGRES_PASSWORD: qwerty
–ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞! –í –≤—ã–≤–æ–¥–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ—Ç —Å–µ–∫—Ü–∏–∏ ports: –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ studio. Docker Compose –µ—ë –Ω–µ –≤–∏–¥–∏—Ç, –ø–æ—ç—Ç–æ–º—É –ø–æ—Ä—Ç –Ω–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è.

üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ: –¥–æ–±–∞–≤–∏—Ç—å ports: –≤ docker-compose.yml
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª ./supabase-project/docker-compose.yml –∏ –≤ —Å–µ–∫—Ü–∏—é studio: –¥–æ–±–∞–≤—å—Ç–µ ports: —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ restart: unless-stopped:

yaml
  studio:
    container_name: supabase-studio
    image: supabase/studio:2025.12.09-sha-434634f
    restart: unless-stopped
    # ‚ñº‚ñº‚ñº –î–û–ë–ê–í–¨–¢–ï –≠–¢–ò –¢–†–ò –°–¢–†–û–ö–ò ‚ñº‚ñº‚ñº
    ports:
      - "3000:3000"
    # ‚ñ≤‚ñ≤‚ñ≤ –≠–¢–û –†–ï–®–ê–ï–¢ –ü–†–û–ë–õ–ï–ú–£ ‚ñ≤‚ñ≤‚ñ≤
    healthcheck:
      test:
        [
          "CMD",
          "node",
          "-e",
          "fetch('http://studio:3000/api/platform/profile').then((r) => {if (r.status !== 200) throw new Error(r.status)})"
        ]
      timeout: 10s
      interval: 5s
      retries: 3
    depends_on:
      analytics:
        condition: service_healthy
üöÄ –î–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

–ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

bash
docker compose -f ./supabase-project/docker-compose.yml up -d --force-recreate studio
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã:

bash
docker compose -f ./supabase-project/docker-compose.yml ps studio
–¢–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è 0.0.0.0:3000->3000/tcp.

–û—Ç–∫—Ä–æ–π—Ç–µ Studio: http://localhost:3000

üí° –ü–æ—á–µ–º—É —Ç–∞–∫ –ø—Ä–æ–∏–∑–æ—à–ª–æ?
–í–µ—Ä–æ—è—Ç–Ω–æ, –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞ —Å–µ–∫—Ü–∏—è ports: –±—ã–ª–∞ —Å–ª—É—á–∞–π–Ω–æ —É–¥–∞–ª–µ–Ω–∞. Docker Compose —á–µ—Å—Ç–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –µ—Å—Ç—å –≤ —Ñ–∞–π–ª–µ.

‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–í –≤—ã–≤–æ–¥–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —è –≤–∏–∂—É, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ .env.example:

POSTGRES_PASSWORD: qwerty (—É –≤–∞—Å –≤ .env —Å—Ç–æ–∏—Ç 1)

PG_META_CRYPTO_KEY: your-encryption-key-32-chars-min

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –≤–∞—à–µ–º .env —Ñ–∞–π–ª–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∏ –æ–Ω –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:

bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è
docker compose -f ./supabase-project/docker-compose.yml config | grep -E "(POSTGRES_PASSWORD|PG_META_CRYPTO_KEY)" | head -5
‚úÖ –ö—Ä–∞—Ç–∫–∏–π —á–µ–∫-–ª–∏—Å—Ç
–î–æ–±–∞–≤–∏—Ç—å ports: - "3000:3000" –≤ —Å–µ–∫—Ü–∏—é studio: –≤ docker-compose.yml

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ .env —Ñ–∞–π–ª –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ, —á—Ç–æ –∏ docker-compose.yml

–ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å --force-recreate

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç—ã –≤ docker compose ps

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è ports: –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Studio —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ localhost:3000.

This response is AI-generated, for reference only.
# https://taskfile.dev

version: '3'

dotenv: ['supabase-project/.env']

vars:
  GREETING: Hello, World!

tasks:
  pull:
    cmds:
    - docker compose -f ./supabase-project/docker-compose.yml -f  pgAdmin_compose.yml pull
  db_restart:
    cmds:
    - docker compose -f ./supabase-project/docker-compose.yml -f  pgAdmin_compose.yml restart db
  up:
    cmds:
      - docker compose -f ./supabase-project/docker-compose.yml -f  pgAdmin_compose.yml up -d
  ps:
    cmds:
      - docker compose -f ./supabase-project/docker-compose.yml -f  pgAdmin_compose.yml ps
  down:
    cmds:
      - docker compose -f ./supabase-project/docker-compose.yml -f  pgAdmin_compose.yml down     
  pgadmin:
    cmds:
      - docker compose -f pgAdmin_compose.yml up -d pgadmin
  spgadmin:
    cmds:
      - docker compose -f pgAdmin_compose.yml down
  logs:
    cmds:
      - docker compose -f pgAdmin_compose.yml logs pgadmin
$ docker compose -f ./supabase-project/docker-compose.yml up -d --force-recreate studio
WARN[0000] Found orphan containers ([supabase-pgadmin-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up. 
[+] up 4/4
 ‚úî Container supabase-vector    Healthy                                                                                                                                                               0.8s 
 ‚úî Container supabase-db        Healthy                                                                                                                                                               1.3s 
 ‚úî Container supabase-analytics Healthy                                                                                                                                                               1.8s 
 ‚úî Container supabase-studio    Recreated                                                                                                                                                             0.3s 
ivi@ivi-home:~/mywork/tao/taoinfra$ docker compose -f ./supabase-project/docker-compose.yml ps studio
NAME              IMAGE                                    COMMAND                  SERVICE   CREATED         STATUS                   PORTS
supabase-studio   supabase/studio:2025.12.17-sha-43f4f7f   "docker-entrypoint.s‚Ä¶"   studio    9 seconds ago   Up 7 seconds (healthy)   3000/tcp
ivi@ivi-home:~/mywork/tao/taoinfra$
–û—Ç–ª–∏—á–Ω–æ! –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω, –Ω–æ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è: –ø–æ—Ä—Ç 3000 –≤—Å—ë –µ—â—ë –Ω–µ –ø—Ä–æ–±—Ä–æ—à–µ–Ω –Ω–∞ —Ö–æ—Å—Ç (3000/tcp –≤–º–µ—Å—Ç–æ 0.0.0.0:3000->3000/tcp).

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ docker-compose.yml –Ω–µ –±—ã–ª–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ –∏–ª–∏ Docker Compose –µ–≥–æ –Ω–µ –≤–∏–¥–∏—Ç.

üîç –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ:

bash
# 1. –ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å–µ–∫—Ü–∏—é studio –≤ –ò–°–•–û–î–ù–û–ú —Ñ–∞–π–ª–µ
grep -n -A20 "studio:" ./supabase-project/docker-compose.yml | head -30

# 2. –ü—Ä–æ–≤–µ—Ä–∏–º, –µ—Å—Ç—å –ª–∏ —Ç–∞–º ports:
grep -n -B5 -A5 "ports:" ./supabase-project/docker-compose.yml

# 3. –ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –≤–µ—Å—å —Ñ–∞–π–ª –≤–æ–∫—Ä—É–≥ studio
sed -n '/^  studio:/,/^  [a-z]/p' ./supabase-project/docker-compose.yml | head -40
üõ†Ô∏è –ü—Ä—è–º–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å
–ü–æ–∫–∞ —Ä–∞–∑–±–∏—Ä–∞–µ–º—Å—è —Å —Ñ–∞–π–ª–æ–º, –¥–∞–≤–∞–π—Ç–µ –∏—Å–ø—Ä–∞–≤–∏–º —ç—Ç–æ –Ω–∞–ø—Ä—è–º—É—é:

–°–ø–æ—Å–æ–± 1: –î–æ–±–∞–≤–∏—Ç—å ports —á–µ—Ä–µ–∑ docker-compose –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

bash
# –°–æ–∑–¥–∞–¥–∏–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
cat > fix-ports.yml << 'EOF'
services:
  studio:
    ports:
      - "3000:3000"
EOF

# –ü—Ä–∏–º–µ–Ω–∏–º –µ–≥–æ –≤–º–µ—Å—Ç–µ —Å –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ–∞–π–ª–æ–º
docker compose -f ./supabase-project/docker-compose.yml -f fix-ports.yml up -d --force-recreate studio

# –ü—Ä–æ–≤–µ—Ä–∏–º
docker compose -f ./supabase-project/docker-compose.yml -f fix-ports.yml ps studio
–°–ø–æ—Å–æ–± 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ sed

bash
# –î–æ–±–∞–≤–∏–º ports –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ —Å 'restart: unless-stopped' –≤ —Å–µ–∫—Ü–∏–∏ studio
sed -i '/^  studio:/,/^  [a-z]/ {
  /restart: unless-stopped/a\
    ports:\
      - "3000:3000"
}' ./supabase-project/docker-compose.yml

# –ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å
grep -n -A5 "studio:" ./supabase-project/docker-compose.yml | grep -A10 "restart"

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–¥–∏–º
docker compose -f ./supabase-project/docker-compose.yml up -d --force-recreate studio
docker compose -f ./supabase-project/docker-compose.yml ps studio
üìù –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –∏—Ç–æ–≥–µ
–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ü–∏—è studio: –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–æ—á–Ω–æ —Ç–∞–∫:

yaml
  studio:
    container_name: supabase-studio
    image: supabase/studio:2025.12.09-sha-434634f
    restart: unless-stopped
    ports:
      - "3000:3000"
    healthcheck:
      test:
        [
          "CMD",
          "node",
          "-e",
          "fetch('http://studio:3000/api/platform/profile').then((r) => {if (r.status !== 200) throw new Error(r.status)})"
        ]
      timeout: 10s
      interval: 5s
      retries: 3
    depends_on:
      analytics:
        condition: service_healthy
‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
–ù–µ–≤–µ—Ä–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã (YAML —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ –ø—Ä–æ–±–µ–ª–∞–º):

ports: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —Ç–æ–º –∂–µ —É—Ä–æ–≤–Ω–µ, —á—Ç–æ –∏ restart:

- "3000:3000" –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –Ω–∞ 2 –ø—Ä–æ–±–µ–ª–∞ –±–æ–ª—å—à–µ

–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–∏ studio: –≤ —Ñ–∞–π–ª–µ:

bash
grep -n "^  studio:" ./supabase-project/docker-compose.yml
–ï—Å–ª–∏ –Ω–∞–π–¥—ë—Ç—Å—è –±–æ–ª—å—à–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –∑–Ω–∞—á–∏—Ç –µ—Å—Ç—å –¥—É–±–ª–∏–∫–∞—Ç —Å–µ–∫—Ü–∏–∏.

–§–∞–π–ª –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–µ:

bash
file ./supabase-project/docker-compose.yml
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: ASCII text –∏–ª–∏ UTF-8 Unicode text
üöÄ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –°–ø–æ—Å–æ–± 1 ‚Äî –æ–Ω —Ç–æ—á–Ω–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ–∞–π–ª–æ–º:

bash
# 1. –°–æ–∑–¥–∞–¥–∏–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
cat > /tmp/fix.yml << 'EOF'
services:
  studio:
    ports:
      - "3000:3000"
EOF

# 2. –ü—Ä–∏–º–µ–Ω–∏–º
docker compose -f ./supabase-project/docker-compose.yml -f /tmp/fix.yml up -d --force-recreate studio

# 3. –ü—Ä–æ–≤–µ—Ä–∏–º
docker compose -f ./supabase-project/docker-compose.yml -f /tmp/fix.yml ps studio | grep -o "0.0.0.0:3000->3000/tcp"
–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ 0.0.0.0:3000->3000/tcp ‚Äî –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç! Studio –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:3000.

–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–∞–Ω–¥—ã grep -n -A20 "studio:" ./supabase-project/docker-compose.yml | head -30 ‚Äî —è —É–≤–∏–∂—É, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –≤ –≤–∞—à–µ–º —Ñ–∞–π–ª–µ, –∏ –ø–æ–º–æ–≥—É –∏—Å–ø—Ä–∞–≤–∏—Ç—å –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

a$ nc -zv localhost 3000
Connection to localhost (127.0.0.1) 3000 port [tcp/*] succeeded!
ivi@ivi-home:~/mywork/tao/taoinfra$ curl http://localhost:3000
/project/defaultivi@ivi-home:~/mywordocker compose -f ./supabase-project/docker-compose.yml logs studio
supabase-studio  |    ‚ñ≤ Next.js 16.0.10
supabase-studio  |    - Local:         http://[::1]:3000
supabase-studio  |    - Network:       http://[::]:3000
supabase-studio  | 
supabase-studio  |  ‚úì Starting...
supabase-studio  |  ‚úì Ready in 254ms
ivi@ivi-home:~/mywork/tao/taoinfra$ curl http://localhost:3000
/project/defaultivi@ivi-home:~/mywornc -zv localhost 3000.yml logs studio
Connection to localhost (127.0.0.1) 3000 port [tcp/*] succeeded!
ivi@ivi-home:~/mywork/tao/taoinfra$ docker compose -f ./supabase-project/docker-compose.yml ps studio
NAME              IMAGE                                    COMMAND                  SERVICE   CREATED         STATUS                   PORTS
supabase-studio   supabase/studio:2025.12.17-sha-43f4f7f   "docker-entrypoint.s‚Ä¶"   studio    3 minutes ago   Up 3 minutes (healthy)   0.0.0.0:3000->3000/tcp, [::]:3000->3000/tcp
ivi@ivi-home:~/mywork/tao/taoinfra$
üéâ –û—Ç–ª–∏—á–Ω–æ! –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

–¢–µ–ø–µ—Ä—å –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

‚úÖ –ü–æ—Ä—Ç 3000 –ø—Ä–æ–±—Ä–æ—à–µ–Ω: 0.0.0.0:3000->3000/tcp, [::]:3000->3000/tcp

‚úÖ –ü–æ—Ä—Ç –¥–æ—Å—Ç—É–ø–µ–Ω: nc -zv localhost 3000 —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è

‚úÖ Studio –æ—Ç–≤–µ—á–∞–µ—Ç: curl http://localhost:3000 –≤–µ—Ä–Ω—É–ª /project/default

‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–¥–æ—Ä–æ–≤: Up 3 minutes (healthy)

üåê –¢–µ–ø–µ—Ä—å Studio –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å–∞–º:
http://localhost:3000 (–æ—Å–Ω–æ–≤–Ω–æ–π)

http://127.0.0.1:3000 (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π)

üîë –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:
–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ http://localhost:3000

–í–æ–π–¥–∏—Ç–µ –≤ Studio, –∏—Å–ø–æ–ª—å–∑—É—è –∫–ª—é—á–∏ –∏–∑ –≤–∞—à–µ–≥–æ .env —Ñ–∞–π–ª–∞:

ANON_KEY –∏–ª–∏ SERVICE_ROLE_KEY

–ü—Ä–∏–º–µ—Ä –∫–ª—é—á–∞: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

üìù –ï—Å–ª–∏ Studio –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ –≤—Ö–æ–¥–µ:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—é—á–∏ –≤ .env —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å —Ç–µ–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ANON_KEY
grep ANON_KEY ./supabase-project/.env
üöÄ –í–∞—à self-hosted Supabase –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤!
–¢–µ–ø–µ—Ä—å —É –≤–∞—Å —Ä–∞–±–æ—Ç–∞—é—Ç:

Studio (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å) –Ω–∞ –ø–æ—Ä—Ç—É 3000

API (Kong/PostgREST) –Ω–∞ –ø–æ—Ä—Ç—É 8000

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL) –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ pgAdmin

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Auth) –Ω–∞ –ø–æ—Ä—Ç—É 9999

Realtime –Ω–∞ –ø–æ—Ä—Ç—É 4000

Storage –¥–ª—è —Ñ–∞–π–ª–æ–≤

‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ –¥–ª—è production:
–°–º–µ–Ω–∏—Ç–µ –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –∏ –∫–ª—é—á–∏ –≤ .env —Ñ–∞–π–ª–µ (–æ—Å–æ–±–µ–Ω–Ω–æ POSTGRES_PASSWORD=1 –∏ JWT_SECRET)

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS —á–µ—Ä–µ–∑ reverse proxy (Nginx/Caddy)

–†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

Studio —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω! –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –≤–∞—à–∏–º self-hosted Supabase. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, storage), –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å!

# https://taskfile.dev

version: '3'

dotenv: ['supabase-project/.env']

vars:
  GREETING: Hello, World!

tasks:
  pull:
    cmds:
    - docker compose -f ./supabase-project/docker-compose.yml -f  pgAdmin_compose.yml pull
  db_restart:
    cmds:
    - docker compose -f ./supabase-project/docker-compose.yml -f  pgAdmin_compose.yml restart db
  up:
    cmds:
      - docker compose -f ./supabase-project/docker-compose.yml -f  pgAdmin_compose.yml up -d
  ps:
    cmds:
      - docker compose -f ./supabase-project/docker-compose.yml -f  pgAdmin_compose.yml ps
  down:
    cmds:
      - docker compose -f ./supabase-project/docker-compose.yml -f  pgAdmin_compose.yml down     
  pgadmin:
    cmds:
      - docker compose -f pgAdmin_compose.yml up -d pgadmin
  spgadmin:
    cmds:
      - docker compose -f pgAdmin_compose.yml down
  logs:
    cmds:
      - docker compose -f pgAdmin_compose.yml logs pgadmin
–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–µ–¥—å –ø—Ä–æ–±—Ä–æ—Å—è—Ç—Å—è –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ env —Ñ–∞–π–ª–∞ ?
–ù–µ—Ç, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ .env —Ñ–∞–π–ª–∞ –ù–ï –ø—Ä–æ–±—Ä–æ—Å—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —á–µ—Ä–µ–∑ Taskfile.

Taskfile –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Ç–æ–ª—å–∫–æ –≤ —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Å—Ä–µ–¥—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ cmds:), –Ω–æ –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç –∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ Docker Compose.

üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
yaml
dotenv: ['supabase-project/.env']  # Taskfile –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –°–ï–ë–ï
vars:
  GREETING: Hello, World!

tasks:
  up:
    cmds:
      # Docker Compose –¥–æ–ª–∂–µ–Ω –°–ê–ú –∑–∞–≥—Ä—É–∑–∏—Ç—å .env —Ñ–∞–π–ª
      - docker compose -f ./supabase-project/docker-compose.yml -f pgAdmin_compose.yml up -d
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ø–µ—Ä–µ–¥–∞—á–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ Docker Compose:
–°–ø–æ—Å–æ–± 1: –£–∫–∞–∑–∞—Ç—å .env —Ñ–∞–π–ª –≤ –∫–æ–º–∞–Ω–¥–µ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
yaml
tasks:
  up:
    cmds:
      - docker compose --env-file ./supabase-project/.env -f ./supabase-project/docker-compose.yml -f pgAdmin_compose.yml up -d
–°–ø–æ—Å–æ–± 2: –ü–µ—Ä–µ–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
yaml
tasks:
  up:
    cmds:
      # Taskfile –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ dotenv
      - POSTGRES_PASSWORD={{.POSTGRES_PASSWORD}} docker compose -f ./supabase-project/docker-compose.yml -f pgAdmin_compose.yml up -d
–°–ø–æ—Å–æ–± 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å env_file –≤ docker-compose.yml
–í —Å–∞–º–æ–º docker-compose.yml —É–∫–∞–∑–∞—Ç—å:

yaml
services:
  db:
    env_file:
      - ./supabase-project/.env
üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π Taskfile:
yaml
version: '3'

dotenv: ['supabase-project/.env']  # –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —à–∞–±–ª–æ–Ω–∞—Ö Taskfile

vars:
  DOCKER_COMPOSE_FILES: "./supabase-project/docker-compose.yml pgAdmin_compose.yml"

tasks:
  pull:
    cmds:
      - docker compose --env-file ./supabase-project/.env -f ./supabase-project/docker-compose.yml -f pgAdmin_compose.yml pull
  
  up:
    cmds:
      - docker compose --env-file ./supabase-project/.env -f ./supabase-project/docker-compose.yml -f pgAdmin_compose.yml up -d
  
  ps:
    cmds:
      - docker compose --env-file ./supabase-project/.env -f ./supabase-project/docker-compose.yml -f pgAdmin_compose.yml ps
  
  down:
    cmds:
      - docker compose --env-file ./supabase-project/.env -f ./supabase-project/docker-compose.yml -f pgAdmin_compose.yml down
  
  # –ü—Ä–∏–º–µ—Ä —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Taskfile –≤ –∫–æ–º–∞–Ω–¥–µ
  check_vars:
    cmds:
      - echo "DB password from .env: {{.POSTGRES_PASSWORD}}"
      - echo "JWT secret from .env: {{.JWT_SECRET}}"
üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:
bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–¥–∞—á—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
task check_vars

# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Docker Compose –≤–∏–¥–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
docker compose --env-file ./supabase-project/.env config | grep -E "(POSTGRES_PASSWORD|JWT_SECRET)"
‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ:
–í –≤–∞—à–µ–º —Ç–µ–∫—É—â–µ–º Taskfile –∫–æ–º–∞–Ω–¥–∞ pgadmin –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ pgAdmin_compose.yml, –±–µ–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ Supabase –∏ –±–µ–∑ .env:

yaml
  pgadmin:
    cmds:
      - docker compose -f pgAdmin_compose.yml up -d pgadmin  # –ù–ï–¢ --env-file!
–ï—Å–ª–∏ pgadmin —Ç–æ–∂–µ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ .env, –∏—Å–ø—Ä–∞–≤—å—Ç–µ:

yaml
  pgadmin:
    cmds:
      - docker compose --env-file ./supabase-project/.env -f pgAdmin_compose.yml up -d pgadmin
üí° –ò—Ç–æ–≥:
Taskfile –∑–∞–≥—Ä—É–∂–∞–µ—Ç .env –¥–ª—è —Å–µ–±—è, –Ω–æ –Ω–µ –¥–ª—è –¥–æ—á–µ—Ä–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

Docker Compose –Ω—É–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å --env-file

–õ–∏–±–æ –ø–æ–ª–æ–∂–∏—Ç—å .env –≤ —Ç—É –∂–µ –ø–∞–ø–∫—É, —á—Ç–æ –∏ docker-compose.yml (—Ç–æ–≥–¥–∞ Docker Compose –Ω–∞–π–¥—ë—Ç –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

–†–µ–∫–æ–º–µ–Ω–¥—É—é –¥–æ–±–∞–≤–∏—Ç—å --env-file ./supabase-project/.env –∫–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º Docker Compose –≤ –≤–∞—à–µ–º Taskfile.



