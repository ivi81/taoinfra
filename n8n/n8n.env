# ============================================================================
# ФАЙЛ КОНФИГУРАЦИИ N8N ДЛЯ DOCKER COMPOSE
# ============================================================================
# ВАЖНО: 
# 1. Этот файл содержит СЕКРЕТНЫЕ ДАННЫЕ. Не коммитьте его в Git!
# 2. В продакшене ЗАМЕНИТЕ ВСЕ значения ниже на СВОИ уникальные и надежные.
# 3. После редактирования сохраните файл в той же папке, где лежит docker-compose.yml
# ============================================================================

# ============================================================================
# БАЗОВЫЕ НАСТРОЙКИ
# ============================================================================

# Часовой пояс для планировщика n8n (Cron/Schedule триггеры)
# Примеры: Europe/Moscow, Asia/Vladivostok, Etc/UTC
GENERIC_TIMEZONE=Europe/Moscow

# Системный часовой пояс внутри контейнера (должен совпадать с GENERIC_TIMEZONE)
TZ=Europe/Moscow

# ============================================================================
# БЕЗОПАСНОСТЬ И АУТЕНТИФИКАЦИЯ (ОБЯЗАТЕЛЬНО ДЛЯ ПРОДАКШЕНА!)
# ============================================================================

# Включение базовой аутентификации (запрос логина/пароля при входе)
# true - включить, false - выключить (НЕ РЕКОМЕНДУЕТСЯ)
N8N_BASIC_AUTH_ACTIVE=true

# Логин для входа в веб-интерфейс
N8N_BASIC_AUTH_USER=admin

# Пароль для входа в веб-интерфейс
N8N_BASIC_AUTH_PASSWORD=your_strong_password_here

# КЛЮЧ ШИФРОВАНИЯ - САМЫЙ ВАЖНЫЙ ПАРАМЕТР!
# Шифрует все сохраненные учетные данные (API-ключи, пароли и т.д.)
# Длина: минимум 16 символов, рекомендуется 32+ случайных символа
# СГЕНЕРИРУЙТЕ УНИКАЛЬНЫЙ КЛЮЧ для каждого развертывания!
# Если измените этот ключ после начала использования - все сохраненные
# учетные данные станут нечитаемыми!
N8N_ENCRYPTION_KEY=your_super_secret_random_encryption_key_min_16_chars

# ============================================================================
# НАСТРОЙКИ БАЗЫ ДАННЫХ (ОПЦИОНАЛЬНО)
# ============================================================================
# По умолчанию n8n использует SQLite (файл в volume).
# Для продакшена рекомендуется PostgreSQL.

# Тип базы данных: sqlite или postgresdb
# DB_TYPE=postgresdb

# Настройки PostgreSQL (раскомментируйте, если используете DB_TYPE=postgresdb)
# DB_POSTGRESDB_HOST=postgres
# DB_POSTGRESDB_PORT=5432
# DB_POSTGRESDB_DATABASE=n8n
# DB_POSTGRESDB_USER=n8n_user
# DB_POSTGRESDB_PASSWORD=strong_postgres_password_here
# DB_POSTGRESDB_SCHEMA=public

# ============================================================================
# ПРОИЗВОДИТЕЛЬНОСТЬ И ДОПОЛНИТЕЛЬНЫЕ ФУНКЦИИ
# ============================================================================

# Включить "исполнителей задач" (task runners) - современный движок выполнения
# true - рекомендуется для лучшей производительности
N8N_RUNNERS_ENABLED=true

# Публичный URL вашего n8n (обязательно для работы вебхуков!)
# Пример: https://n8n.yourdomain.com или http://ваш-ip:5678
# WEBHOOK_URL=https://n8n.example.com

# Режим выполнения: regular или queue
# Для простых установок оставьте "regular", для масштабирования используйте "queue"
# EXECUTIONS_MODE=regular

# ============================================================================
# СЕТЕВЫЕ НАСТРОЙКИ
# ============================================================================

# Порт, на котором работает n8n внутри контейнера (не менять без необходимости)
N8N_PORT=5678

# Хост, на котором будет слушать n8n (0.0.0.0 = слушать все интерфейсы)
N8N_HOST=0.0.0.0

# ============================================================================
# ЛОГИРОВАНИЕ И ДЕБАГ
# ============================================================================

# Уровень логирования: error, warn, info, debug
N8N_LOG_LEVEL=info

# Куда писать логи: console, file, console,file
N8N_LOG_OUTPUT=console

# Путь к файлу логов (если используется file)
N8N_LOG_FILE_LOCATION=/home/node/.n8n/logs/n8n.log

# Размер файла перед ротацией (в мегабайтах)
N8N_LOG_FILE_MAX_SIZE=16

# Сколько файлов логов хранить
N8N_LOG_FILE_MAX_COUNT=100