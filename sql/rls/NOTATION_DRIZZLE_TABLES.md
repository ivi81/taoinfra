# üóÑÔ∏è –¢–∞–±–ª–∏—Ü–∞ —Å—Ö–µ–º—ã Drizzle –≤ Supabase

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Å—Ö–µ–º–µ `drizzle` –≤–∞—à–µ–≥–æ self-hosted Supabase.

| –¢–∞–±–ª–∏—Ü–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- |
| **`__drizzle_migrations`** | **–°–∏—Å—Ç–µ–º–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ ORM Drizzle.** –û–Ω–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±—ã–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫ —Ç–µ–∫—É—â–µ–π —Å—Ö–µ–º–µ. |

---

# üìù –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π —Ç–∞–±–ª–∏—Ü—ã `__drizzle_migrations`

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º **Drizzle Kit/ORM** –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π. –¢—Ä–æ–≥–∞—Ç—å –µ—ë –≤—Ä—É—á–Ω—É—é –æ–±—ã—á–Ω–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

–≠—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å–ª—É–∂–∏—Ç **–∂—É—Ä–Ω–∞–ª–æ–º –º–∏–≥—Ä–∞—Ü–∏–π**. –ï—ë —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –¥–ª—è Drizzle ORM –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏.

| –ü–æ–ª–µ (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ) | –¢–∏–ø (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π) | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **`id`** | `SERIAL` / `INTEGER` | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ –≤ –∂—É—Ä–Ω–∞–ª–µ. |
| **`hash`** | `VARCHAR` / `TEXT` | **–£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ö—ç—à-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ñ–∞–π–ª–∞ –º–∏–≥—Ä–∞—Ü–∏–∏.** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–µ –ø–æ–ª–µ. Drizzle –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ö—ç—à –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞ SQL-–º–∏–≥—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `a1b2c3d4...`). –ü–æ —ç—Ç–æ–º—É —Ö—ç—à—É –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, –±—ã–ª–∞ –ª–∏ —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è. |
| **`created_at`** | `BIGINT` –∏–ª–∏ `TIMESTAMP` | –í—Ä–µ–º—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏. –û–±—ã—á–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ Unix-epoch –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1717677105000`). |
| **`drizzle_version`** | `VARCHAR` / `TEXT` | –í–µ—Ä—Å–∏—è Drizzle ORM, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω–∏–ª–∞ —ç—Ç—É –º–∏–≥—Ä–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `0.30.0`). –ü–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. |

### üõ†Ô∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ (–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –º–∏–≥—Ä–∞—Ü–∏–∏):
1.  **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫** —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `0001_initial_schema.sql`).
2.  **Drizzle Kit** –≤—ã—á–∏—Å–ª—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `hash` –æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞.
3.  **–ü–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º** Drizzle –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤ `__drizzle_migrations`, –Ω–µ—Ç –ª–∏ —É–∂–µ –∑–∞–ø–∏—Å–∏ —Å —Ç–∞–∫–∏–º `hash`.
4.  **–ï—Å–ª–∏ –∑–∞–ø–∏—Å–∏ –Ω–µ—Ç:** Drizzle –≤—ã–ø–æ–ª–Ω—è–µ—Ç SQL-—Å–∫—Ä–∏–ø—Ç –∏–∑ —Ñ–∞–π–ª–∞ –º–∏–≥—Ä–∞—Ü–∏–∏, –∞ –∑–∞—Ç–µ–º **–≤—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É** –≤ `__drizzle_migrations` —Å `hash`, –≤—Ä–µ–º–µ–Ω–µ–º (`created_at`) –∏ –≤–µ—Ä—Å–∏–µ–π.
5.  **–ï—Å–ª–∏ –∑–∞–ø–∏—Å—å –µ—Å—Ç—å:** Drizzle –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —ç—Ç—É –º–∏–≥—Ä–∞—Ü–∏—é, —Å—á–∏—Ç–∞—è –µ—ë —É–∂–µ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω–æ–π.

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –≤—ã–≤–æ–¥—ã:
*   **–ù–µ —É–¥–∞–ª—è–π—Ç–µ –∏ –Ω–µ –º–µ–Ω—è–π—Ç–µ —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É –≤—Ä—É—á–Ω—É—é**, –µ—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã –Ω–∞ 100% –≤ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è—Ö. –≠—Ç–æ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–π.
*   **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏:** –ù–∞–ª–∏—á–∏–µ —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü—ã –≤ –≤–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Drizzle ORM** –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ **Drizzle Kit**.
*   **–ü—É—Å—Ç–∞—è —Ç–∞–±–ª–∏—Ü–∞?** –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –ø—É—Å—Ç–∞, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –º–∏–≥—Ä–∞—Ü–∏–π Drizzle –±—ã–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω (—Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞), –Ω–æ **–Ω–∏ –æ–¥–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –µ—â—ë –Ω–µ –±—ã–ª–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞** –∫ —ç—Ç–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é `drizzle-kit migrate`.
*   –ï—Å–ª–∏ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Drizzle ORM –≤ —Å–≤–æ—ë–º –ø—Ä–æ–µ–∫—Ç–µ, –Ω–∞–ª–∏—á–∏–µ —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü—ã –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–µ–¥—Å—Ç–≤–∏–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–¥–∞ –∏–ª–∏ –æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–º. –ï—ë –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å (`DROP TABLE drizzle.__drizzle_migrations;`), –µ—Å–ª–∏ –≤—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –æ–Ω–∞ –Ω–µ –Ω—É–∂–Ω–∞.